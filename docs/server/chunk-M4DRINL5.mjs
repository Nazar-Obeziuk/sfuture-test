import './polyfills.server.mjs';
import{B as D,C as h,E as x,F as E,H as p,I as R,K as o,L as U,P as i}from"./chunk-5IG6QJXX.mjs";import{n as l,q as m}from"./chunk-KQAQM22D.mjs";import{a as f,h as d}from"./chunk-MZKWKPOA.mjs";var g=(()=>{let r=class r{constructor(s){this.afs=s,this.userCollection=D(this.afs,"users")}getAllUsers(){return x(this.userCollection,{idField:"id"})}getOneUser(s){let e=o(this.afs,`users/${s}`);return E(e,{idField:"id"})}setUserExercise(s,e){let t=o(this.afs,"users",s);return i(t,{userExercises:R(e)})}updateUser(s,e){let t=o(this.afs,`users/${e}`);return i(t,f({},s))}updateUserExercise(s,e,t){return d(this,null,function*(){let u=o(this.afs,"users",s),n=(yield U(u)).data(),a=n.userExercises.findIndex(y=>y.id===e);return a!==-1?(n.userExercises[a]=t,i(u,{userExercises:n.userExercises})):(console.error(`Exercise with ID ${e} not found in userExercises`),Promise.reject(`Exercise with ID ${e} not found in userExercises`))})}deleteUserExercise(s,e){let t=o(this.afs,"users",s);return i(t,{userExercises:p(e)})}};r.\u0275fac=function(e){return new(e||r)(m(h))},r.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();export{g as a};
