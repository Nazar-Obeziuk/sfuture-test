import{a as S}from"./chunk-7JM5YIYR.js";import{a as J}from"./chunk-KQNCCB3Z.js";import{$ as x,A as v,E as a,F as f,J as b,L as T,M as E,N as C,O as U,P as j,Q as D,R as n,S as r,T as g,U as O,W as p,X as l,Z as s,_ as m,ba as M,ca as F,da as z,ea as L,ja as $,l as y,na as B,o as w,ob as I,p as P,pa as Y,qa as k,t as u,ta as V,u as h}from"./chunk-RCXM74FE.js";function Q(t,i){t&1&&(n(0,"span"),s(1,"..."),r())}var A=t=>["/exercises",t];function W(t,i){if(t&1){let c=O();n(0,"div",13)(1,"div",14)(2,"div",15),s(3),r(),n(4,"div",16)(5,"h3",17),s(6),z(7,"slice"),E(8,Q,2,0,"span"),r(),n(9,"p",18),s(10),r()(),n(11,"div",19)(12,"button",20),s(13,"Start Training"),r()()(),n(14,"div",21),g(15,"img",22),r(),n(16,"div",23),p("click",function(){let _=u(c).$implicit,d=l(2);return h(d.deleteUserExercise(_))}),g(17,"img",24),r()()}if(t&2){let c=i.$implicit;a(3),m(c.category.name),a(3),x(" ",L(7,7,c.name,0,10)," "),a(2),C(8,c.name.length>=10?8:-1),a(2),x("Duration - ",c.duration," min"),a(2),b("routerLink",F(11,A,c.id)),a(3),b("routerLink",F(13,A,c.id))("src",c.imagePath,v)}}function Z(t,i){t&1&&(n(0,"div",25)(1,"h2",26),s(2,"You have not added any exercises yet"),r()())}function ee(t,i){if(t&1&&(n(0,"div",10)(1,"div",11)(2,"div",12),j(3,W,18,15,"div",27,U,!1,Z,3,0),r()()()),t&2){let c=l();a(3),D(c.userExerciseList)}}function te(t,i){t&1&&(n(0,"span"),s(1,"..."),r())}function ie(t,i){if(t&1&&(n(0,"div",13)(1,"div",14)(2,"div",15),s(3),r(),n(4,"div",16)(5,"h3",17),s(6),z(7,"slice"),E(8,te,2,0,"span"),r(),n(9,"p",18),s(10),r()(),n(11,"div",30),g(12,"img",31),n(13,"p",32),s(14,"Completed"),r()()(),n(15,"div",21),g(16,"img",33),r()()),t&2){let c=i.$implicit;a(3),m(c.category.name),a(3),x(" ",L(7,5,c.name,0,10)," "),a(2),C(8,c.name.length>=10?8:-1),a(2),x("Duration - ",c.duration," min"),a(6),b("src",c.imagePath,v)}}function ne(t,i){t&1&&(n(0,"div",25)(1,"h2",26),s(2,"You have not done any exercises yet"),r()())}function re(t,i){if(t&1&&(n(0,"div",10)(1,"div",28)(2,"div",29),j(3,ie,17,9,"div",27,U,!1,ne,3,0),r()()()),t&2){let c=l();a(3),D(c.userCompletedExerciseList)}}var X=(()=>{let i=class i{constructor(o,e){this.userExerciseService=o,this.toastr=e,this.userExerciseList=[],this.userCompletedExerciseList=[],this.isCompletedExercise=!1;let _=new Date,d=new Date(_);d.setDate(_.getDate()),this.todaysDate=d.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}ngOnInit(){this.getUserExercises(),this.getUserCompletedExercises()}getPersonalData(){let o=localStorage.getItem("currentUser");this.currentUserId=o?JSON.parse(o):void 0}getUserExercises(){localStorage.getItem("currentUser")&&(this.getPersonalData(),this.userExerciseService.getOneUser(this.currentUserId?.uid).subscribe(o=>{let e=o;this.userExerciseList=e.userExercises.filter(_=>_.completed===!1)}))}getUserCompletedExercises(){localStorage.getItem("currentUser")&&(this.getPersonalData(),this.userExerciseService.getOneUser(this.currentUserId?.uid).subscribe(o=>{let e=o;this.userCompletedExerciseList=e.userExercises.filter(_=>_.completed===!0)}))}deleteUserExercise(o){this.getPersonalData(),this.userExerciseService.deleteUserExercise(this.currentUserId?.uid,o).then(()=>{this.getUserExercises(),this.toastr.success("The exercise was successfully deleted")}).catch(e=>{this.toastr.error("Something went wrong"),console.log(e)})}toggleProcessExercises(){this.isCompletedExercise=!1}toggleCompletedExercises(){this.isCompletedExercise=!0}};i.\u0275fac=function(e){return new(e||i)(f(S),f(I))},i.\u0275cmp=w({type:i,selectors:[["app-exercise"]],standalone:!0,features:[M],decls:15,vars:8,consts:[[1,"container"],[1,"wrapper"],[1,"exercise__header"],[1,"exercise__header_info"],[1,"exercise__header_title"],[1,"exercise__header_text"],[1,"exercise__header_inner"],[1,"exercise__header_progress",3,"click"],[1,"exercise__header_completed",3,"click"],["class","exercise__main"],[1,"exercise__main"],[1,"exercise__main_wrapper"],[1,"exercise__main_inner"],[1,"exercise__main_item"],[1,"exercise__item_info"],[1,"item__info_category"],[1,"item__info_text"],[1,"info__text_name"],[1,"info__text_duration"],[1,"item__info_button"],["type","button",1,"info__button",3,"routerLink"],[1,"exercise__item_banner"],["alt","",1,"item__banner_image",3,"routerLink","src"],[1,"exercise__item_delete",3,"click"],["src","assets/images/delete-icon.svg","alt","",1,"item__delete_icon"],[1,"completed__empty_block"],[1,"completed__empty_text"],["class","exercise__main_item"],[1,"completed__exercise_wrapper"],[1,"exercise__completed_inner"],[1,"item__info_completed"],["src","assets/images/completed-icon.svg","alt","",1,"info__completed_icon"],[1,"info__completed_text"],["alt","",1,"item__banner_image",3,"src"]],template:function(e,_){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),s(5),r(),n(6,"p",5),s(7),r()(),n(8,"div",6)(9,"button",7),p("click",function(){return _.toggleProcessExercises()}),s(10,"In Process"),r(),n(11,"button",8),p("click",function(){return _.toggleCompletedExercises()}),s(12,"Completed"),r()()(),E(13,ee,6,1,"div",9)(14,re,6,1,"div",9),r()()),e&2&&(a(5),m(_.isCompletedExercise?"Your Completed Exercises":"Your Exercises In Progress"),a(2),m(_.isCompletedExercise?"Your completed exercises are displayed here":"Choose one and start training"),a(2),T("active__inner",!_.isCompletedExercise),a(2),T("active__inner",_.isCompletedExercise),a(2),C(13,_.isCompletedExercise?-1:13),a(),C(14,_.isCompletedExercise?14:-1))},dependencies:[J,k],styles:[".exercise__header[_ngcontent-%COMP%]{padding:30px 30px 0;display:flex;align-items:center;justify-content:space-between}.exercise__header_title[_ngcontent-%COMP%]{color:#212121}.exercise__header_text[_ngcontent-%COMP%]{margin-top:10px;color:#7e7e7e}.exercise__header_inner[_ngcontent-%COMP%]{width:228px;height:44px;background:#f5f5f5;border-radius:20px;display:flex;align-items:center;justify-content:center;padding:4px}.exercise__header_progress[_ngcontent-%COMP%], .exercise__header_completed[_ngcontent-%COMP%]{width:50%;height:100%;background:none;border-radius:20px;border:none;font-size:14px;color:#007efe;cursor:pointer;outline:none}.exercise__main[_ngcontent-%COMP%]{width:100%;height:570px;background:#f5f5f5;border-radius:0 0 10px;margin-top:24px}.exercise__main_wrapper[_ngcontent-%COMP%]{width:100%;height:100%;padding:10px 30px;position:relative}.exercise__main_category[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.exercise__main_inner[_ngcontent-%COMP%]{max-height:540px;width:100%;position:absolute;display:flex;flex-wrap:wrap;padding-top:20px;gap:10px;overflow:scroll}.exercise__main_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__main_item[_ngcontent-%COMP%]{width:320px;height:140px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;cursor:pointer;position:relative}.exercise__completed_inner[_ngcontent-%COMP%]{max-height:540px;width:100%;padding-top:20px;display:flex;flex-wrap:wrap;gap:10px;overflow:scroll}.exercise__completed_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__item_info[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:column;padding:10px}.exercise__item_banner[_ngcontent-%COMP%]{width:140px;height:140px}.exercise__item_delete[_ngcontent-%COMP%]{width:26px;height:26px;background:#007EFE;display:flex;align-items:center;justify-content:center;border-radius:50%;position:absolute;top:-10px;right:-10px}.active__inner[_ngcontent-%COMP%]{background:#fff}.main__category_block[_ngcontent-%COMP%]{width:400px;overflow-x:auto;white-space:nowrap;scrollbar-width:none}.main__category_block[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.category__block_button[_ngcontent-%COMP%]{width:70px;height:28px;background:none;border:1px solid #007EFE;border-radius:20px;font-size:12px;display:inline-block;margin-right:10px;color:#007efe;cursor:pointer;transition:.4s}.category__block_button[_ngcontent-%COMP%]:hover{background:#007EFE;color:#fff}.item__info_category[_ngcontent-%COMP%]{width:50px;height:20px;background:#9ECEFF;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#007efe}.item__info_text[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:4px}.item__info_completed[_ngcontent-%COMP%]{width:132px;height:30px;background:#f5f5f5;border-radius:20px;display:flex;align-items:center;justify-content:center;gap:8px}.item__banner_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:10px}.item__delete_icon[_ngcontent-%COMP%]{width:14px;height:16px}.info__text_name[_ngcontent-%COMP%]{font-size:20px}.info__text_duration[_ngcontent-%COMP%]{font-size:13px;color:#7e7e7e}.info__button[_ngcontent-%COMP%]{width:100px;height:30px;background:#007EFE;border-radius:4px;border:none;outline:none;cursor:pointer;font-size:14px;color:#fff}.info__completed_text[_ngcontent-%COMP%]{color:#00b900;font-weight:500}.completed__empty_block[_ngcontent-%COMP%]{width:100%;height:454px;display:flex;align-items:center;justify-content:center}.completed__empty_text[_ngcontent-%COMP%]{color:#007efe;text-shadow:0 0 40px #007EFE}.completed__exercise_wrapper[_ngcontent-%COMP%]{width:100%;height:100%;padding:10px 30px;position:relative}@media (max-width: 440px){.container[_ngcontent-%COMP%]{width:100%;margin-top:80px}.exercise__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;padding:0 20px}.exercise__header_title[_ngcontent-%COMP%]{font-size:22px}.exercise__header_text[_ngcontent-%COMP%]{font-size:16px}.exercise__header_inner[_ngcontent-%COMP%]{margin-top:20px}.exercise__main[_ngcontent-%COMP%]{height:600px}.exercise__main_wrapper[_ngcontent-%COMP%]{width:100%;max-height:100%;padding:20px;display:flex;align-items:flex-start;justify-content:center}.exercise__main_inner[_ngcontent-%COMP%]{max-height:560px;width:100%;display:flex;justify-content:center;flex-wrap:wrap;padding-top:10px;gap:10px;overflow:scroll}.exercise__main_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__completed_inner[_ngcontent-%COMP%]{max-height:540px;width:100%;display:flex;flex-wrap:wrap;padding-top:10px;gap:10px;overflow:scroll}.exercise__completed_inner[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.completed__empty_block[_ngcontent-%COMP%]{width:100%}.completed__empty_text[_ngcontent-%COMP%]{width:86%;text-align:center;font-size:20px}.completed__exercise_wrapper[_ngcontent-%COMP%]{width:100%;max-height:100%;padding:20px;display:flex;align-items:flex-start;justify-content:center}}@media (max-width: 340px){.exercise__main_item[_ngcontent-%COMP%]{width:90%}}@media (max-width: 440px){.info__text_name[_ngcontent-%COMP%]{font-size:18px}.info__text_duration[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 360px){.info__text_name[_ngcontent-%COMP%]{font-size:16px}.info__text_duration[_ngcontent-%COMP%]{font-size:12px}.exercise__scroll_button[_ngcontent-%COMP%]{width:58px;height:20px;font-size:11px}}"]});let t=i;return t})();function oe(t,i){if(t&1){let c=O();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),g(4,"img",5),n(5,"p",6),s(6,"Back to Exercises"),r()(),n(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"p",11),s(12),r()(),n(13,"h2",12),s(14),r(),n(15,"div",13)(16,"p",14),s(17),r(),n(18,"p",15),s(19),r()(),n(20,"p",16),s(21),r(),n(22,"div",17)(23,"div",18)(24,"h2",19),s(25),r()(),n(26,"div",20)(27,"button",21),p("click",function(){u(c);let e=l();return h(e.startTimer())}),s(28,"Start"),r(),n(29,"button",22),p("click",function(){u(c);let e=l();return h(e.resetTimer())}),s(30,"Reset"),r(),n(31,"button",23),p("click",function(){u(c);let e=l();return h(e.stopTimer())}),s(32,"Stop"),r()()(),n(33,"div",24)(34,"button",25),p("click",function(){u(c);let e=l();return h(e.completeExercise(e.exercise))}),s(35,"Complete"),r()()(),n(36,"div",26),g(37,"img",27),r()()()()()()}if(t&2){let c=l();a(12),m(c.exercise.category.name),a(2),m(c.exercise.name),a(3),x("Duration - ",c.exercise.duration," min"),a(2),x("Count - ",c.exercise.count,""),a(2),x(" ",c.exercise.description," "),a(4),m(c.displayTime),a(12),b("src",c.exercise.gifImagePath,v)}}var q=(()=>{let i=class i{constructor(o,e,_,d){this.userExerciseService=o,this.activatedRoute=e,this.router=_,this.toastr=d,this.isStartTimerClicked=!1}ngOnInit(){this.getOneExercise()}ngOnDestroy(){this.stopTimer()}getOneExercise(){let o=this.activatedRoute.snapshot.paramMap.get("id"),e=localStorage.getItem("currentUser");this.currentUserId=e?JSON.parse(e):void 0,this.userExerciseService.getOneUser(this.currentUserId.uid).subscribe(_=>{_.userExercises.forEach(N=>{N.id===o&&(this.exercise=N,this.time=this.exercise.duration,this.displayTime=this.exercise.duration,this.remainingTime=+this.time.slice(1,2)*60+ +this.time.slice(3,5))})})}startTimer(){this.isStartTimerClicked=!this.isStartTimerClicked,this.exercise&&(this.timerID=setInterval(()=>{let o=Math.floor(this.remainingTime/60),e=this.remainingTime%60;this.displayTime=`${this.formatTime(o)}:${this.formatTime(e)}`,this.remainingTime--,this.remainingTime<=0&&(clearInterval(this.timerID),this.displayTime="00:00")},1e3))}formatTime(o){return o<10?`0${o}`:`${o}`}resetTimer(){clearInterval(this.timerID),this.displayTime=this.exercise.duration,this.remainingTime=+this.time.slice(1,2)*60+ +this.time.slice(3,5)}stopTimer(){clearInterval(this.timerID)}completeExercise(o){if(this.displayTime=="00:00"){this.router.navigate(["/exercises"]),o.completed=!0,this.toastr.success("The exercise was successfully completed");let e=localStorage.getItem("currentUser"),_=e?JSON.parse(e):void 0;this.userExerciseService.updateUserExercise(_.uid,o.id,o).then(()=>{})}}};i.\u0275fac=function(e){return new(e||i)(f(S),f(B),f(Y),f(I))},i.\u0275cmp=w({type:i,selectors:[["app-exercise-info"]],standalone:!0,features:[M],decls:1,vars:1,consts:[["class","container"],[1,"container"],[1,"wrapper"],[1,"info__block"],["routerLink","/exercises",1,"info__block_header"],["src","assets/images/back-icon.svg","alt","",1,"info__header_icon"],[1,"info__header_text"],[1,"info__block_main"],[1,"info__main_wrapper"],[1,"info__main_text"],[1,"info__text_category"],[1,"info__category_text"],[1,"info__text_name"],[1,"info__text_table"],[1,"info__table_duration"],[1,"info__table_count"],[1,"info__text_paragraph"],[1,"info__text_timer"],[1,"info__timer_block"],[1,"info__timer_item"],[1,"info__timer_button"],["type","button",1,"info__button_item",3,"click"],["type","button",1,"info__button_item","button__reset",3,"click"],["type","button",1,"info__button_item","button__stop",3,"click"],[1,"info__text_complete"],["type","button",1,"info__complete_button",3,"click"],[1,"info__main_banner"],["alt","",1,"info__banner_image",3,"src"]],template:function(e,_){e&1&&E(0,oe,38,7,"div",0),e&2&&C(0,_.exercise?0:-1)},dependencies:[k],styles:[".info__block[_ngcontent-%COMP%]{width:100%;height:680px}.info__block_header[_ngcontent-%COMP%]{height:15%;padding:30px;display:flex;align-items:center;gap:8px;cursor:pointer}.info__block_main[_ngcontent-%COMP%]{width:100%;height:85%;background:#f5f5f5;border-radius:0 0 10px}.info__header_text[_ngcontent-%COMP%]{font-size:18px;margin-top:2px;color:#007efe}.info__main_wrapper[_ngcontent-%COMP%]{height:100%;padding:30px;display:flex;justify-content:space-between}.info__main_text[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:column}.info__main_banner[_ngcontent-%COMP%]{width:50%;height:100%}.info__text_category[_ngcontent-%COMP%]{width:80px;height:30px;background:#9ECEFF;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#007efe}.info__text_name[_ngcontent-%COMP%]{font-size:30px;color:#212121;font-weight:700}.info__text_table[_ngcontent-%COMP%]{width:200px;height:60px;background:#fff;border-radius:10px;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:column;padding:10px}.info__text_timer[_ngcontent-%COMP%]{width:100%;height:120px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:space-between;flex-direction:column;padding:20px 0}.info__text_paragraph[_ngcontent-%COMP%]{color:#7e7e7e;line-height:24px;width:400px}.info__category_text[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase}.info__table_duration[_ngcontent-%COMP%], .info__table_count[_ngcontent-%COMP%]{color:#007efe}.info__timer_block[_ngcontent-%COMP%]{width:100%;text-align:center}.info__timer_item[_ngcontent-%COMP%]{font-size:36px;color:#212121}.info__timer_button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;margin-top:10px}.info__button_item[_ngcontent-%COMP%]{width:80px;height:32px;background:#007EFE;border:none;border-radius:6px;color:#fff;font-size:14px;cursor:pointer}.info__banner_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.info__complete_button[_ngcontent-%COMP%]{width:140px;height:46px;background:rgb(0,185,0);border-radius:6px;border:none;color:#fff;font-size:18px;cursor:pointer;margin-top:40px}.button__reset[_ngcontent-%COMP%]{background:orange}.button__stop[_ngcontent-%COMP%]{background:red}"]});let t=i;return t})();var ce=[{path:"",component:X},{path:":id",component:q}],G=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=P({type:i}),i.\u0275inj=y({imports:[V.forChild(ce),V]});let t=i;return t})();var ye=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=P({type:i}),i.\u0275inj=y({imports:[$,G]});let t=i;return t})();export{ye as ExerciseModule};
