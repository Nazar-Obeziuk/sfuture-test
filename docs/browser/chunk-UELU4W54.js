import{a as Pe,c as Oe,d as Fe,e as Me,g as Z,h as Ie}from"./chunk-6RI6LHWP.js";import{a as fe,b as Se,c as Y}from"./chunk-5GFXIVCV.js";import{a as we,b as Ee}from"./chunk-4ESZGHE3.js";import{a as me}from"./chunk-KQNCCB3Z.js";import{a as O,b as h,c as F,d as M,e as I,f as Ce,g as k,h as A,i as be,j as ve,k as ye,l as V,m as T}from"./chunk-QOQ3CAGC.js";import{$ as z,$a as ue,A as E,E as l,F as g,J as f,M as y,N as b,O as N,P as D,Q as j,R as i,S as n,T as x,U as C,Ua as _e,W as _,X as d,Z as s,Za as pe,_ as v,a as ne,b as oe,ba as P,c as q,cb as he,da as L,ea as $,hb as ge,ia as ce,ja as se,k as re,l as R,n as ae,o as w,oa as le,ob as xe,p as J,qa as de,t as p,ta as X,u}from"./chunk-RCXM74FE.js";function Ve(r,a){if(r&1){let t=C();i(0,"div",2)(1,"button",3),s(2,"Exercise"),n(),i(3,"button",4),s(4,"Category"),n(),i(5,"button",5),s(6,"Coach"),n(),i(7,"button",6),_("click",function(){p(t);let o=d();return u(o.logout())}),s(8,"Sign out"),n()(),i(9,"div",7),x(10,"router-outlet"),n()}}function Te(r,a){if(r&1){let t=C();i(0,"div",8)(1,"form",9)(2,"div",10)(3,"div",11)(4,"h2",12),s(5,"Sign in to SFuture"),n()(),i(6,"div",13),x(7,"input",14),n(),i(8,"div",15),x(9,"input",16),n(),i(10,"div",17)(11,"button",18),_("click",function(){p(t);let o=d();return u(o.signInUser())}),s(12,"Sign in"),n()()()()()}if(r&2){let t=d();l(),f("formGroup",t.authForm)}}var W=(()=>{let a=class a{constructor(e,o,c,m,S){this.fb=e,this.accountService=o,this.auth=c,this.afs=m,this.toastr=S,this.isAdminLogined=!1}ngOnInit(){this.initAuthForm()}initAuthForm(){this.authForm=this.fb.group({email:[null,[h.required,h.email]],password:[null,h.required]})}getPersonalData(){let e=localStorage.getItem("currentUser");this.currentUser=e?JSON.parse(e):void 0}signInUser(){let{email:e,password:o}=this.authForm.value;this.login(e,o).then(()=>{this.authForm.reset(),this.isAdminLogined=!0,this.accountService.isUserLogin=!0}).catch(c=>{this.toastr.error("Incorrect email of password"),console.log(c)})}login(e,o){return q(this,null,function*(){let c=yield pe(this.auth,e,o);this.loginSubscription=he(ge(this.afs,"users",c.user.uid)).subscribe({next:m=>{let S=oe(ne({},m),{uid:c.user.uid});localStorage.setItem("currentUser",JSON.stringify(S)),this.getPersonalData(),m&&m.role===we.USER&&(this.isAdminLogined=!0),this.accountService.isUserLogin$.next(!0),this.toastr.success("You have successfully logged into your account")},error:m=>{this.toastr.error("Something went wrong"),console.log(m.code,m.message)}})})}logout(){this.isAdminLogined=!1,localStorage.removeItem("currentUser"),this.accountService.isUserLogin=!1,this.accountService.isUserLogin$.next(!0),this.toastr.success("You successfully signed out")}};a.\u0275fac=function(o){return new(o||a)(g(V),g(Ee),g(_e),g(ue),g(xe))},a.\u0275cmp=w({type:a,selectors:[["app-admin"]],standalone:!0,features:[P],decls:4,vars:1,consts:[[1,"container"],[1,"admin__wrapper"],[1,"admin__wrapper_items"],["routerLink","exercise","routerLinkActive","admin__item_active","type","button",1,"admin__item_btn"],["routerLink","category","routerLinkActive","admin__item_active","type","button",1,"admin__item_btn"],["routerLink","coach","routerLinkActive","admin__item_active","type","button",1,"admin__item_btn"],["type","button",1,"admin__exit",3,"click"],[1,"admin__wrapper_content"],[1,"auth__block"],[1,"auth__form",3,"formGroup"],[1,"auth__content_wrapper"],[1,"auth__text_wrapper"],[1,"auth__text"],[1,"auth__email_wrapper"],["formControlName","email","name","email","type","email","placeholder","Email address",1,"auth__email","modal__input"],[1,"auth__password_wrapper"],["formControlName","password","name","password","type","password","placeholder","Password",1,"auth__password","modal__input"],[1,"auth__button_wrapper"],["type","submit",1,"auth__button",3,"click"]],template:function(o,c){o&1&&(i(0,"div",0)(1,"div",1),y(2,Ve,11,0)(3,Te,13,1),n()()),o&2&&(l(2),b(2,c.isAdminLogined?2:3))},dependencies:[le,de,T,I,O,F,M,k,A],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.container[_ngcontent-%COMP%]{max-width:100%;height:100%;margin:0 auto;padding:30px}.admin__wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:40px}.admin__wrapper_items[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:20px}.admin__exit[_ngcontent-%COMP%], .admin__item_btn[_ngcontent-%COMP%]{width:140px;height:42px;background:#007EFE;border:none;border-radius:6px;font-size:20px;color:#fff;cursor:pointer;outline:none}.admin__item_active[_ngcontent-%COMP%]{border:none;border-top:5px solid #007EFE;font-weight:700;color:#212121;outline:none}.auth__block[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.auth__form[_ngcontent-%COMP%]{width:50%}.auth__content_wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:30px}.auth__text[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#212121}.auth__text_wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.auth__email[_ngcontent-%COMP%], .auth__email_wrapper[_ngcontent-%COMP%], .auth__password[_ngcontent-%COMP%], .auth__password_wrapper[_ngcontent-%COMP%]{width:100%}.auth__button[_ngcontent-%COMP%]{width:100%;height:52px;background:#007EFE;border:1px solid transparent;border-radius:10px;color:#fff;font-size:18px;font-weight:500;cursor:pointer;text-transform:uppercase;transition:.4s}.auth__button[_ngcontent-%COMP%]:hover{border-color:#007efe;color:#007efe;background:none}.auth__button_wrapper[_ngcontent-%COMP%]{width:100%}.modal__input[_ngcontent-%COMP%]{height:52px;border:1px solid lightgray;border-radius:10px;color:#212121;padding:0 20px;font-size:16px;outline-color:#007efe}"]});let r=a;return r})();var B=(()=>{let a=class a{constructor(e){this.storage=e,this.uploadPercent=0}uploadFile(e,o,c){return q(this,null,function*(){let m=`${e}/${o}`,S="";if(c)try{let U=Z(this.storage,m),ie=Ie(U,c);Oe(ie).subscribe(Ae=>{this.uploadPercent=Ae.progress}),yield ie,S=yield Me(U)}catch(U){console.error(U)}else console.log("wrong formatt of file");return Promise.resolve(S)})}deleteUploadFile(e){let o=Z(this.storage,e);return Fe(o)}valueByControl(e){throw new Error("Method not implemented.")}};a.\u0275fac=function(o){return new(o||a)(ae(Pe))},a.\u0275prov=re({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();function Ne(r,a){if(r&1&&(i(0,"option",22),s(1),n()),r&2){let t=a.$implicit;f("ngValue",t),l(),v(t.name)}}function De(r,a){if(r&1){let t=C();i(0,"div",23)(1,"input",24),_("change",function(o){p(t);let c=d(2);return u(c.uploadImage(o))}),n()()}}function je(r,a){if(r&1){let t=C();i(0,"div",25),x(1,"img",26),i(2,"button",27),_("click",function(){p(t);let o=d(2);return u(o.deleteImage())}),s(3,"Delete"),n()()}if(r&2){let t=d(2);l(),f("src",t.valueByControl("imagePath"),E)}}function ze(r,a){if(r&1){let t=C();i(0,"div",23)(1,"input",24),_("change",function(o){p(t);let c=d(2);return u(c.uploadGifImage(o))}),n()()}}function Ge(r,a){if(r&1){let t=C();i(0,"div",25),x(1,"img",26),i(2,"button",27),_("click",function(){p(t);let o=d(2);return u(o.deleteGifImage())}),s(3,"Delete"),n()()}if(r&2){let t=d(2);l(),f("src",t.valueByControl("gifImagePath"),E)}}function Be(r,a){if(r&1){let t=C();i(0,"div",6)(1,"form",7),_("ngSubmit",function(){p(t);let o=d();return u(o.addExercise())}),i(2,"div",8)(3,"select",9),D(4,Ne,2,2,"option",28,N),n(),i(6,"div",10),x(7,"input",11)(8,"input",12),n(),i(9,"div",13),x(10,"input",14),n(),i(11,"div",15),x(12,"input",16)(13,"input",17),n(),i(14,"div",18),y(15,De,2,0,"div",19)(16,je,4,1,"div",20)(17,ze,2,0,"div",19)(18,Ge,4,1,"div",20),n(),i(19,"button",21),s(20,"Add"),n()()()()}if(r&2){let t=d();l(),f("formGroup",t.exerciseForm),l(3),j(t.adminCategories),l(11),b(15,t.isUploadedImage?-1:15),l(),b(16,t.isUploadedImage?16:-1),l(),b(17,t.isUploadedGifImage?-1:17),l(),b(18,t.isUploadedGifImage?18:-1),l(),f("disabled",t.exerciseForm.invalid)}}function Le(r,a){if(r&1){let t=C();i(0,"tr",41)(1,"td",42),s(2),n(),i(3,"td",43),s(4),n(),i(5,"td",44),s(6),n(),i(7,"td",45),s(8),n(),i(9,"td",46),s(10),L(11,"slice"),n(),i(12,"td",47),s(13),n(),i(14,"td",48),s(15),n(),i(16,"td",49),x(17,"img",50),n(),i(18,"td",49),x(19,"img",50),n(),i(20,"td",51)(21,"button",52),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.editExercise(c))}),s(22,"Edit"),n(),i(23,"button",53),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.deleteExercise(c))}),s(24,"Delete"),n()()()}if(r&2){let t=a.$implicit,e=a.$index,o=d(2);l(2),z(" \u2116 ",e+1," "),l(2),v(t.category.name),l(2),v(t.name),l(2),v(t.path),l(2),z(" ",$(11,10,t.description,0,20)," "),l(3),v(t.duration),l(2),v(t.count),l(2),f("src",t.imagePath,E),l(2),f("src",t.gifImagePath,E),l(4),f("disabled",o.editStatus)}}function $e(r,a){if(r&1&&(i(0,"div",29)(1,"table",30)(2,"tr",31)(3,"th",32),s(4,"\u2116"),n(),i(5,"th",33),s(6,"Category"),n(),i(7,"th",34),s(8,"Name"),n(),i(9,"th",35),s(10,"Path"),n(),i(11,"th",36),s(12,"Description"),n(),i(13,"th",37),s(14,"Duration"),n(),i(15,"th",38),s(16,"Count"),n(),i(17,"th",39),s(18,"Image"),n(),i(19,"th",39),s(20,"GifImage"),n(),i(21,"th",40),s(22,"Actions"),n()(),D(23,Le,25,14,"tr",54,N),n()()),r&2){let t=d();l(23),j(t.adminExercises)}}var H=(()=>{let a=class a{constructor(e,o,c,m){this.categoryService=e,this.exerciseService=o,this.imageService=c,this.fb=m,this.adminCategories=[],this.adminExercises=[],this.isUploadedImage=!1,this.isUploadedGifImage=!1,this.isFormOpen=!1,this.editStatus=!1;let S=new Date,U=new Date(S);U.setDate(S.getDate()),this.todaysDate=U.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}ngOnInit(){this.initExerciseForm(),this.loadCategories(),this.loadExercises()}initExerciseForm(){this.exerciseForm=this.fb.group({category:[null,h.required],name:[null,h.required],path:[null,h.required],description:[null,h.required],duration:[null,h.required],count:[null,h.required],imagePath:[null,h.required],gifImagePath:[null,h.required],completed:!1,date:this.todaysDate})}toggleExerciseFormAndTable(){this.isFormOpen=!this.isFormOpen}loadCategories(){this.categoryService.getAllCategories().subscribe(e=>{this.adminCategories=e,this.exerciseForm.patchValue({category:this.adminCategories[0].id})})}loadExercises(){this.exerciseService.getAllExercises().subscribe(e=>{this.adminExercises=e})}addExercise(){this.editStatus?this.exerciseService.updateExercise(this.exerciseForm.value,this.currentCategoryId).then(()=>{this.loadExercises(),this.editStatus=!1,this.isFormOpen=!1}):this.exerciseService.createExercise(this.exerciseForm.value).then(()=>{this.loadExercises(),this.exerciseForm.reset(),this.editStatus=!1,this.isFormOpen=!1,this.isUploadedImage=!1,this.isUploadedGifImage=!1})}editExercise(e){this.exerciseForm.patchValue({category:e.category,name:e.name,path:e.path,description:e.description,duration:e.duration,count:e.count,imagePath:e.imagePath,gifImagePath:e.gifImagePath}),this.editStatus=!0,this.isFormOpen=!0,this.isUploadedImage=!0,this.isUploadedGifImage=!0,this.currentCategoryId=e.id}deleteExercise(e){this.exerciseService.deleteExercise(e.id).then(()=>{this.loadExercises()})}uploadImage(e){let o=e.target.files[0];this.imageService.uploadFile("images",o.name,o).then(c=>{this.exerciseForm.patchValue({imagePath:c}),this.isUploadedImage=!0}).catch(c=>{console.log(c)})}uploadGifImage(e){let o=e.target.files[0];this.imageService.uploadFile("images",o.name,o).then(c=>{this.exerciseForm.patchValue({gifImagePath:c}),this.isUploadedGifImage=!0}).catch(c=>{console.log(c)})}deleteImage(){this.imageService.deleteUploadFile(this.valueByControl("imagePath")).then(()=>{this.isUploadedImage=!1,this.exerciseForm.patchValue({imagePath:null})}).catch(e=>{console.log(e)})}deleteGifImage(){this.imageService.deleteUploadFile(this.valueByControl("gifImagePath")).then(()=>{this.isUploadedGifImage=!1,this.exerciseForm.patchValue({gifImagePath:null})}).catch(e=>{console.log(e)})}valueByControl(e){return this.exerciseForm.get(e)?.value}};a.\u0275fac=function(o){return new(o||a)(g(Y),g(Se),g(B),g(V))},a.\u0275cmp=w({type:a,selectors:[["app-admin-exercise"]],standalone:!0,features:[P],decls:7,vars:2,consts:[[1,"container"],[1,"wrapper"],[1,"wrapper__toggle"],[1,"wrapper__add_exercise",3,"click"],["class","form__block"],["class","exercise__block"],[1,"form__block"],[1,"form",3,"formGroup","ngSubmit"],[1,"form__exercise_category"],["formControlName","category",1,"exercise__select","exercise__input"],[1,"form__exercise_header"],["formControlName","name","type","text","id","name","placeholder","*Name",1,"form__exercise_name","exercise__input"],["formControlName","path","type","text","id","path","placeholder","*Path",1,"form__exercise_path","exercise__input"],[1,"form__exercise_main"],["formControlName","description","type","text","placeholder","*Description",1,"form__exercise_description","exercise__input"],[1,"form__exercise_footer"],["formControlName","duration","type","text","placeholder","*Duration",1,"form__exercise_duration","exercise__input"],["formControlName","count","type","number","placeholder","*Count",1,"form__exercise_count","exercise__input"],[1,"form__image_wrapper"],["class","form__exercise_upload"],["class","form__exercise_load"],["type","submit",1,"form__exercise_button",3,"disabled"],[1,"exercise__select_category",3,"ngValue"],[1,"form__exercise_upload"],["type","file","id","formFile",1,"exercise__upload_file",3,"change"],[1,"form__exercise_load"],["alt","",1,"exercise__load_img",3,"src"],["type","button",1,"exercise__load_button",3,"click"],["class","exercise__select_category",3,"ngValue"],[1,"exercise__block"],[1,"exercise__table"],[1,"table__header"],[1,"header__sharp","table__item"],[1,"header__category","table__item"],[1,"header__name","table__item"],[1,"header__way","table__item"],[1,"header__description","table__item"],[1,"header__duration","table__item"],[1,"header__count","table__item"],[1,"header__image","table__item"],[1,"header__actions","table__item"],[1,"table__main"],[1,"main__sharp","table__item"],[1,"main__category","table__item"],[1,"main__name","table__item"],[1,"main__path","table__item"],[1,"main__desc","table__item"],[1,"main__duration","table__item"],[1,"main__count","table__item"],[1,"main__image","table__item"],["alt","",1,"main__image_item",3,"src"],[1,"main__actions","table__item"],["type","button",1,"actions__edit","actions__btn",3,"click"],["type","button",1,"actions__delete","actions__btn",3,"disabled","click"],["class","table__main"]],template:function(o,c){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return c.toggleExerciseFormAndTable()}),s(4,"Add Exercise"),n()(),y(5,Be,21,6,"div",4)(6,$e,25,0,"div",5),n()()),o&2&&(l(5),b(5,c.isFormOpen?5:-1),l(),b(6,c.isFormOpen?-1:6))},dependencies:[T,I,ve,ye,O,Ce,be,F,M,k,A,me],styles:[".wrapper__toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.wrapper__add_exercise[_ngcontent-%COMP%]{width:120px;height:38px;background:#9ECEFF;border:none;border-radius:6px;cursor:pointer;color:#212121;font-size:16px}.form__block[_ngcontent-%COMP%]{margin-top:20px}.form__exercise_header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.form__exercise_name[_ngcontent-%COMP%], .form__exercise_path[_ngcontent-%COMP%]{width:49%}.form__exercise_main[_ngcontent-%COMP%], .form__exercise_description[_ngcontent-%COMP%]{width:100%}.form__exercise_footer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.form__exercise_duration[_ngcontent-%COMP%], .form__exercise_count[_ngcontent-%COMP%], .form__exercise_upload[_ngcontent-%COMP%]{width:49%}.form__exercise_button[_ngcontent-%COMP%]{width:140px;height:42px;background:#007EFE;border:none;border-radius:6px;cursor:pointer;color:#fff;font-size:20px;margin-top:20px}.form__image_wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.exercise__select[_ngcontent-%COMP%]{width:100%}.exercise__input[_ngcontent-%COMP%]{height:56px;border:1px solid #f5f5f5;border-radius:10px;background:none;padding:0 12px;font-size:16px;color:#212121;margin-bottom:20px;outline-color:#007efe}.exercise__upload_file[_ngcontent-%COMP%]{width:100%;height:56px;border:1px solid lightgray;border-radius:10px;background:none;padding:16px 12px 0;font-size:16px;color:#212121;margin-bottom:20px}.exercise__load_img[_ngcontent-%COMP%]{height:100px;margin-top:20px}.exercise__load_button[_ngcontent-%COMP%]{width:80px;height:40px;background:red;color:#fff;font-size:16px;border:none;border-radius:4px;cursor:pointer}.exercise__block[_ngcontent-%COMP%]{margin-top:20px;max-height:480px;overflow:scroll}.exercise__block[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise__table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table__header[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #9ECEFF}.table__item[_ngcontent-%COMP%]{padding:20px 0;text-align:left}.table__main[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5}.main__image_item[_ngcontent-%COMP%]{height:50px}.main__actions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;gap:10px}.actions__btn[_ngcontent-%COMP%]{font-weight:700;color:#007efe;font-size:16px;background:none;border:none;text-align:left;cursor:pointer}"]});let r=a;return r})();function qe(r,a){if(r&1){let t=C();i(0,"div",6)(1,"form",7),_("ngSubmit",function(){p(t);let o=d();return u(o.addCategory())}),i(2,"div",8),x(3,"input",9),n(),i(4,"button",10),s(5),n()()()}if(r&2){let t=d();l(),f("formGroup",t.categoryForm),l(3),f("disabled",t.categoryForm.invalid),l(),v(t.editStatus?"Save":"Add")}}function Re(r,a){if(r&1){let t=C();i(0,"tr",17)(1,"td",18),s(2),n(),i(3,"td",19),s(4),n(),i(5,"td",20)(6,"button",21),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.editCategory(c))}),s(7,"Edit"),n(),i(8,"button",22),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.deleteCategory(c))}),s(9,"Delete"),n()()()}if(r&2){let t=a.$implicit;l(2),z(" \u2116 ",t.id," "),l(2),v(t.name)}}function Je(r,a){if(r&1&&(i(0,"div",11)(1,"table",12)(2,"tr",13)(3,"th",14),s(4,"\u2116"),n(),i(5,"th",15),s(6,"Name"),n(),i(7,"th",16),s(8,"Actions"),n()(),D(9,Re,10,2,"tr",23,N),n()()),r&2){let t=d();l(9),j(t.adminCategories)}}var K=(()=>{let a=class a{constructor(e,o,c){this.categoryService=e,this.imageService=o,this.fb=c,this.adminCategories=[],this.editStatus=!1,this.isUploaded=!1,this.uploadPercent=0,this.isFormOpen=!1}ngOnInit(){this.initCategoryForm(),this.loadCategories()}toggleCategoryFormAndTable(){this.isFormOpen=!this.isFormOpen}initCategoryForm(){this.categoryForm=this.fb.group({name:[null,h.required]})}loadCategories(){this.categoryService.getAllCategories().subscribe(e=>{this.adminCategories=e})}addCategory(){this.editStatus?this.categoryService.updateCategory(this.categoryForm.value,this.currentCategoryId).then(()=>{this.loadCategories(),this.isFormOpen=!1}):(this.editStatus=!1,this.categoryService.createCategory(this.categoryForm.value).then(()=>{this.loadCategories(),this.isFormOpen=!1})),this.editStatus=!1,this.categoryForm.reset(),this.isUploaded=!1,this.uploadPercent=0}editCategory(e){this.categoryForm.patchValue({name:e.name}),this.isFormOpen=!0,this.editStatus=!0,this.currentCategoryId=e.id,this.isUploaded=!0}deleteCategory(e){this.categoryService.deleteCategory(e.id).then(()=>{this.loadCategories()})}};a.\u0275fac=function(o){return new(o||a)(g(Y),g(B),g(V))},a.\u0275cmp=w({type:a,selectors:[["app-admin-category"]],standalone:!0,features:[P],decls:7,vars:2,consts:[[1,"container"],[1,"wrapper"],[1,"wrapper__toggle"],[1,"wrapper__add_category",3,"click"],["class","category__form"],["class","table__wrapper"],[1,"category__form"],[1,"form",3,"formGroup","ngSubmit"],[1,"category__name"],["formControlName","name","type","text","id","name","placeholder","*Name",1,"category__form_name"],["type","submit",1,"category__form_button",3,"disabled"],[1,"table__wrapper"],[1,"table"],[1,"table__header"],[1,"header__sharp","table__item"],[1,"header__name","table__item"],[1,"header__actions","table__item"],[1,"table__main"],[1,"main__sharp","table__item"],[1,"main__name","table__item"],[1,"main__actions","table__item"],["type","button",1,"actions__edit","actions__btn",3,"click"],["type","button",1,"actions__delete","actions__btn",3,"click"],["class","table__main"]],template:function(o,c){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return c.toggleCategoryFormAndTable()}),s(4,"Add category"),n()(),y(5,qe,6,3,"div",4)(6,Je,11,0,"div",5),n()()),o&2&&(l(5),b(5,c.isFormOpen?5:-1),l(),b(6,c.isFormOpen?-1:6))},dependencies:[T,I,O,F,M,k,A],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.wrapper__toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.wrapper__add_category[_ngcontent-%COMP%]{width:120px;height:38px;background:#9ECEFF;border:none;border-radius:6px;cursor:pointer;color:#212121;font-size:16px}.category__form_name[_ngcontent-%COMP%]{width:100%;height:56px;border:1px solid #f5f5f5;border-radius:10px;background:none;padding:0 12px;font-size:16px;color:#212121;margin-bottom:20px;outline-color:#007efe}.category__form_button[_ngcontent-%COMP%]{width:140px;height:42px;background:#007EFE;border:none;border-radius:6px;cursor:pointer;color:#fff;font-size:20px}.category__name[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table__wrapper[_ngcontent-%COMP%]{width:100%}.table__header[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #9ECEFF}.table__item[_ngcontent-%COMP%]{padding:20px 0;text-align:left}.table__main[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5}.main__actions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;gap:10px}.actions__edit[_ngcontent-%COMP%], .actions__delete[_ngcontent-%COMP%]{font-weight:700;color:#007efe;font-size:16px;background:none;border:none;text-align:left;cursor:pointer}"]});let r=a;return r})();function Ye(r,a){if(r&1){let t=C();i(0,"input",17),_("change",function(o){p(t);let c=d(2);return u(c.uploadImage(o))}),n()}}function We(r,a){if(r&1){let t=C();i(0,"div",18),x(1,"img",19),i(2,"button",20),_("click",function(){p(t);let o=d(2);return u(o.deleteImage())}),s(3,"Delete"),n()()}if(r&2){let t=d(2);l(),f("src",t.valueByControl("imagePath"),E)}}function He(r,a){if(r&1){let t=C();i(0,"div",6)(1,"form",7),_("ngSubmit",function(){p(t);let o=d();return u(o.addCoach())}),i(2,"div",8)(3,"div",9),x(4,"input",10)(5,"input",11),n(),i(6,"div",12),x(7,"input",13),y(8,Ye,1,0,"input",14)(9,We,4,1,"div",15),n()(),i(10,"button",16),s(11),n()()()}if(r&2){let t=d();l(),f("formGroup",t.coachForm),l(7),b(8,t.isUploaded?-1:8),l(),b(9,t.isUploaded?9:-1),l(),f("disabled",t.coachForm.invalid),l(),v(t.editStatus?"Save":"Add")}}function Ke(r,a){if(r&1){let t=C();i(0,"tr",30)(1,"td",31),s(2),L(3,"slice"),n(),i(4,"td",32),s(5),n(),i(6,"td",32),s(7),L(8,"slice"),n(),i(9,"td",33),s(10),n(),i(11,"td",34),x(12,"img",35),n(),i(13,"td",36)(14,"button",37),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.editCoach(c))}),s(15,"Edit"),n(),i(16,"button",38),_("click",function(){let c=p(t).$implicit,m=d(2);return u(m.deleteCoach(c))}),s(17,"Delete"),n()()()}if(r&2){let t=a.$implicit;l(2),z(" \u2116 ",$(3,5,t.id,0,12)," "),l(3),v(t.name),l(2),v($(8,9,t.description,0,30)),l(3),v(t.status),l(2),f("src",t.imagePath,E)}}function Qe(r,a){if(r&1&&(i(0,"div",21)(1,"table",22)(2,"tr",23)(3,"th",24),s(4,"\u2116"),n(),i(5,"th",25),s(6,"Name"),n(),i(7,"th",26),s(8,"Description"),n(),i(9,"th",27),s(10,"Status"),n(),i(11,"th",28),s(12,"ImagePath"),n(),i(13,"th",29),s(14,"Actions"),n()(),D(15,Ke,18,13,"tr",39,N),n()()),r&2){let t=d();l(15),j(t.adminCoaches)}}var Q=(()=>{let a=class a{constructor(e,o,c){this.coachService=e,this.imageService=o,this.fb=c,this.adminCoaches=[],this.editStatus=!1,this.isUploaded=!1,this.uploadPercent=0,this.isFormOpen=!1}ngOnInit(){this.initCoachForm(),this.loadCoaches()}toggleCategoryFormAndTable(){this.isFormOpen=!this.isFormOpen}initCoachForm(){this.coachForm=this.fb.group({name:[null,h.required],status:[null,h.required],imagePath:[null,h.required],description:[null,h.required]})}toggleCoachFormAndTable(){this.isFormOpen=!this.isFormOpen}loadCoaches(){this.coachService.getAllCoaches().subscribe(e=>{this.adminCoaches=e})}addCoach(){this.editStatus?this.coachService.updateCoach(this.coachForm.value,this.currentCoachId).then(()=>{this.loadCoaches(),this.isFormOpen=!1}):(this.editStatus=!1,this.coachService.createCoach(this.coachForm.value).then(()=>{this.loadCoaches(),this.isFormOpen=!1})),this.editStatus=!1,this.coachForm.reset(),this.isUploaded=!1,this.uploadPercent=0}editCoach(e){this.coachForm.patchValue({name:e.name,status:e.status,imagePath:e.imagePath,description:e.description}),this.isFormOpen=!0,this.editStatus=!0,this.currentCoachId=e.id,this.isUploaded=!0}deleteCoach(e){this.coachService.deleteCoach(e.id).then(()=>{this.loadCoaches()})}uploadImage(e){let o=e.target.files[0];this.imageService.uploadFile("images",o.name,o).then(c=>{this.coachForm.patchValue({imagePath:c}),this.isUploaded=!0}).catch(c=>{console.log(c)})}deleteImage(){this.imageService.deleteUploadFile(this.valueByControl("imagePath")).then(()=>{this.isUploaded=!1,this.coachForm.patchValue({imagePath:null})}).catch(e=>{console.log(e)})}valueByControl(e){return this.coachForm.get(e)?.value}};a.\u0275fac=function(o){return new(o||a)(g(fe),g(B),g(V))},a.\u0275cmp=w({type:a,selectors:[["app-admin-coach"]],standalone:!0,features:[P],decls:7,vars:2,consts:[[1,"container"],[1,"wrapper"],[1,"wrapper__toggle"],[1,"wrapper__add_coach",3,"click"],["class","coach__form"],["class","table__wrapper"],[1,"coach__form"],[1,"form",3,"formGroup","ngSubmit"],[1,"coach__form_block"],[1,"form__block_header"],["formControlName","name","type","text","id","name","placeholder","*Name",1,"coach__form_name","coach__input"],["formControlName","status","type","text","id","status","placeholder","*Status",1,"coach__form_status","coach__input"],[1,"form__block_footer"],["formControlName","description","type","text","id","description","placeholder","*Description",1,"coach__form_desc","coach__input"],["type","file","class","coach__form_image coach__input","id","formFile"],["class","form__coach_load"],["type","submit",1,"coach__form_button",3,"disabled"],["type","file","id","formFile",1,"coach__form_image","coach__input",3,"change"],[1,"form__coach_load"],["alt","",1,"coach__load_img",3,"src"],["type","button",1,"coach__load_button",3,"click"],[1,"table__wrapper"],[1,"table"],[1,"table__header"],[1,"header__sharp","table__item"],[1,"header__name","table__item"],[1,"header__desc","table__item"],[1,"header__status","table__item"],[1,"header__image","table__item"],[1,"header__actions","table__item"],[1,"table__main"],[1,"main__sharp","table__item"],[1,"main__name","table__item"],[1,"main__status","table__item"],[1,"main__image","table__item"],["alt","",1,"main__coach_image",3,"src"],[1,"main__actions","table__item"],["type","button",1,"actions__edit","actions__btn",3,"click"],["type","button",1,"actions__delete","actions__btn",3,"click"],["class","table__main"]],template:function(o,c){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return c.toggleCoachFormAndTable()}),s(4,"Add coach"),n()(),y(5,He,12,5,"div",4)(6,Qe,17,0,"div",5),n()()),o&2&&(l(5),b(5,c.isFormOpen?5:-1),l(),b(6,c.isFormOpen?-1:6))},dependencies:[T,I,O,F,M,k,A,ce],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.wrapper__toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.wrapper__add_coach[_ngcontent-%COMP%]{width:120px;height:38px;background:#9ECEFF;border:none;border-radius:6px;cursor:pointer;color:#212121;font-size:16px}.coach__form_block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:20px}.coach__form_name[_ngcontent-%COMP%], .coach__form_desc[_ngcontent-%COMP%], .coach__form_status[_ngcontent-%COMP%]{padding:0 12px}.coach__form_image[_ngcontent-%COMP%]{padding:16px 12px}.coach__form_button[_ngcontent-%COMP%]{width:140px;height:42px;background:#007EFE;border:none;border-radius:6px;cursor:pointer;color:#fff;font-size:20px}.coach__load_img[_ngcontent-%COMP%]{height:100px;margin-top:20px}.coach__load_button[_ngcontent-%COMP%]{width:80px;height:40px;background:red;color:#fff;font-size:16px;border:none;border-radius:4px;cursor:pointer}.coach__input[_ngcontent-%COMP%]{width:100%;height:56px;border:1px solid #f5f5f5;border-radius:10px;background:none;font-size:16px;color:#212121;margin-bottom:20px;outline-color:#007efe}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table__wrapper[_ngcontent-%COMP%]{width:100%}.table__header[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #9ECEFF}.table__item[_ngcontent-%COMP%]{padding:20px 0;text-align:left}.table__main[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5}.main__actions[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;gap:10px}.main__coach_image[_ngcontent-%COMP%]{height:50px}.actions__edit[_ngcontent-%COMP%], .actions__delete[_ngcontent-%COMP%]{font-weight:700;color:#007efe;font-size:16px;background:none;border:none;text-align:left;cursor:pointer}"]});let r=a;return r})();var Xe=[{path:"",component:W,children:[{path:"exercise",component:H},{path:"category",component:K},{path:"coach",component:Q}]}],ke=(()=>{let a=class a{};a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=J({type:a}),a.\u0275inj=R({imports:[X.forChild(Xe),X]});let r=a;return r})();var Ut=(()=>{let a=class a{};a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=J({type:a}),a.\u0275inj=R({imports:[se,ke,W,H,K,Q]});let r=a;return r})();export{Ut as AdminModule};
