var GA=Object.defineProperty,WA=Object.defineProperties;var KA=Object.getOwnPropertyDescriptors;var cI=Object.getOwnPropertySymbols,QA=Object.getPrototypeOf,YA=Object.prototype.hasOwnProperty,ZA=Object.prototype.propertyIsEnumerable,JA=Reflect.get;var uI=(t,e,n)=>e in t?GA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})YA.call(e,n)&&uI(t,n,e[n]);if(cI)for(var n of cI(e))ZA.call(e,n)&&uI(t,n,e[n]);return t},se=(t,e)=>WA(t,KA(e));var qn=(t,e,n)=>JA(QA(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var lI=null;var lh=1;function Fe(t){let e=lI;return lI=t,e}var dI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function XA(t){if(!(fh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===lh)){if(!t.producerMustRecompute(t)&&!dh(t)){t.dirty=!1,t.lastCleanEpoch=lh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=lh}}function hI(t){return t&&(t.nextProducerIndex=0),Fe(t)}function fI(t,e){if(Fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(fh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dh(t){hc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(XA(n),r!==n.version))return!0}return!1}function pI(t){if(hc(t),fh(t))for(let e=0;e<t.producerNode.length;e++)hh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hh(t,e){if(eR(t),hc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)hh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];hc(i),i.producerIndexOfThis[r]=e}}function fh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tR(){throw new Error}var nR=tR;function gI(t){nR=t}function F(t){return typeof t=="function"}function Ai(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fc=Ai(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof fc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{mI(s)}catch(o){e=e??[],o instanceof fc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Or(n,e)}remove(e){let{_finalizers:n}=this;n&&Or(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var ph=ye.EMPTY;function pc(t){return t instanceof ye||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function mI(t){F(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ri={setTimeout(t,e,...n){let{delegate:r}=Ri;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ri;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gc(t){Ri.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function to(){}var yI=(()=>gh("C",void 0,void 0))();function vI(t){return gh("E",void 0,t)}function _I(t){return gh("N",t,void 0)}function gh(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function xi(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else t()}function II(t){Mt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var Fr=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pc(e)&&e.add(this)):this.destination=sR}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?yh(_I(e),this):this._next(e)}error(e){this.isStopped?yh(vI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yh(yI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rR=Function.prototype.bind;function mh(t,e){return rR.call(t,e)}var vh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){mc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){mc(r)}else mc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){mc(n)}}},Mi=class extends Fr{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mh(e.next,s),error:e.error&&mh(e.error,s),complete:e.complete&&mh(e.complete,s)}):i=e}this.destination=new vh(i)}};function mc(t){Mt.useDeprecatedSynchronousErrorHandling?II(t):gc(t)}function iR(t){throw t}function yh(t,e){let{onStoppedNotification:n}=Mt;n&&Ri.setTimeout(()=>n(t,e))}var sR={closed:!0,next:to,error:iR,complete:to};var Ni=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function at(t){return t}function yc(...t){return _h(t)}function _h(t){return t.length===0?at:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=aR(n)?n:new Mi(n,r,i);return xi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wI(r),new r((i,s)=>{let o=new Mi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ni](){return this}pipe(...n){return _h(n)(this)}toPromise(n){return n=wI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wI(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function oR(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function aR(t){return t&&t instanceof Fr||oR(t)&&pc(t)}function Ih(t){return F(t?.lift)}function Y(t){return e=>{if(Ih(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new wh(t,e,n,r,i)}var wh=class extends Fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pi(){return Y((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oi=class extends z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ih(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return Pi()(this)}};var EI=Ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new vc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new EI}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ph:(this.currentObservers=null,s.push(n),new ye(()=>{this.currentObservers=null,Or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return t.create=(e,n)=>new vc(e,n),t})(),vc=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ph}};var Le=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Eh={now(){return(Eh.delegate||Date).now()},delegate:void 0};var _c=class extends ye{constructor(e,n){super()}schedule(e,n=0){return this}};var no={setInterval(t,e,...n){let{delegate:r}=no;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=no;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ki=class extends _c{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return no.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&no.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Fi.now=Eh.now;var Li=class extends Fi{constructor(e,n=Fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Th=new Li(ki);var Ic=class extends ki{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wc=class extends Li{};var Dh=new wc(Ic);var _t=new z(t=>t.complete());function TI(t){return t&&F(t.schedule)}function DI(t){return t[t.length-1]}function Ec(t){return F(DI(t))?t.pop():void 0}function zn(t){return TI(DI(t))?t.pop():void 0}function Ch(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function CI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function SI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Lr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function AI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CI=="function"?CI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Tc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Dc(t){return F(t?.then)}function Cc(t){return F(t[Ni])}function bc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Sc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ac=cR();function Rc(t){return F(t?.[Ac])}function xc(t){return SI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function Mc(t){return F(t?.getReader)}function ve(t){if(t instanceof z)return t;if(t!=null){if(Cc(t))return uR(t);if(Tc(t))return lR(t);if(Dc(t))return dR(t);if(bc(t))return RI(t);if(Rc(t))return hR(t);if(Mc(t))return fR(t)}throw Sc(t)}function uR(t){return new z(e=>{let n=t[Ni]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lR(t){return new z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dR(t){return new z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gc)})}function hR(t){return new z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function RI(t){return new z(e=>{pR(t,e).catch(n=>e.error(n))})}function fR(t){return RI(xc(t))}function pR(t,e){var n,r,i,s;return bI(this,void 0,void 0,function*(){try{for(n=AI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gn(t,e=0){return Y((n,r)=>{n.subscribe(G(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function Wn(t,e=0){return Y((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xI(t,e){return ve(t).pipe(Wn(e),Gn(e))}function MI(t,e){return ve(t).pipe(Wn(e),Gn(e))}function NI(t,e){return new z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function PI(t,e){return new z(n=>{let r;return rt(n,e,()=>{r=t[Ac](),rt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Nc(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function OI(t,e){return Nc(xc(t),e)}function kI(t,e){if(t!=null){if(Cc(t))return xI(t,e);if(Tc(t))return NI(t,e);if(Dc(t))return MI(t,e);if(bc(t))return Nc(t,e);if(Rc(t))return PI(t,e);if(Mc(t))return OI(t,e)}throw Sc(t)}function le(t,e){return e?kI(t,e):ve(t)}function x(...t){let e=zn(t);return le(t,e)}function Vi(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new z(e?i=>e.schedule(r,0,i):r)}function bh(t){return!!t&&(t instanceof z||F(t.lift)&&F(t.subscribe))}var _n=Ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function H(t,e){return Y((n,r)=>{let i=0;n.subscribe(G(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:gR}=Array;function mR(t,e){return gR(e)?t(...e):t(e)}function Pc(t){return H(e=>mR(t,e))}var{isArray:yR}=Array,{getPrototypeOf:vR,prototype:_R,keys:IR}=Object;function Oc(t){if(t.length===1){let e=t[0];if(yR(e))return{args:e,keys:null};if(wR(e)){let n=IR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wR(t){return t&&typeof t=="object"&&vR(t)===_R}function kc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ro(...t){let e=zn(t),n=Ec(t),{args:r,keys:i}=Oc(t);if(r.length===0)return le([],e);let s=new z(ER(r,e,i?o=>kc(i,o):at));return n?s.pipe(Pc(n)):s}function ER(t,e,n=at){return r=>{FI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)FI(e,()=>{let u=le(t[c],e),l=!1;u.subscribe(G(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function FI(t,e,n){t?rt(n,t,e):e()}function LI(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let v=!1;ve(n(y,l++)).subscribe(G(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let T=c.shift();o?rt(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(G(e,f,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return F(e)?_e((r,i)=>H((s,o)=>e(r,s,i,o))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),Y((r,i)=>LI(r,i,t,n)))}function Kn(t=1/0){return _e(at,t)}function VI(){return Kn(1)}function Ui(...t){return VI()(le(t,zn(t)))}function Fc(t){return new z(e=>{ve(t()).subscribe(e)})}function TR(...t){let e=Ec(t),{args:n,keys:r}=Oc(t),i=new z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ve(n[l]).subscribe(G(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?kc(r,a):a),s.complete())}))}});return e?i.pipe(Pc(e)):i}function ct(t,e){return Y((n,r)=>{let i=0;n.subscribe(G(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Qn(t){return Y((e,n)=>{let r=null,i=!1,s;r=e.subscribe(G(n,void 0,void 0,o=>{s=ve(t(o,Qn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function UI(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(G(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Vr(t,e){return F(e)?_e(t,e,1):_e(t,1)}function Yn(t){return Y((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function In(t){return t<=0?()=>_t:Y((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sh(t){return H(()=>t)}function Lc(t=DR){return Y((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DR(){return new _n}function io(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ct((i,s)=>t(i,s,r)):at,In(1),n?Yn(e):Lc(()=>new _n))}function ji(t){return t<=0?()=>_t:Y((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ah(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ct((i,s)=>t(i,s,r)):at,ji(1),n?Yn(e):Lc(()=>new _n))}function Vc(t,e){return Y(UI(t,e,arguments.length>=2,!0))}function Uc(...t){let e=zn(t);return Y((n,r)=>{(e?Ui(t,n,e):Ui(t,n)).subscribe(r)})}function It(t,e){return Y((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let u=0,l=s++;ve(t(c,l)).subscribe(i=G(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Rh(t){return Y((e,n)=>{ve(t).subscribe(G(n,()=>n.complete(),to)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?Y((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(G(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):at}function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function jc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Gh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CR=oe({__forward_ref__:oe});function Tw(t){return t.__forward_ref__=Tw,t.toString=function(){return Ze(this())},t}function Ye(t){return Dw(t)?t():t}function Dw(t){return typeof t=="function"&&t.hasOwnProperty(CR)&&t.__forward_ref__===Tw}function Cw(t){return t&&!!t.\u0275providers}var bw="https://g.co/ng/security#xss",R=class extends Error{constructor(e,n){super(Jf(e,n)),this.code=e}};function Jf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var bR=oe({\u0275cmp:oe}),SR=oe({\u0275dir:oe}),AR=oe({\u0275pipe:oe}),RR=oe({\u0275mod:oe}),Xc=oe({\u0275fac:oe}),so=oe({__NG_ELEMENT_ID__:oe}),jI=oe({__NG_ENV_ID__:oe});function wo(t){return typeof t=="string"?t:t==null?"":String(t)}function xR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():wo(t)}function MR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${n}`)}function Xf(t,e){throw new R(-201,!1)}function NR(t,e){t==null&&PR(e,t,null,"!=")}function PR(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Et(t){return{providers:t.providers||[],imports:t.imports||[]}}function yu(t){return BI(t,Aw)||BI(t,Rw)}function Sw(t){return yu(t)!==null}function BI(t,e){return t.hasOwnProperty(e)?t[e]:null}function OR(t){let e=t&&(t[Aw]||t[Rw]);return e||null}function $I(t){return t&&(t.hasOwnProperty(HI)||t.hasOwnProperty(kR))?t[HI]:null}var Aw=oe({\u0275prov:oe}),HI=oe({\u0275inj:oe}),Rw=oe({ngInjectableDef:oe}),kR=oe({ngInjectorDef:oe}),q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),Wh;function xw(){return Wh}function it(t){let e=Wh;return Wh=t,e}function Mw(t,e,n){let r=yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(e!==void 0)return e;Xf(t,"Injector")}var wn=globalThis;var M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var FR={},oo=FR,Kh="__NG_DI_FLAG__",eu="ngTempTokenPath",LR="ngTokenPath",VR=/\n/gm,UR="\u0275",qI="__source",zi;function jR(){return zi}function Zn(t){let e=zi;return zi=t,e}function BR(t,e=q.Default){if(zi===void 0)throw new R(-203,!1);return zi===null?Mw(t,void 0,e):zi.get(t,e&q.Optional?null:void 0,e)}function b(t,e=q.Default){return(xw()||BR)(Ye(t),e)}function I(t,e=q.Default){return b(t,vu(e))}function vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){let a=r[o],c=$R(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(b(i,s))}else e.push(b(r))}return e}function Nw(t,e){return t[Kh]=e,t.prototype[Kh]=e,t}function $R(t){return t[Kh]}function HR(t,e,n,r){let i=t[eu];throw e[qI]&&i.unshift(e[qI]),t.message=qR(`
`+t.message,i,n,r),t[LR]=i,t[eu]=null,t}function qR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UR?t.slice(2):t;let i=Ze(e);if(Array.isArray(e))i=e.map(Ze).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ze(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VR,`
  `)}`}function Eo(t){return{toString:t}.toString()}var Pw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pw||{}),Wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wt||{}),Wi={},st=[];function Ow(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];zR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function kw(t){return t===3||t===4||t===6}function zR(t){return t.charCodeAt(0)===64}function ao(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?zI(t,n,i,null,e[++r]):zI(t,n,i,null,null))}}return t}function zI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Fw="ng-template";function GR(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Ow(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Lw(t){return t.type===4&&t.value!==Fw}function WR(t,e,n){let r=t.type===4&&!n?Fw:t.value;return e===r}function KR(t,e,n){let r=4,i=t.attrs||[],s=ZR(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Nt(r)&&!Nt(c))return!1;if(o&&Nt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!WR(t,c,n)||c===""&&e.length===1){if(Nt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!GR(t.attrs,u,n)){if(Nt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=QR(l,i,Lw(t),n);if(d===-1){if(Nt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&Ow(f,u,0)!==-1||r&2&&u!==h){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(t){return(t&1)===0}function QR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return JR(e,t)}function YR(t,e,n=!1){for(let r=0;r<e.length;r++)if(KR(t,e[r],n))return!0;return!1}function ZR(t){for(let e=0;e<t.length;e++){let n=t[e];if(kw(n))return e}return t.length}function JR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GI(t,e){return t?":not("+e.trim()+")":e}function XR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=GI(s,i),i=""),r=o,s=s||!Nt(r);n++}return i!==""&&(e+=GI(s,i)),e}function ex(t){return t.map(XR).join(",")}function tx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:n}}function To(t){return Eo(()=>{let e=Hw(t),n=se(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wt.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});qw(n);let r=t.dependencies;return n.directiveDefs=KI(r,!1),n.pipeDefs=KI(r,!0),n.id=ix(n),n})}function nx(t){return Xn(t)||Uw(t)}function rx(t){return t!==null}function Tt(t){return Eo(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function WI(t,e){if(t==null)return Wi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Qr(t){return Eo(()=>{let e=Hw(t);return qw(e),e})}function Vw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xn(t){return t[bR]||null}function Uw(t){return t[SR]||null}function jw(t){return t[AR]||null}function Bw(t){let e=Xn(t)||Uw(t)||jw(t);return e!==null?e.standalone:!1}function $w(t,e){let n=t[RR]||null;if(!n&&e===!0)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return n}function Hw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WI(t.inputs,e),outputs:WI(t.outputs),debugInfo:null}}function qw(t){t.features?.forEach(e=>e(t))}function KI(t,e){if(!t)return null;let n=e?jw:nx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(rx)}function ix(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Zt=0,L=1,P=2,Ve=3,Ot=4,Ft=5,co=6,uo=7,$e=8,Ki=9,Kt=10,we=11,lo=12,QI=13,ns=14,kt=15,Do=16,Bi=17,Gt=18,_u=19,zw=20,Jn=21,xh=22,Br=23,Je=25,ep=1;var $r=7,tu=8,Qi=9,He=10,tp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tp||{});function Ur(t){return Array.isArray(t)&&typeof t[ep]=="object"}function Cn(t){return Array.isArray(t)&&t[ep]===!0}function np(t){return(t.flags&4)!==0}function Iu(t){return t.componentOffset>-1}function wu(t){return(t.flags&1)===1}function En(t){return!!t.template}function sx(t){return(t[P]&512)!==0}function Hr(t,e){let n=t.hasOwnProperty(Xc);return n?t[Xc]:null}var Zh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rs(){return Gw}function Gw(t){return t.type.prototype.ngOnChanges&&(t.setInput=ax),ox}rs.ngInherit=!0;function ox(){let t=Kw(this),e=t?.current;if(e){let n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ax(t,e,n,r){let i=this.declaredInputs[n],s=Kw(t)||cx(t,{previous:Wi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Zh(c&&c.currentValue,e,a===Wi),t[r]=e}var Ww="__ngSimpleChanges__";function Kw(t){return t[Ww]||null}function cx(t,e){return t[Ww]=e}var YI=null;var qt=function(t,e,n){YI?.(t,e,n)},ux="svg",lx="math",dx=!1;function hx(){return dx}function Qt(t){for(;Array.isArray(t);)t=t[Zt];return t}function fx(t){for(;Array.isArray(t);){if(typeof t[ep]=="object")return t;t=t[Zt]}return null}function Qw(t,e){return Qt(e[t])}function Dt(t,e){return Qt(e[t.index])}function rp(t,e){return t.data[e]}function Yw(t,e){return t[e]}function ir(t,e){let n=e[t];return Ur(n)?n:n[Zt]}function px(t){return(t[P]&4)===4}function ip(t){return(t[P]&128)===128}function gx(t){return Cn(t[Ve])}function Yi(t,e){return e==null?null:t[e]}function Zw(t){t[Bi]=0}function mx(t){t[P]&1024||(t[P]|=1024,ip(t)&&ho(t))}function yx(t,e){for(;t>0;)e=e[ns],t--;return e}function Jw(t){return t[P]&9216||t[Br]?.dirty}function Jh(t){Jw(t)?ho(t):t[P]&64&&(hx()?(t[P]|=1024,ho(t)):t[Kt].changeDetectionScheduler?.notify())}function ho(t){t[Kt].changeDetectionScheduler?.notify();let e=fo(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!ip(e)));)e=fo(e)}function Xw(t,e){if((t[P]&256)===256)throw new R(911,!1);t[Jn]===null&&(t[Jn]=[]),t[Jn].push(e)}function vx(t,e){if(t[Jn]===null)return;let n=t[Jn].indexOf(e);n!==-1&&t[Jn].splice(n,1)}function fo(t){let e=t[Ve];return Cn(e)?e[Ve]:e}var B={lFrame:uE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _x(){return B.lFrame.elementDepthCount}function Ix(){B.lFrame.elementDepthCount++}function wx(){B.lFrame.elementDepthCount--}function eE(){return B.bindingsEnabled}function Ex(){return B.skipHydrationRootTNode!==null}function Tx(t){return B.skipHydrationRootTNode===t}function Dx(){B.skipHydrationRootTNode=null}function Q(){return B.lFrame.lView}function Me(){return B.lFrame.tView}function sp(t){return B.lFrame.contextLView=t,t[$e]}function op(t){return B.lFrame.contextLView=null,t}function Xe(){let t=tE();for(;t!==null&&t.type===64;)t=t.parent;return t}function tE(){return B.lFrame.currentTNode}function Cx(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yr(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function ap(){return B.lFrame.isParent}function nE(){B.lFrame.isParent=!1}function bx(){return B.lFrame.contextLView}function rE(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Sx(t){return B.lFrame.bindingIndex=t}function is(){return B.lFrame.bindingIndex++}function iE(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ax(){return B.lFrame.inI18n}function Rx(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xh(e)}function xx(){return B.lFrame.currentDirectiveIndex}function Xh(t){B.lFrame.currentDirectiveIndex=t}function sE(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function oE(){return B.lFrame.currentQueryIndex}function cp(t){B.lFrame.currentQueryIndex=t}function Mx(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function aE(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=Mx(s),i===null||(s=s[ns],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=B.lFrame=cE();return r.currentTNode=e,r.lView=t,!0}function up(t){let e=cE(),n=t[L];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cE(){let t=B.lFrame,e=t===null?null:t.child;return e===null?uE(t):e}function uE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lE(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dE=lE;function lp(){let t=lE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nx(t){return(B.lFrame.contextLView=yx(t,B.lFrame.contextLView))[$e]}function sr(){return B.lFrame.selectedIndex}function qr(t){B.lFrame.selectedIndex=t}function dp(){let t=B.lFrame;return rp(t.tView,t.selectedIndex)}function Px(){return B.lFrame.currentNamespace}var hE=!0;function Eu(){return hE}function Tu(t){hE=t}function Ox(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Gw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Du(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Wc(t,e,n){fE(t,e,3,n)}function Kc(t,e,n,r){(t[P]&3)===n&&fE(t,e,n,r)}function Mh(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function fE(t,e,n,r){let i=r!==void 0?t[Bi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Bi]+=65536),(a<s||s==-1)&&(kx(t,n,e,c),t[Bi]=(t[Bi]&4294901760)+c+2),c++}function ZI(t,e){qt(4,t,e);let n=Fe(null);try{e.call(t)}finally{Fe(n),qt(5,t,e)}}function kx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Bi]>>16&&(t[P]&3)===e&&(t[P]+=16384,ZI(a,s)):ZI(a,s)}var Gi=-1,zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Fx(t){return t instanceof zr}function Lx(t){return(t.flags&8)!==0}function Vx(t){return(t.flags&16)!==0}function pE(t){return t!==Gi}function nu(t){return t&32767}function Ux(t){return t>>16}function ru(t,e){let n=Ux(t),r=e;for(;n>0;)r=r[ns],n--;return r}var ef=!0;function iu(t){let e=ef;return ef=t,e}var jx=256,gE=jx-1,mE=5,Bx=0,zt={};function $x(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(so)&&(r=n[so]),r==null&&(r=n[so]=Bx++);let i=r&gE,s=1<<i;e.data[t+(i>>mE)]|=s}function su(t,e){let n=yE(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,Nh(r.data,t),Nh(e,null),Nh(r.blueprint,null));let i=hp(t,e),s=t.injectorIndex;if(pE(i)){let o=nu(i),a=ru(i,e),c=a[L].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Nh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=EE(i),r===null)return Gi;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gi}function tf(t,e,n){$x(t,e,n)}function Hx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(kw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function vE(t,e,n){if(n&q.Optional||t!==void 0)return t;Xf(e,"NodeInjector")}function _E(t,e,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=t[Ki],s=it(void 0);try{return i?i.get(e,r,n&q.Optional):Mw(e,r,n&q.Optional)}finally{it(s)}}return vE(r,e,n)}function IE(t,e,n,r=q.Default,i){if(t!==null){if(e[P]&2048&&!(r&q.Self)){let o=Wx(t,e,n,r,zt);if(o!==zt)return o}let s=wE(t,e,n,r,zt);if(s!==zt)return s}return _E(e,n,r,i)}function wE(t,e,n,r,i){let s=zx(n);if(typeof s=="function"){if(!aE(e,t,r))return r&q.Host?vE(i,n,r):_E(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&q.Optional))Xf(n);else return o}finally{dE()}}else if(typeof s=="number"){let o=null,a=yE(t,e),c=Gi,u=r&q.Host?e[kt][Ft]:null;for((a===-1||r&q.SkipSelf)&&(c=a===-1?hp(t,e):e[a+8],c===Gi||!XI(r,!1)?a=-1:(o=e[L],a=nu(c),e=ru(c,e)));a!==-1;){let l=e[L];if(JI(s,a,l.data)){let d=qx(a,e,n,o,r,u);if(d!==zt)return d}c=e[a+8],c!==Gi&&XI(r,e[L].data[a+8]===u)&&JI(s,a,e)?(o=l,a=nu(c),e=ru(c,e)):a=-1}}return i}function qx(t,e,n,r,i,s){let o=e[L],a=o.data[t+8],c=r==null?Iu(a)&&ef:r!=o&&(a.type&3)!==0,u=i&q.Host&&s===a,l=Qc(a,o,n,c,u);return l!==null?Gr(e,o,l,a):zt}function Qc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&En(f)&&f.type===n)return c}return null}function Gr(t,e,n,r){let i=t[n],s=e.data;if(Fx(i)){let o=i;o.resolving&&MR(xR(s[n]));let a=iu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?it(o.injectImpl):null,l=aE(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ox(n,s[n],e)}finally{u!==null&&it(u),iu(a),o.resolving=!1,dE()}}return i}function zx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(so)?t[so]:void 0;return typeof e=="number"?e>=0?e&gE:Gx:e}function JI(t,e,n){let r=1<<t;return!!(n[e+(t>>mE)]&r)}function XI(t,e){return!(t&q.Self)&&!(t&q.Host&&e)}var jr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IE(this._tNode,this._lView,e,vu(r),n)}};function Gx(){return new jr(Xe(),Q())}function fp(t){return Eo(()=>{let e=t.prototype.constructor,n=e[Xc]||nf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Xc]||nf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function nf(t){return Dw(t)?()=>{let e=nf(Ye(t));return e&&e()}:Hr(t)}function Wx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=wE(s,o,n,r|q.Self,zt);if(a!==zt)return a;let c=s.parent;if(!c){let u=o[zw];if(u){let l=u.get(n,zt,r);if(l!==zt)return l}c=EE(o),o=o[ns]}s=c}return i}function EE(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function pp(t){return Hx(Xe(),t)}var Bc="__parameters__";function Kx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function TE(t,e,n){return Eo(()=>{let r=Kx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Bc)?c[Bc]:Object.defineProperty(c,Bc,{value:[]})[Bc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Qx(t){return typeof t=="function"}function Yx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Zx(t){return t.flat(Number.POSITIVE_INFINITY)}function gp(t,e){t.forEach(n=>Array.isArray(n)?gp(n,e):e(n))}function DE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ou(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function mp(t,e,n){let r=Co(t,e);return r>=0?t[r|1]=n:(r=~r,Jx(t,r,e,n)),r}function Ph(t,e){let n=Co(t,e);if(n>=0)return t[n|1]}function Co(t,e){return Xx(t,e,1)}function Xx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var et=Nw(TE("Optional"),8);var CE=Nw(TE("SkipSelf"),4);var Zi=new M("ENVIRONMENT_INITIALIZER"),bE=new M("INJECTOR",-1),SE=new M("INJECTOR_DEF_TYPES"),au=class{get(e,n=oo){if(n===oo){let r=new Error(`NullInjectorError: No provider for ${Ze(e)}!`);throw r.name="NullInjectorError",r}return n}};function ss(t){return{\u0275providers:t}}function eM(...t){return{\u0275providers:AE(!0,t),\u0275fromNgModule:!0}}function AE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return gp(e,o=>{let a=o;rf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RE(i,s),n}function RE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yp(i,s=>{e(s,r)})}}function rf(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,s=$I(t),o=!s&&Xn(t);if(!s&&!o){let c=t.ngModule;if(s=$I(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)rf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{gp(s.imports,l=>{rf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&RE(u,e)}if(!a){let u=Hr(i)||(()=>new i);e({provide:i,useFactory:u,deps:st},i),e({provide:SE,useValue:i,multi:!0},i),e({provide:Zi,useValue:()=>b(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;yp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function yp(t,e){for(let n of t)Cw(n)&&(n=n.\u0275providers),Array.isArray(n)?yp(n,e):e(n)}var tM=oe({provide:String,useValue:oe});function xE(t){return t!==null&&typeof t=="object"&&tM in t}function nM(t){return!!(t&&t.useExisting)}function rM(t){return!!(t&&t.useFactory)}function Ji(t){return typeof t=="function"}function iM(t){return!!t.useClass}var Cu=new M("Set Injector scope."),Yc={},sM={},Oh;function vp(){return Oh===void 0&&(Oh=new au),Oh}var lt=class{},po=class extends lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,of(e,o=>this.processProvider(o)),this.records.set(bE,$i(void 0,this)),i.has("environment")&&this.records.set(lt,$i(void 0,this));let s=this.records.get(Cu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SE,st,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zn(this),r=it(void 0),i;try{return e()}finally{Zn(n),it(r)}}get(e,n=oo,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jI))return e[jI](this);r=vu(r);let i,s=Zn(this),o=it(void 0);try{if(!(r&q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=lM(e)&&yu(e);u&&this.injectableDefInScope(u)?c=$i(sf(e),Yc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&q.Self?vp():this.parent;return n=r&q.Optional&&n===oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[eu]=a[eu]||[]).unshift(Ze(e)),s)throw a;return HR(a,e,"R3InjectorError",this.source)}else throw a}finally{it(o),Zn(s)}}resolveInjectorInitializers(){let e=Zn(this),n=it(void 0),r;try{let i=this.get(Zi,st,q.Self);for(let s of i)s()}finally{Zn(e),it(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){e=Ye(e);let n=Ji(e)?e:Ye(e&&e.provide),r=aM(e);if(!Ji(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$i(void 0,Yc,!0),i.factory=()=>Qh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yc&&(n.value=sM,n.value=n.factory()),typeof n.value=="object"&&n.value&&uM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sf(t){let e=yu(t),n=e!==null?e.factory:Hr(t);if(n!==null)return n;if(t instanceof M)throw new R(204,!1);if(t instanceof Function)return oM(t);throw new R(204,!1)}function oM(t){if(t.length>0)throw new R(204,!1);let n=OR(t);return n!==null?()=>n.factory(t):()=>new t}function aM(t){if(xE(t))return $i(void 0,t.useValue);{let e=ME(t);return $i(e,Yc)}}function ME(t,e,n){let r;if(Ji(t)){let i=Ye(t);return Hr(i)||sf(i)}else if(xE(t))r=()=>Ye(t.useValue);else if(rM(t))r=()=>t.useFactory(...Qh(t.deps||[]));else if(nM(t))r=()=>b(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(cM(t))r=()=>new i(...Qh(t.deps));else return Hr(i)||sf(i)}return r}function $i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cM(t){return!!t.deps}function uM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lM(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function of(t,e){for(let n of t)Array.isArray(n)?of(n,e):n&&Cw(n)?of(n.\u0275providers,e):e(n)}function or(t,e){t instanceof po&&t.assertNotDestroyed();let n,r=Zn(t),i=it(void 0);try{return e()}finally{Zn(r),it(i)}}function dM(t){if(!xw()&&!jR())throw new R(-203,!1)}function ew(t,e=null,n=null,r){let i=NE(t,e,n,r);return i.resolveInjectorInitializers(),i}function NE(t,e=null,n=null,r,i=new Set){let s=[n||st,eM(t)];return r=r||(typeof t=="object"?void 0:Ze(t)),new po(s,e||vp(),r||null,i)}var Ee=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return ew({name:""},i,r,"");{let s=r.name??"";return ew({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=oo,e.NULL=new au,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>b(bE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var af;function PE(t){af=t}function OE(){if(af!==void 0)return af;if(typeof document<"u")return document;throw new R(210,!1)}var _p=new M("AppId",{providedIn:"root",factory:()=>hM}),hM="ng",Ip=new M("Platform Initializer"),Jt=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var y9=new M("AnimationModuleType"),wp=new M("CSP nonce",{providedIn:"root",factory:()=>OE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function kE(t){return t instanceof Function?t():t}function fM(t){return(t??I(Ee)).get(Jt)==="browser"}function FE(t){return(t.flags&128)===128}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),pM=/^>|^->|<!--|-->|--!>|<!-$/g,gM=/(<|>)/g,mM="\u200B$1\u200B";function yM(t){return t.replace(pM,e=>e.replace(gM,mM))}var LE=new Map,vM=0;function _M(){return vM++}function IM(t){LE.set(t[_u],t)}function wM(t){LE.delete(t[_u])}var tw="__ngContext__";function er(t,e){Ur(e)?(t[tw]=e[_u],IM(e)):t[tw]=e}var EM;function Ep(t,e){return EM(t,e)}function Hi(t,e,n,r,i){if(r!=null){let s,o=!1;Cn(r)?s=r:Ur(r)&&(o=!0,r=r[Zt]);let a=Qt(r);t===0&&n!==null?i==null?BE(e,n,a):cu(e,n,a,i||null,!0):t===1&&n!==null?cu(e,n,a,i||null,!0):t===2?jM(e,a,o):t===3&&e.destroyNode(a),s!=null&&$M(e,t,s,n,i)}}function TM(t,e){return t.createText(e)}function DM(t,e,n){t.setValue(e,n)}function CM(t,e){return t.createComment(yM(e))}function VE(t,e,n){return t.createElement(e,n)}function bM(t,e){UE(t,e),e[Zt]=null,e[Ft]=null}function SM(t,e,n,r,i,s){r[Zt]=i,r[Ft]=e,Au(t,r,n,1,i,s)}function UE(t,e){e[Kt].changeDetectionScheduler?.notify(),Au(t,e,e[we],2,null,null)}function AM(t){let e=t[lo];if(!e)return kh(t[L],t);for(;e;){let n=null;if(Ur(e))n=e[lo];else{let r=e[He];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Ur(e)&&kh(e[L],e),e=e[Ve];e===null&&(e=t),Ur(e)&&kh(e[L],e),n=e&&e[Ot]}e=n}}function RM(t,e,n,r){let i=He+r,s=n.length;r>0&&(n[i-1][Ot]=e),r<s-He?(e[Ot]=n[i],DE(n,He+r,e)):(n.push(e),e[Ot]=null),e[Ve]=n;let o=e[Do];o!==null&&n!==o&&xM(o,e);let a=e[Gt];a!==null&&a.insertView(t),Jh(e),e[P]|=128}function xM(t,e){let n=t[Qi],i=e[Ve][Ve][kt];e[kt]!==i&&(t[P]|=tp.HasTransplantedViews),n===null?t[Qi]=[e]:n.push(e)}function jE(t,e){let n=t[Qi],r=n.indexOf(e);n.splice(r,1)}function go(t,e){if(t.length<=He)return;let n=He+e,r=t[n];if(r){let i=r[Do];i!==null&&i!==t&&jE(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let s=ou(t,He+e);bM(r[L],r);let o=s[Gt];o!==null&&o.detachView(s[L]),r[Ve]=null,r[Ot]=null,r[P]&=-129}return r}function bu(t,e){if(!(e[P]&256)){let n=e[we];n.destroyNode&&Au(t,e,n,3,null,null),AM(e)}}function kh(t,e){if(!(e[P]&256)){e[P]&=-129,e[P]|=256,e[Br]&&pI(e[Br]),NM(t,e),MM(t,e),e[L].type===1&&e[we].destroy();let n=e[Do];if(n!==null&&Cn(e[Ve])){n!==e[Ve]&&jE(n,e);let r=e[Gt];r!==null&&r.detachView(t)}wM(e)}}function MM(t,e){let n=t.cleanup,r=e[uo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[uo]=null);let i=e[Jn];if(i!==null){e[Jn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function NM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];qt(4,a,c);try{c.call(a)}finally{qt(5,a,c)}}else{qt(4,i,s);try{s.call(i)}finally{qt(5,i,s)}}}}}function PM(t,e,n){return OM(t,e.parent,n)}function OM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Zt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Wt.None||s===Wt.Emulated)return null}return Dt(r,n)}}function cu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BE(t,e,n){t.appendChild(e,n)}function nw(t,e,n,r,i){r!==null?cu(t,e,n,r,i):BE(t,e,n)}function kM(t,e,n,r){t.removeChild(e,n,r)}function Tp(t,e){return t.parentNode(e)}function FM(t,e){return t.nextSibling(e)}function LM(t,e,n){return UM(t,e,n)}function VM(t,e,n){return t.type&40?Dt(t,n):null}var UM=VM,rw;function Su(t,e,n,r){let i=PM(t,r,e),s=e[we],o=r.parent||e[Ft],a=LM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nw(s,i,n[c],a,!1);else nw(s,i,n,a,!1);rw!==void 0&&rw(s,r,e,n,i)}function Zc(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return cf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zc(t,r);{let i=t[e.index];return Cn(i)?cf(-1,i):Qt(i)}}else{if(n&32)return Ep(e,t)()||Qt(t[e.index]);{let r=$E(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(t[kt]);return Zc(i,r)}else return Zc(t,e.next)}}}return null}function $E(t,e){if(e!==null){let r=t[kt][Ft],i=e.projection;return r.projection[i]}return null}function cf(t,e){let n=He+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return Zc(r,i)}return e[$r]}function jM(t,e,n){let r=Tp(t,e);r&&kM(t,r,e,n)}function Dp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&er(Qt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Dp(t,e,n.child,r,i,s,!1),Hi(e,t,i,a,s);else if(c&32){let u=Ep(n,r),l;for(;l=u();)Hi(e,t,i,l,s);Hi(e,t,i,a,s)}else c&16?BM(t,e,r,n,i,s):Hi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Au(t,e,n,r,i,s){Dp(n,r,t.firstChild,e,i,s,!1)}function BM(t,e,n,r,i,s){let o=n[kt],c=o[Ft].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Hi(e,t,i,l,s)}else{let u=c,l=o[Ve];FE(r)&&(u.flags|=128),Dp(t,e,u,l,i,s,!0)}}function $M(t,e,n,r,i){let s=n[$r],o=Qt(n);s!==o&&Hi(e,t,r,s,i);for(let a=He;a<n.length;a++){let c=n[a];Au(c[L],c,t,e,r,s)}}function HM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}function qM(t,e,n){t.setAttribute(e,"style",n)}function HE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Yh(t,e,r),i!==null&&HE(t,e,i),s!==null&&qM(t,e,s)}var $c;function zM(){if($c===void 0&&($c=null,wn.trustedTypes))try{$c=wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $c}function Ru(t){return zM()?.createHTML(t)||t}var Hc;function zE(){if(Hc===void 0&&(Hc=null,wn.trustedTypes))try{Hc=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hc}function iw(t){return zE()?.createHTML(t)||t}function sw(t){return zE()?.createScriptURL(t)||t}var Dn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bw})`}},uf=class extends Dn{getTypeName(){return"HTML"}},lf=class extends Dn{getTypeName(){return"Style"}},df=class extends Dn{getTypeName(){return"Script"}},hf=class extends Dn{getTypeName(){return"URL"}},ff=class extends Dn{getTypeName(){return"ResourceURL"}};function Ct(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function bn(t,e){let n=GM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${bw})`)}return n===e}function GM(t){return t instanceof Dn&&t.getTypeName()||null}function GE(t){return new uf(t)}function WE(t){return new lf(t)}function KE(t){return new df(t)}function QE(t){return new hf(t)}function YE(t){return new ff(t)}function WM(t){let e=new gf(t);return KM()?new pf(e):e}var pf=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ru(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},gf=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ru(e),n}};function KM(){try{return!!new window.DOMParser().parseFromString(Ru(""),"text/html")}catch{return!1}}var QM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xu(t){return t=String(t),t.match(QM)?t:"unsafe:"+t}function Sn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function bo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var ZE=Sn("area,br,col,hr,img,wbr"),JE=Sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XE=Sn("rp,rt"),YM=bo(XE,JE),ZM=bo(JE,Sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),JM=bo(XE,Sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ow=bo(ZE,ZM,JM,YM),eT=Sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),XM=Sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eN=Sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),tN=bo(eT,XM,eN),nN=Sn("script,style,template"),mf=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!ow.hasOwnProperty(n))return this.sanitizedSomething=!0,!nN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!tN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;eT[a]&&(c=xu(c)),this.buf.push(" ",o,'="',aw(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();ow.hasOwnProperty(n)&&!ZE.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(aw(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},rN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iN=/([^\#-~ |!])/g;function aw(t){return t.replace(/&/g,"&amp;").replace(rN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(iN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var qc;function Cp(t,e){let n=null;try{qc=qc||WM(t);let r=e?String(e):"";n=qc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=qc.getInertBodyElement(r)}while(r!==s);let a=new mf().sanitizeChildren(cw(n)||n);return Ru(a)}finally{if(n){let r=cw(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function cw(t){return"content"in t&&sN(t)?t.content:null}function sN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var dt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(dt||{});function bp(t){let e=Sp();return e?iw(e.sanitize(dt.HTML,t)||""):bn(t,"HTML")?iw(Ct(t)):Cp(OE(),wo(t))}function oN(t){let e=Sp();return e?e.sanitize(dt.URL,t)||"":bn(t,"URL")?Ct(t):xu(wo(t))}function aN(t){let e=Sp();if(e)return sw(e.sanitize(dt.RESOURCE_URL,t)||"");if(bn(t,"ResourceURL"))return sw(Ct(t));throw new R(904,!1)}function cN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?aN:oN}function tT(t,e,n){return cN(e,n)(t)}function Sp(){let t=Q();return t&&t[Kt].sanitizer}var yf=class{};var uN="h",lN="b";var dN=()=>null;function Ap(t,e,n=!1){return dN(t,e,n)}var vf=class{},uu=class{};function hN(t){let e=Error(`No component factory found for ${Ze(t)}.`);return e[fN]=t,e}var fN="ngComponent";var _f=class{resolveComponentFactory(e){throw hN(e)}},os=(()=>{let e=class e{};e.NULL=new _f;let t=e;return t})();function pN(){return as(Xe(),Q())}function as(t,e){return new Xt(Dt(t,e))}var Xt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pN;let t=e;return t})();function gN(t){return t instanceof Xt?t.nativeElement:t}var mo=class{},So=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mN();let t=e;return t})();function mN(){let t=Q(),e=Xe(),n=ir(e.index,t);return(Ur(n)?n:t)[we]}var yN=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Fh={};function lu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Qt(s)),Cn(s)&&vN(s,r);let o=n.type;if(o&8)lu(t,e,n.child,r);else if(o&32){let a=Ep(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=$E(e,n);if(Array.isArray(a))r.push(...a);else{let c=fo(e[kt]);lu(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function vN(t,e){for(let n=He;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&lu(r[L],r,i,e)}t[$r]!==t[Zt]&&e.push(t[$r])}var nT=[];function _N(t){return t[Br]??IN(t)}function IN(t){let e=nT.pop()??Object.create(EN);return e.lView=t,e}function wN(t){t.lView[Br]!==t&&(t.lView=null,nT.push(t))}var EN=se(E({},dI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ho(t.lView)},consumerOnSignalRead(){this.lView[Br]=this}});function rT(t){return sT(t[lo])}function iT(t){return sT(t[Ot])}function sT(t){for(;t!==null&&!Cn(t);)t=t[Ot];return t}var TN="ngOriginalError";function Lh(t){return t[TN]}var Yt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lh(e);for(;n&&Lh(n);)n=Lh(n);return n||null}},oT=new M("",{providedIn:"root",factory:()=>I(Yt).handleError.bind(void 0)});var aT=!1,DN=new M("",{providedIn:"root",factory:()=>aT});var An={};function Ae(t=1){cT(Me(),Q(),sr()+t,!1)}function cT(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Wc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Kc(e,s,0,n)}qr(n)}function ce(t,e=q.Default){let n=Q();if(n===null)return b(t,e);let r=Xe();return IE(r,n,Ye(t),e)}function uT(){let t="invalid";throw new Error(t)}function CN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let s=i,o=n[++r],a=n[++r];Rx(o,s);let c=e[s];a(2,c)}}}finally{qr(-1)}}function Mu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Zt]=i,d[P]=r|4|128|8|64,(u!==null||t&&t[P]&2048)&&(d[P]|=2048),Zw(d),d[Ve]=d[ns]=t,d[$e]=n,d[Kt]=o||t&&t[Kt],d[we]=a||t&&t[we],d[Ki]=c||t&&t[Ki]||null,d[Ft]=s,d[_u]=_M(),d[co]=l,d[zw]=u,d[kt]=e.type==2?t[kt]:d,d}function Ao(t,e,n,r,i){let s=t.data[e];if(s===null)s=bN(t,e,n,r,i),Ax()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Cx();s.injectorIndex=o===null?-1:o.injectorIndex}return Yr(s,!0),s}function bN(t,e,n,r,i){let s=tE(),o=ap(),a=o?s:s&&s.parent,c=t.data[e]=NN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function lT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dT(t,e,n,r,i){let s=sr(),o=r&2;try{qr(-1),o&&e.length>Je&&cT(t,e,Je,!1),qt(o?2:0,i),n(r,i)}finally{qr(s),qt(o?3:1,i)}}function Rp(t,e,n){if(np(e)){let r=Fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Fe(r)}}}function xp(t,e,n){eE()&&(VN(t,e,n,Dt(n,e)),(n.flags&64)===64&&gT(t,e,n))}function Mp(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function hT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Np(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Np(t,e,n,r,i,s,o,a,c,u,l){let d=Je+r,h=d+i,f=SN(d,h),g=typeof u=="function"?u():u;return f[L]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function SN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:An);return n}function AN(t,e,n,r){let s=r.get(DN,aT)||n===Wt.ShadowDom,o=t.selectRootElement(e,s);return RN(o),o}function RN(t){xN(t)}var xN=()=>null;function MN(t,e,n,r){let i=_T(e);i.push(n),t.firstCreatePass&&IT(t).push(r,i.length-1)}function NN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ex()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function uw(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?lw(n,e,i,s):r.hasOwnProperty(i)&&lw(n,e,r[i],s)}return n}function lw(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function PN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=uw(d.inputs,l,c,f),u=uw(d.outputs,l,u,g);let y=c!==null&&o!==null&&!Lw(e)?QN(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function ON(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fT(t,e,n,r,i,s,o,a){let c=Dt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Op(t,n,l,r,i),Iu(e)&&kN(n,e.index)):e.type&3?(r=ON(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function kN(t,e){let n=ir(e,t);n[P]&16||(n[P]|=64)}function Pp(t,e,n,r){if(eE()){let i=r===null?null:{"":-1},s=jN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&pT(t,e,n,o,i,a),i&&BN(n,r,i)}n.mergedAttrs=ao(n.mergedAttrs,n.attrs)}function pT(t,e,n,r,i,s){for(let u=0;u<r.length;u++)tf(su(n,e),t,r[u].type);HN(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=lT(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ao(n.mergedAttrs,l.hostAttrs),qN(t,n,e,c,l),$N(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}PN(t,n,s)}function FN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;LN(o)!=a&&o.push(a),o.push(n,r,s)}}function LN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Iu(n)&&zN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||su(n,e),er(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Gr(e,t,a,n);if(er(u,e),o!==null&&KN(e,a-i,u,c,n,o),En(c)){let l=ir(n.index,e);l[$e]=Gr(e,t,a,n)}}}function gT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=xx();try{qr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Xh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&UN(c,u)}}finally{qr(-1),Xh(o)}}function UN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function jN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(YR(e,o.selectors,!1))if(r||(r=[]),En(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;If(t,e,c)}else r.unshift(o),If(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function If(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function BN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new R(-301,!1);r.push(e[i],s)}}}function $N(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;En(e)&&(n[""]=t)}}function HN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Hr(i.type,!0)),o=new zr(s,En(i),ce);t.blueprint[r]=o,n[r]=o,FN(t,e,r,lT(t,n,i.hostVars,An),i)}function zN(t,e,n){let r=Dt(e,t),i=hT(n),s=t[Kt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Nu(t,Mu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function GN(t,e,n,r,i,s){let o=Dt(t,e);WN(e[we],o,s,t.value,n,r,i)}function WN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?wo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function KN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];mT(r,n,c,u,l)}}function mT(t,e,n,r,i){let s=Fe(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Fe(s)}}function QN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function yT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vT(t,e){let n=t.contentQueries;if(n!==null){let r=Fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];cp(s),a.contentQueries(2,e[o],o)}}}finally{Fe(r)}}}function Nu(t,e){return t[lo]?t[QI][Ot]=e:t[lo]=e,t[QI]=e,e}function wf(t,e,n){cp(0);let r=Fe(null);try{e(t,n)}finally{Fe(r)}}function _T(t){return t[uo]||(t[uo]=[])}function IT(t){return t.cleanup||(t.cleanup=[])}function YN(t,e,n){return(t===null||En(t))&&(n=fx(n[e.index])),n[we]}function wT(t,e){let n=t[Ki],r=n?n.get(Yt,null):null;r&&r.handleError(e)}function Op(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];mT(u,c,r,a,i)}}function ZN(t,e,n){let r=Qw(e,t);DM(t[we],r,n)}var JN=100;function XN(t,e=!0){let n=t[Kt],r=n.rendererFactory,i=!1;i||r.begin?.();try{eP(t)}catch(s){throw e&&wT(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function eP(t){Ef(t,0);let e=0;for(;Jw(t);){if(e===JN)throw new R(103,!1);e++,Ef(t,1)}}function tP(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1;!s&&e[Kt].inlineEffectRunner?.flush(),up(e);let o=null,a=null;!s&&nP(t)&&(a=_N(e),o=hI(a));try{Zw(e),Sx(t.bindingStartIndex),n!==null&&dT(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Wc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Kc(e,d,0,null),Mh(e,0)}if(rP(e),ET(e,0),t.contentQueries!==null&&vT(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Wc(e,d)}else{let d=t.contentHooks;d!==null&&Kc(e,d,1),Mh(e,1)}CN(t,e);let u=t.components;u!==null&&DT(e,u,0);let l=t.viewQuery;if(l!==null&&wf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Wc(e,d)}else{let d=t.viewHooks;d!==null&&Kc(e,d,2),Mh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xh]){for(let d of e[xh])d();e[xh]=null}s||(e[P]&=-73)}catch(c){throw ho(e),c}finally{a!==null&&(fI(a,o),wN(a)),lp()}}function nP(t){return t.type!==2}function ET(t,e){for(let n=rT(t);n!==null;n=iT(n))for(let r=He;r<n.length;r++){let i=n[r];TT(i,e)}}function rP(t){for(let e=rT(t);e!==null;e=iT(e)){if(!(e[P]&tp.HasTransplantedViews))continue;let n=e[Qi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ve];mx(i)}}}function iP(t,e,n){let r=ir(e,t);TT(r,n)}function TT(t,e){ip(t)&&Ef(t,e)}function Ef(t,e){let r=t[L],i=t[P],s=t[Br],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&dh(s)),s&&(s.dirty=!1),t[P]&=-9217,o)tP(r,t,r.template,t[$e]);else if(i&8192){ET(t,1);let a=r.components;a!==null&&DT(t,a,1)}}function DT(t,e,n){for(let r=0;r<e.length;r++)iP(t,e[r],n)}function kp(t){for(t[Kt].changeDetectionScheduler?.notify();t;){t[P]|=64;let e=fo(t);if(sx(t)&&!e)return t;t=e}return null}var Wr=class{get rootNodes(){let e=this._lView,n=e[L];return lu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if(Cn(e)){let n=e[tu],r=n?n.indexOf(this):-1;r>-1&&(go(e,r),ou(n,r))}this._attachedToViewContainer=!1}bu(this._lView[L],this._lView)}onDestroy(e){Xw(this._lView,e)}markForCheck(){kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Jh(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,XN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,UE(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e,Jh(this._lView)}},Ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sP;let t=e;return t})();function sP(t){return oP(Xe(),Q(),(t&16)===16)}function oP(t,e,n){if(Iu(t)&&!n){let r=ir(t.index,e);return new Wr(r,r)}else if(t.type&47){let r=e[kt];return new Wr(r,e)}return null}var CT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Tf=class extends CT{constructor(e){super(),this._lView=e}onDestroy(e){return Xw(this._lView,e),()=>vx(this._lView,e)}};function aP(){return new Tf(Q())}var dw=new Set;function xo(t){dw.has(t)||(dw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Df=class extends he{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Vh(s),i&&(i=Vh(i)),o&&(o=Vh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ye&&e.add(a),a}};function Vh(t){return e=>{setTimeout(t,void 0,e)}}var ut=Df;function hw(...t){}function cP(){let t=typeof wn.requestAnimationFrame=="function",e=wn[t?"requestAnimationFrame":"setTimeout"],n=wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cP().nativeRequestAnimationFrame,dP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,uP,hw,hw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uP={};function Fp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cf(t),t.isCheckStableRunning=!0,Fp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cf(t))}function dP(t){let e=()=>{lP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(hP(a))return n.invokeTask(i,s,o,a);try{return fw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return fw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),pw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cf(t),Fp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pw(t){t._nesting--,Fp(t)}function hP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var qi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qi||{}),fP={destroy(){}};function Lp(t,e){!e&&dM(Lp);let n=e?.injector??I(Ee);if(!fM(n))return fP;xo("NgAfterNextRender");let r=n.get(Vp),i=r.handler??=new Sf,s=e?.phase??qi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(CT).onDestroy(o),c=new bf(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var bf=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Z),this.errorHandler=e.get(Yt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Sf=class{constructor(){this.executingCallbacks=!1,this.buckets={[qi.EarlyRead]:new Set,[qi.Write]:new Set,[qi.MixedReadWrite]:new Set,[qi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Vp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pP(t,e){let n=ir(e,t),r=n[L];gP(r,n);let i=n[Zt];i!==null&&n[co]===null&&(n[co]=Ap(i,n[Ki])),Up(r,n,n[$e])}function gP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Up(t,e,n){up(e);try{let r=t.viewQuery;r!==null&&wf(1,r,n);let i=t.template;i!==null&&dT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vT(t,e),t.staticViewQueries&&wf(2,t.viewQuery,n);let s=t.components;s!==null&&mP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,lp()}}function mP(t,e){for(let n=0;n<e.length;n++)pP(t,e[n])}function du(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Gh(i,a);else if(s==2){let c=a,u=e[++o];r=Gh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var hu=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xn(e);return new Xi(n,this.ngModule)}};function gw(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function yP(t){let e=t.toLowerCase();return e==="svg"?ux:e==="math"?lx:null}var Af=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vu(r);let i=this.injector.get(e,Fh,r);return i!==Fh||n===Fh?i:this.parentInjector.get(e,n,r)}},Xi=class extends uu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ex(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Af(e,s):e,a=o.get(mo,null);if(a===null)throw new R(407,!1);let c=o.get(yN,null),u=o.get(Vp,null),l=o.get(yf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?AN(h,r,this.componentDef.encapsulation,o):VE(h,f,yP(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;g!==null&&(v=Ap(g,o,!0));let T=Np(0,null,null,1,0,null,null,null,null,null,null),$=Mu(null,T,null,y,null,null,d,h,o,null,v);up($);let X,re;try{let me=this.componentDef,ie,ot=null;me.findHostDirectiveDefs?(ie=[],ot=new Map,me.findHostDirectiveDefs(me,ie,ot),ie.push(me)):ie=[me];let Hn=vP($,g),Pr=_P(Hn,g,me,ie,$,d,h);re=rp(T,Je),g&&EP(h,me,g,r),n!==void 0&&TP(re,this.ngContentSelectors,n),X=wP(Pr,me,ie,ot,$,[DP]),Up(T,$,null)}finally{lp()}return new Rf(this.componentType,X,as(re,$),$,re)}},Rf=class extends vf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Op(s[L],s,i,e,n),this.previousInputValues.set(e,n);let o=ir(this._tNode.index,s);kp(o)}}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vP(t,e){let n=t[L],r=Je;return t[r]=e,Ao(n,r,2,"#host",null)}function _P(t,e,n,r,i,s,o){let a=i[L];IP(r,t,e,o);let c=null;e!==null&&(c=Ap(e,i[Ki]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Mu(i,hT(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&If(a,t,r.length-1),Nu(i,d),i[t.index]=d}function IP(t,e,n,r){for(let i of t)e.mergedAttrs=ao(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(du(e,e.mergedAttrs,!0),n!==null&&qE(r,n,e))}function wP(t,e,n,r,i,s){let o=Xe(),a=i[L],c=Dt(o,i);pT(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Gr(i,a,d,o);er(h,i)}gT(a,i,o),c&&er(c,i);let u=Gr(i,a,o.directiveStart+o.componentOffset,o);if(t[$e]=i[$e]=u,s!==null)for(let l of s)l(u,e);return Rp(a,o,t),u}function EP(t,e,n,r){if(r)Yh(t,n,["ng-version","17.0.9"]);else{let{attrs:i,classes:s}=tx(e.selectors[0]);i&&Yh(t,n,i),s&&s.length>0&&HE(t,n,s.join(" "))}}function TP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function DP(){let t=Xe();Du(Q()[L],t)}function CP(t){return Object.getPrototypeOf(t.prototype).constructor}function bP(t){let e=CP(t.type),n=!0,r=[t];for(;e;){let i;if(En(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=zc(t.inputs),o.inputTransforms=zc(t.inputTransforms),o.declaredInputs=zc(t.declaredInputs),o.outputs=zc(t.outputs);let a=i.hostBindings;a&&xP(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&AP(t,c),u&&RP(t,u),jc(t.inputs,i.inputs),jc(t.declaredInputs,i.declaredInputs),jc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),jc(o.inputTransforms,i.inputTransforms)),En(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===bP&&(n=!1)}}e=Object.getPrototypeOf(e)}SP(r)}function SP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ao(i.hostAttrs,n=ao(n,i.hostAttrs))}}function zc(t){return t===Wi?{}:t===st?[]:t}function AP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function RP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function xP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function jp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function bT(t,e,n){return t[e]=n}function wt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function MP(t,e,n,r){let i=wt(t,e,n);return wt(t,e+1,r)||i}function NP(t,e,n,r,i){let s=MP(t,e,n,r);return wt(t,e+2,i)||s}function ar(t,e,n,r){let i=Q(),s=is();if(wt(i,s,e)){let o=Me(),a=dp();GN(a,i,t,e,n,r)}return ar}function PP(t,e,n,r){return wt(t,is(),n)?e+wo(n)+r:An}function Gc(t,e){return t<<17|e<<2}function Kr(t){return t>>17&32767}function OP(t){return(t&2)==2}function kP(t,e){return t&131071|e<<17}function xf(t){return t|2}function es(t){return(t&131068)>>2}function Uh(t,e){return t&-131069|e<<2}function FP(t){return(t&1)===1}function Mf(t){return t|1}function LP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Kr(o),c=es(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Co(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Kr(t[a+1]);t[r+1]=Gc(h,a),h!==0&&(t[h+1]=Uh(t[h+1],r)),t[a+1]=kP(t[a+1],r)}else t[r+1]=Gc(a,0),a!==0&&(t[a+1]=Uh(t[a+1],r)),a=r;else t[r+1]=Gc(c,0),a===0?a=r:t[c+1]=Uh(t[c+1],r),c=r;u&&(t[r+1]=xf(t[r+1])),mw(t,l,r,!0),mw(t,l,r,!1),VP(e,l,t,r,s),o=Gc(a,c),s?e.classBindings=o:e.styleBindings=o}function VP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Co(s,e)>=0&&(n[r+1]=Mf(n[r+1]))}function mw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Kr(i):es(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];UP(c,e)&&(a=!0,t[o+1]=r?Mf(u):xf(u)),o=r?Kr(u):es(u)}a&&(t[n+1]=r?xf(i):Mf(i))}function UP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Co(t,e)>=0:!1}var Pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jP(t){return t.substring(Pt.key,Pt.keyEnd)}function BP(t){return $P(t),ST(t,AT(t,0,Pt.textEnd))}function ST(t,e){let n=Pt.textEnd;return n===e?-1:(e=Pt.keyEnd=HP(t,Pt.key=e,n),AT(t,e,n))}function $P(t){Pt.key=0,Pt.keyEnd=0,Pt.value=0,Pt.valueEnd=0,Pt.textEnd=t.length}function AT(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function HP(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function qe(t,e,n){let r=Q(),i=is();if(wt(r,i,e)){let s=Me(),o=dp();fT(s,o,r,t,e,r[we],n,!1)}return qe}function Nf(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Op(t,n,s[o],o,r)}function Zr(t,e,n){return RT(t,e,n,!1),Zr}function qP(t,e){return RT(t,e,null,!0),qP}function Rn(t){GP(JP,zP,t,!0)}function zP(t,e){for(let n=BP(e);n>=0;n=ST(e,n))mp(t,jP(e),!0)}function RT(t,e,n,r){let i=Q(),s=Me(),o=iE(2);if(s.firstUpdatePass&&MT(s,t,o,r),e!==An&&wt(i,o,e)){let a=s.data[sr()];NT(s,a,i,i[we],t,i[o+1]=eO(e,n),r,o)}}function GP(t,e,n,r){let i=Me(),s=iE(2);i.firstUpdatePass&&MT(i,null,s,r);let o=Q();if(n!==An&&wt(o,s,n)){let a=i.data[sr()];if(PT(a,r)&&!xT(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Gh(c,n||"")),Nf(i,a,o,n,r)}else XP(i,a,o,o[we],o[s+1],o[s+1]=ZP(t,e,n),r,s)}}function xT(t,e){return e>=t.expandoStartIndex}function MT(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[sr()],o=xT(t,n);PT(s,r)&&e===null&&!o&&(e=!1),e=WP(i,s,e,r),LP(i,s,e,n,o,r)}}function WP(t,e,n,r){let i=sE(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jh(null,t,e,n,r),n=yo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=jh(i,t,e,n,r),s===null){let c=KP(t,e,r);c!==void 0&&Array.isArray(c)&&(c=jh(null,t,e,c[1],r),c=yo(c,e.attrs,r),QP(t,e,r,c))}else s=YP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function KP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(es(r)!==0)return t[Kr(r)]}function QP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Kr(i)]=r}function YP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=yo(r,o,n)}return yo(r,e.attrs,n)}function jh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=yo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function yo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mp(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ZP(t,e,n){if(n==null||n==="")return st;let r=[],i=Ct(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function JP(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&mp(t,r,n)}function XP(t,e,n,r,i,s,o,a){i===An&&(i=st);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0,g=null,y;l===d?(c+=2,u+=2,h!==f&&(g=d,y=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,y=f),g!==null&&NT(t,e,n,r,g,y,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function NT(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=FP(u)?yw(c,e,n,i,es(u),o):void 0;if(!fu(l)){fu(s)||OP(u)&&(s=yw(c,null,n,i,a,o));let d=Qw(sr(),n);HM(r,o,d,i,s)}}function yw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===An&&(h=d?st:void 0);let f=d?Ph(h,r):l===r?h:void 0;if(u&&!fu(f)&&(f=Ph(c,r)),fu(f)&&(a=f,o))return a;let g=t[i+1];i=o?Kr(g):es(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ph(c,r))}return a}function fu(t){return t!==void 0}function eO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ze(Ct(t)))),t}function PT(t,e){return(t.flags&(e?8:16))!==0}var v9=new RegExp(`^(\\d+)*(${lN}|${uN})*(.*)`);var tO=()=>null;function vo(t,e){return tO(t,e)}var Pf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Bh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function nO(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Bh(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=Bh(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),v=n(s,u);if(Object.is(v,y)){let T=n(a,h);Object.is(T,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new pu,i??=_w(t,s,o,n),Of(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,t.detach(s)),o--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,o++}}for(;s<=a;)vw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Bh(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new pu,i??=_w(t,s,o,n);let h=n(s,l);if(Of(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)vw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Of(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function vw(t,e,n,r,i){if(Of(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function _w(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var pu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Pu(t,e,n,r){let i=e.tView,o=t[P]&4096?4096:16,a=Mu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Do]=c;let u=t[Gt];return u!==null&&(a[Gt]=u.createEmbeddedView(i)),Up(i,a,n),a}function OT(t,e){let n=He+e;if(n<t.length)return t[n]}function _o(t,e){return!e||e.firstChild===null||FE(t)}function Ou(t,e,n,r=!0){let i=e[L];if(RM(i,e,t,n),r){let o=cf(n,t),a=e[we],c=Tp(a,t[$r]);c!==null&&SM(i,t[Ft],a,e,c,o)}let s=e[co];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function kT(t,e){let n=go(t,e);return n!==void 0&&bu(n[L],n),n}var Jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rO;let t=e;return t})();function rO(){let t=Xe();return LT(t,Q())}var iO=Jr,FT=class extends iO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=hp(this._hostTNode,this._hostLView);if(pE(e)){let n=ru(e,this._hostLView),r=nu(e),i=n[L].data[r+8];return new jr(i,n)}else return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Iw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-He}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=vo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,_o(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Qx(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Xi(Xn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(lt,null);y&&(s=y)}let l=Xn(c.componentType??{}),d=vo(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,_o(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ve],u=new FT(c,c[Ft],c[Ve]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ou(o,i,s,r),e.attachToViewContainerRef(),DE($h(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Iw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);r&&(ou($h(this._lContainer),n),bu(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);return r&&ou($h(this._lContainer),n)!=null?new Wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Iw(t){return t[tu]}function $h(t){return t[tu]||(t[tu]=[])}function LT(t,e){let n,r=e[t.index];return Cn(r)?n=r:(n=yT(r,e,null,t),e[t.index]=n,Nu(e,n)),oO(n,e,t,r),new FT(n,t,e)}function sO(t,e){let n=t[we],r=n.createComment(""),i=Dt(e,t),s=Tp(n,i);return cu(n,s,r,FM(n,i),!1),r}var oO=uO,aO=()=>!1;function cO(t,e,n){return aO(t,e,n)}function uO(t,e,n,r){if(t[$r])return;let i;n.type&8?i=Qt(r):i=sO(e,n),t[$r]=i}function lO(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Ao(e,t,4,o||null,Yi(u,a));Pp(e,n,l,Yi(u,c)),Du(e,l);let d=l.tView=Np(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function tr(t,e,n,r,i,s,o,a){let c=Q(),u=Me(),l=t+Je,d=u.firstCreatePass?lO(l,u,c,e,n,r,i,s,o):u.data[l];Yr(d,!1);let h=dO(u,c,d,t);Eu()&&Su(u,c,h,d),er(h,c);let f=yT(h,c,h,d);return c[l]=f,Nu(c,f),cO(f,d,c),wu(d)&&xp(u,c,d),o!=null&&Mp(c,d,a),tr}var dO=hO;function hO(t,e,n,r){return Tu(!0),e[we].createComment("")}function I9(t,e,n){xo("NgControlFlow");let r=Q(),i=is(),s=Vf(r,Je+t),o=0;if(wt(r,i,e)){let a=Fe(null);try{if(kT(s,o),e!==-1){let c=Uf(r[L],Je+e),u=vo(s,c.tView.ssrId),l=Pu(r,c,n,{dehydratedView:u});Ou(s,l,o,_o(c,u))}}finally{Fe(a)}}else{let a=OT(s,o);a!==void 0&&(a[$e]=n)}}var kf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-He}};function w9(t){return t}var Ff=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function E9(t,e,n,r,i,s,o,a,c,u,l){xo("NgControlFlow");let d=c!==void 0,h=Q(),f=a?o.bind(h[kt][$e]):o,g=new Ff(d,f);h[Je+t]=g,tr(t+1,e,n,r,i,s),d&&tr(t+2,c,u,l)}var Lf=class extends Pf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-He}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[co];this.needsIndexUpdate||=e!==this.length,Ou(this.lContainer,n,e,_o(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,fO(this.lContainer,e)}create(e,n){let r=vo(this.lContainer,this.templateTNode.tView.ssrId);return Pu(this.hostLView,this.templateTNode,new kf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){bu(e[L],e)}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return pO(this.lContainer,e)}};function T9(t){let e=Fe(null),n=sr();try{let r=Q(),i=r[L],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Vf(r,a),u=Uf(i,a);s.liveCollection=new Lf(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(nO(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=is(),c=o.length===0;if(wt(r,a,c)){let u=n+2,l=Vf(r,u);if(c){let d=Uf(i,u),h=vo(l,d.tView.ssrId),f=Pu(r,d,void 0,{dehydratedView:h});Ou(l,f,0,_o(d,h))}else kT(l,0)}}}finally{Fe(e)}}function Vf(t,e){return t[e]}function fO(t,e){return go(t,e)}function pO(t,e){return OT(t,e)}function Uf(t,e){return rp(t,e)}function gO(t,e,n,r,i,s){let o=e.consts,a=Yi(o,i),c=Ao(e,t,2,r,a);return Pp(e,n,c,Yi(o,s)),c.attrs!==null&&du(c,c.attrs,!1),c.mergedAttrs!==null&&du(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ht(t,e,n,r){let i=Q(),s=Me(),o=Je+t,a=i[we],c=s.firstCreatePass?gO(o,s,i,e,n,r):s.data[o],u=mO(s,i,c,a,e,t);i[o]=u;let l=wu(c);return Yr(c,!0),qE(a,u,c),(c.flags&32)!==32&&Eu()&&Su(s,i,u,c),_x()===0&&er(u,i),Ix(),l&&(xp(s,i,c),Rp(s,c,i)),r!==null&&Mp(i,c),ht}function Lt(){let t=Xe();ap()?nE():(t=t.parent,Yr(t,!1));let e=t;Tx(e)&&Dx(),wx();let n=Me();return n.firstCreatePass&&(Du(n,t),np(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Lx(e)&&Nf(n,e,Q(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Vx(e)&&Nf(n,e,Q(),e.stylesWithoutHost,!1),Lt}function cr(t,e,n,r){return ht(t,e,n,r),Lt(),cr}var mO=(t,e,n,r,i,s)=>(Tu(!0),VE(r,i,Px()));function yO(t,e,n,r,i){let s=e.consts,o=Yi(s,r),a=Ao(e,t,8,"ng-container",o);o!==null&&du(a,o,!0);let c=Yi(s,i);return Pp(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ku(t,e,n){let r=Q(),i=Me(),s=t+Je,o=i.firstCreatePass?yO(s,i,r,e,n):i.data[s];Yr(o,!0);let a=vO(i,r,o,t);return r[s]=a,Eu()&&Su(i,r,a,o),er(a,r),wu(o)&&(xp(i,r,o),Rp(i,o,r)),n!=null&&Mp(r,o),ku}function Fu(){let t=Xe(),e=Me();return ap()?nE():(t=t.parent,Yr(t,!1)),e.firstCreatePass&&(Du(e,t),np(t)&&e.queries.elementEnd(t)),Fu}var vO=(t,e,n,r)=>(Tu(!0),CM(e[we],""));function Bp(){return Q()}function $p(t,e,n){let r=Q(),i=is();if(wt(r,i,e)){let s=Me(),o=dp(),a=sE(s.data),c=YN(a,o,r);fT(s,o,r,t,e,c,n,!0)}return $p}var gu="en-US";var _O=gu;function IO(t){NR(t,"Expected localeId to be defined"),typeof t=="string"&&(_O=t.toLowerCase().replace(/_/g,"-"))}function Mo(t){return!!t&&typeof t.then=="function"}function VT(t){return!!t&&typeof t.subscribe=="function"}function ur(t,e,n,r){let i=Q(),s=Me(),o=Xe();return EO(s,i,i[we],o,t,e,r),ur}function wO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[uo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function EO(t,e,n,r,i,s,o){let a=wu(r),u=t.firstCreatePass&&IT(t),l=e[$e],d=_T(e),h=!0;if(r.type&3||o){let y=Dt(r,e),v=o?o(y):y,T=d.length,$=o?re=>o(Qt(re[r.index])):r.index,X=null;if(!o&&a&&(X=wO(t,e,i,r.index)),X!==null){let re=X.__ngLastListenerFn__||X;re.__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,h=!1}else{s=Ew(r,e,l,s,!1);let re=n.listen(v,i,s);d.push(s,re),u&&u.push(i,$,T,T+1)}}else s=Ew(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let v=0;v<y;v+=2){let T=g[v],$=g[v+1],me=e[T][$].subscribe(s),ie=d.length;d.push(s,me),u&&u.push(i,r.index,ie,-(ie+1))}}}function ww(t,e,n,r){try{return qt(6,e,n),n(r)!==!1}catch(i){return wT(t,i),!1}finally{qt(7,e,n)}}function Ew(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?ir(t.index,e):e;kp(a);let c=ww(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=ww(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function ft(t=1){return Nx(t)}function TO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function D9(t){let e=bx();return Yw(e,Je+t)}function xn(t,e=""){let n=Q(),r=Me(),i=t+Je,s=r.firstCreatePass?Ao(r,i,1,e,null):r.data[i],o=DO(r,n,s,e,t);n[i]=o,Eu()&&Su(r,n,o,s),Yr(s,!1)}var DO=(t,e,n,r,i)=>(Tu(!0),TM(e[we],r));function CO(t){return Mn("",t,""),CO}function Mn(t,e,n){let r=Q(),i=PP(r,t,e,n);return i!==An&&ZN(r,sr(),i),Mn}function bO(t,e,n){let r=Me();if(r.firstCreatePass){let i=En(t);jf(n,r.data,r.blueprint,i,!0),jf(e,r.data,r.blueprint,i,!1)}}function jf(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let s=0;s<t.length;s++)jf(t[s],e,n,r,i);else{let s=Me(),o=Q(),a=Xe(),c=Ji(t)?t:Ye(t.provide),u=ME(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ji(t)||!t.multi){let f=new zr(u,i,ce),g=qh(c,e,i?l:l+h,d);g===-1?(tf(su(a,o),s,c),Hh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=qh(c,e,l+h,d),g=qh(c,e,l,l+h),y=f>=0&&n[f],v=g>=0&&n[g];if(i&&!v||!i&&!y){tf(su(a,o),s,c);let T=RO(i?AO:SO,n.length,i,r,u);!i&&v&&(n[g].providerFactory=T),Hh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=UT(n[i?g:f],u,!i&&r);Hh(s,t,f>-1?f:g,T)}!i&&r&&v&&n[g].componentProviders++}}}function Hh(t,e,n,r){let i=Ji(e),s=iM(e);if(i||s){let c=(s?Ye(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function UT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SO(t,e,n,r){return Bf(this.multi,[])}function AO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Gr(n,n[L],this.providerFactory.index,r);s=a.slice(0,o),Bf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Bf(i,s);return s}function Bf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function RO(t,e,n,r,i){let s=new zr(t,n,ce);return s.multi=[],s.index=e,s.componentProviders=0,UT(s,i,r&&!n),s}function C9(t,e=[]){return n=>{n.providersResolver=(r,i)=>bO(r,i?i(t):t,e)}}var nr=class{},Io=class{};var $f=class extends nr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hu(this);let i=$w(e);this._bootstrapComponents=kE(i.bootstrap),this._r3Injector=NE(e,n,[{provide:nr,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],Ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hf=class extends Io{constructor(e){super(),this.moduleType=e}create(e){return new $f(this.moduleType,e,[])}};var mu=class extends nr{constructor(e){super(),this.componentFactoryResolver=new hu(this),this.instance=null;let n=new po([...e.providers,{provide:nr,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||vp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lu(t,e,n=null){return new mu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AE(!1,r.type),s=i.length>0?Lu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(b(lt))});let t=e;return t})();function No(t){xo("NgStandalone"),t.getStandaloneInjector=e=>e.get(xO).getOrCreateStandaloneInjector(t)}function b9(t,e,n,r){return MO(Q(),rE(),t,e,n,r)}function jT(t,e){let n=t[e];return n===An?void 0:n}function MO(t,e,n,r,i,s){let o=e+n;return wt(t,o,i)?bT(t,o+1,s?r.call(s,i):r(i)):jT(t,o+1)}function NO(t,e,n,r,i,s,o,a){let c=e+n;return NP(t,c,i,s,o)?bT(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):jT(t,c+3)}function S9(t,e){let n=Me(),r,i=t+Je;n.firstCreatePass?(r=PO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Hr(r.type,!0)),o,a=it(ce);try{let c=iu(!1),u=s();return iu(c),TO(n,Q(),i,u),u}finally{it(a)}}function PO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function A9(t,e,n,r,i){let s=t+Je,o=Q(),a=Yw(o,s);return OO(o,s)?NO(o,rE(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function OO(t,e){return t[L].data[e].pure}function kO(){return this._results[Symbol.iterator]()}var qf=class t{get changes(){return this._changes??=new ut}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=kO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Zx(e);(this._changesDetected=!Yx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VO;let t=e;return t})(),FO=ts,LO=class extends FO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Pu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Wr(i)}};function VO(){return Hp(Xe(),Q())}function Hp(t,e){return t.type&4?new LO(e,t,as(t,e)):null}var zf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)zT(e,n).matches!==null&&this.queries[n].setDirty()}},Wf=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Kf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,UO(n,s)),this.matchTNodeWithReadOption(e,n,Qc(n,e,s,!1,!1))}else r===ts?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Qc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Xt||i===Jr||i===ts&&n.type&4)this.addMatch(n.index,-2);else{let s=Qc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function UO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function jO(t,e){return t.type&11?as(t,e):t.type&4?Hp(t,e):null}function BO(t,e,n,r){return n===-1?jO(e,t):n===-2?$O(t,e,r):Gr(t,t[L],n,e)}function $O(t,e,n){if(n===Xt)return as(e,t);if(n===ts)return Hp(e,t);if(n===Jr)return LT(e,t)}function BT(t,e,n,r){let i=e[Gt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(BO(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Yf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=BT(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=He;d<l.length;d++){let h=l[d];h[Do]===h[Ve]&&Yf(h[L],h,u,r)}if(l[Qi]!==null){let d=l[Qi];for(let h=0;h<d.length;h++){let f=d[h];Yf(f[L],f,u,r)}}}}}return r}function $T(t){let e=Q(),n=Me(),r=oE();cp(r+1);let i=zT(n,r);if(t.dirty&&px(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Yf(n,e,r,[]):BT(n,e,i,r);t.reset(s,gN),t.notifyOnChanges()}return!0}return!1}function HT(t,e,n,r){let i=Me();if(i.firstCreatePass){let s=Xe();zO(i,new Wf(e,n,r),s.index),GO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}qO(i,Q(),n)}function qT(){return HO(Q(),oE())}function HO(t,e){return t[Gt].queries[e].queryList}function qO(t,e,n){let r=new qf((n&4)===4);MN(t,e,r,r.destroy),e[Gt]===null&&(e[Gt]=new Gf),e[Gt].queries.push(new zf(r))}function zO(t,e,n){t.queries===null&&(t.queries=new Kf),t.queries.track(new Qf(e,n))}function GO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function zT(t,e){return t.queries.getByIndex(e)}var rr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GT=new rr("17.0.9");var Vu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Zf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Uu=(()=>{let e=class e{compileModuleSync(r){return new Hf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=$w(r),o=kE(s.declarations).reduce((a,c)=>{let u=Xn(c);return u&&a.push(new Xi(u)),a},[]);return new Zf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ju=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WT=new M("");var Bu=new M("Application Initializer"),KT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(Bu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Mo(o))r.push(o);else if(VT(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$u=new M("appBootstrapListener");function WO(){gI(()=>{throw new R(600,!1)})}function KO(t){return t.isBoundToModule}function QO(t,e,n){try{let r=n();return Mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Nn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(oT),this.afterRenderEffectManager=I(Vp),this.componentTypes=[],this.components=[],this.isStable=I(ju).hasPendingTasks.pipe(H(r=>!r)),this._injector=I(lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof uu;if(!this._injector.get(KT).done){let f=!s&&Bw(r),g=!1;throw new R(405,g)}let a;s?a=r:a=this._injector.get(os).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=KO(a)?void 0:this._injector.get(nr),u=i||a.selector,l=a.create(Ee.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(WT,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),zh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;zh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($u,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new R(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var YO=(()=>{let e=class e{constructor(){this.zone=I(Z),this.applicationRef=I(Nn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZO(t){return[{provide:Z,useFactory:t},{provide:Zi,multi:!0,useFactory:()=>{let e=I(YO,{optional:!0});return()=>e.initialize()}},{provide:Zi,multi:!0,useFactory:()=>{let e=I(tk);return()=>{e.initialize()}}},{provide:oT,useFactory:JO}]}function JO(){let t=I(Z),e=I(Yt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function XO(t){let e=ZO(()=>new Z(ek(t)));return ss([[],e])}function ek(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tk=(()=>{let e=class e{constructor(){this.subscription=new ye,this.initialized=!1,this.zone=I(Z),this.pendingTasks=I(ju)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nk(){return typeof $localize<"u"&&$localize.locale||gu}var qp=new M("LocaleId",{providedIn:"root",factory:()=>I(qp,q.Optional|q.SkipSelf)||nk()});var QT=new M("PlatformDestroyListeners");var Jc=null;function rk(t=[],e){return Ee.create({name:e,providers:[{provide:Cu,useValue:"platform"},{provide:QT,useValue:new Set([()=>Jc=null])},...t]})}function ik(t=[]){if(Jc)return Jc;let e=rk(t);return Jc=e,WO(),sk(e),e}function sk(t){t.get(Ip,null)?.forEach(n=>n())}function YT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ik(r),s=[XO(),...n||[]],a=new mu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Z);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Yt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(QT);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),QO(u,c,()=>{let f=a.get(KT);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(qp,gu);IO(g||gu);let y=a.get(Nn);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function Po(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ZT(t){let e=Xn(t);if(!e)return null;let n=new Xi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var zp=null;function cs(){return zp}function tD(t){zp||(zp=t)}var Hu=class{},Te=new M("DocumentToken"),Qp=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(ok))(),providedIn:"platform"});let t=e;return t})(),nD=new M("Location Initialized"),ok=(()=>{let e=class e extends Qp{constructor(){super(),this._doc=I(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cs().getBaseHref(this._doc)}onPopState(r){let i=cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Yp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function JT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pn(t){return t&&t[0]!=="?"?"?"+t:t}var On=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(Zp))(),providedIn:"root"});let t=e;return t})(),rD=new M("appBaseHref"),Zp=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Yp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(Qp),b(rD,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iD=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Yp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(Qp),b(rD,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),us=(()=>{let e=class e{constructor(r){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=uk(JT(XT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pn(i))}normalize(r){return e.stripTrailingSlash(ck(this._basePath,XT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pn,e.joinWithSlash=Yp,e.stripTrailingSlash=JT,e.\u0275fac=function(i){return new(i||e)(b(On))},e.\u0275prov=S({token:e,factory:()=>ak(),providedIn:"root"});let t=e;return t})();function ak(){return new us(b(On))}function ck(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XT(t){return t.replace(/\/index.html$/,"")}function uk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function sD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Jp=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Gp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){eD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){eD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ce(Jr),ce(ts))},e.\u0275dir=Qr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Gp=class{constructor(){this.$implicit=null,this.ngIf=null}};function eD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ze(e)}'.`)}function lk(t,e){return new R(2100,!1)}var e3=(()=>{let e=class e{transform(r,i,s){if(r==null)return null;if(!this.supports(r))throw lk(e,r);return r.slice(i,s)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Vw({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var dk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tt({type:e}),e.\u0275inj=Et({});let t=e;return t})(),Xp="browser",hk="server";function fk(t){return t===Xp}function eg(t){return t===hk}var oD=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>fk(I(Jt))?new Wp(I(Te),window):new Kp});let t=e;return t})(),Wp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=pk(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function pk(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Kp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qu=class{};var rg=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ig=class t extends rg{static makeCurrent(){tD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mk();return n==null?null:yk(n)}resetBaseElement(){Oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sD(document.cookie,e)}},Oo=null;function mk(){return Oo=Oo||document.querySelector("base"),Oo?Oo.getAttribute("href"):null}function yk(t){return new URL(t,document.baseURI).pathname}var vk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),sg=new M("EventManagerPlugins"),lD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b(sg),b(Z))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),zu=class{constructor(e){this._doc=e}},tg="ng-app-id",dD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${tg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(tg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(tg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(Te),b(_p),b(wp,8),b(Jt))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ag=/%COMP%/g,hD="%COMP%",_k=`_nghost-${hD}`,Ik=`_ngcontent-${hD}`,wk=!0,Ek=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>wk});function Tk(t){return Ik.replace(ag,t)}function Dk(t){return _k.replace(ag,t)}function fD(t,e){return e.map(n=>n.replace(ag,t))}var aD=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=eg(c),this.defaultRenderer=new ko(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wt.ShadowDom&&(i=se(E({},i),{encapsulation:Wt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Gu?s.applyToHost(r):s instanceof Fo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Wt.Emulated:o=new Gu(u,l,i,this.appId,d,a,c,h);break;case Wt.ShadowDom:return new og(u,l,r,i,a,c,this.nonce,h);default:o=new Fo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(lD),b(dD),b(_p),b(Ek),b(Te),b(Jt),b(Z),b(wp))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ko=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ng[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ng[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ng[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var og=class extends ko{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=fD(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fo=class extends ko{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gu=class extends Fo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=Tk(u),this.hostAttr=Dk(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Ck=(()=>{let e=class e extends zu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(b(Te))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),uD=["alt","control","meta","shift"],bk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ak=(()=>{let e=class e extends zu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),uD.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=bk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),uD.forEach(a=>{if(a!==s){let c=Sk[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(Te))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function _3(t,e){return YT(E({rootComponent:t},Rk(e)))}function Rk(t){return{appProviders:[...Ok,...t?.providers??[]],platformProviders:Pk}}function xk(){ig.makeCurrent()}function Mk(){return new Yt}function Nk(){return PE(document),document}var Pk=[{provide:Jt,useValue:Xp},{provide:Ip,useValue:xk,multi:!0},{provide:Te,useFactory:Nk,deps:[]}];var Ok=[{provide:Cu,useValue:"root"},{provide:Yt,useFactory:Mk,deps:[]},{provide:sg,useClass:Ck,multi:!0,deps:[Te,Z,Jt]},{provide:sg,useClass:Ak,multi:!0,deps:[Te]},aD,dD,lD,{provide:mo,useExisting:aD},{provide:qu,useClass:vk,deps:[]},[]];function kk(){return new cg(b(Te))}var cg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(Te))},e.\u0275prov=S({token:e,factory:function(i){let s=null;return i?s=new i:s=kk(),s},providedIn:"root"});let t=e;return t})();var ug=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=b(pD),s},providedIn:"root"});let t=e;return t})();function Fk(t){return new pD(t.get(Te))}var pD=(()=>{let e=class e extends ug{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case dt.NONE:return i;case dt.HTML:return bn(i,"HTML")?Ct(i):Cp(this._doc,String(i)).toString();case dt.STYLE:return bn(i,"Style")?Ct(i):i;case dt.SCRIPT:if(bn(i,"Script"))return Ct(i);throw new R(5200,!1);case dt.URL:return bn(i,"URL")?Ct(i):xu(String(i));case dt.RESOURCE_URL:if(bn(i,"ResourceURL"))return Ct(i);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(r){return GE(r)}bypassSecurityTrustStyle(r){return WE(r)}bypassSecurityTrustScript(r){return KE(r)}bypassSecurityTrustUrl(r){return QE(r)}bypassSecurityTrustResourceUrl(r){return YE(r)}};e.\u0275fac=function(i){return new(i||e)(b(Te))},e.\u0275prov=S({token:e,factory:function(i){let s=null;return i?s=new i:s=Fk(b(Ee)),s},providedIn:"root"});let t=e;return t})();var j="primary",Jo=Symbol("RouteTitle"),pg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ps(t){return new pg(t)}function Lk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?gg(t):void 0,r=e?gg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CD(t[i],e[i]))return!1;return!0}function gg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function CD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function gr(t){return bh(t)?t:Mo(t)?le(Promise.resolve(t)):x(t)}var Uk={exact:SD,subset:AD},bD={exact:jk,subset:Bk,ignored:()=>!0};function mD(t,e,n){return Uk[n.paths](t.root,e.root,n.matrixParams)&&bD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jk(t,e){return en(t,e)}function SD(t,e,n){if(!ei(t.segments,e.segments)||!Qu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SD(t.children[r],e.children[r],n))return!1;return!0}function Bk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CD(t[n],e[n]))}function AD(t,e,n){return RD(t,e,e.segments,n)}function RD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ei(i,n)||e.hasChildren()||!Qu(i,n,r))}else if(t.segments.length===n.length){if(!ei(t.segments,n)||!Qu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ei(t.segments,i)||!Qu(t.segments,i,r)||!t.children[j]?!1:RD(t.children[j],e,s,r)}}function Qu(t,e,n){return e.every((r,i)=>bD[n](t[i].parameters,r.parameters))}var dr=class{constructor(e=new te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ps(this.queryParams)),this._queryParamMap}toString(){return qk.serialize(this)}},te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yu(this)}},Xr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ps(this.parameters)),this._parameterMap}toString(){return MD(this)}};function $k(t,e){return ei(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Hk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var Xo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>new Ho)(),providedIn:"root"});let t=e;return t})(),Ho=class{parse(e){let n=new yg(e);return new dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Lo(e.root,!0)}`,r=Wk(e.queryParams),i=typeof e.fragment=="string"?`#${zk(e.fragment)}`:"";return`${n}${r}${i}`}},qk=new Ho;function Yu(t){return t.segments.map(e=>MD(e)).join("/")}function Lo(t,e){if(!t.hasChildren())return Yu(t);if(e){let n=t.children[j]?Lo(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==j&&r.push(`${i}:${Lo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Hk(t,(r,i)=>i===j?[Lo(t.children[j],!1)]:[`${i}:${Lo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${Yu(t)}/${n[0]}`:`${Yu(t)}/(${n.join("//")})`}}function xD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(t){return xD(t).replace(/%3B/gi,";")}function zk(t){return encodeURI(t)}function mg(t){return xD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(t){return decodeURIComponent(t)}function yD(t){return Zu(t.replace(/\+/g,"%20"))}function MD(t){return`${mg(t.path)}${Gk(t.parameters)}`}function Gk(t){return Object.entries(t).map(([e,n])=>`;${mg(e)}=${mg(n)}`).join("")}function Wk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wu(n)}=${Wu(i)}`).join("&"):`${Wu(n)}=${Wu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Kk=/^[^\/()?;#]+/;function lg(t){let e=t.match(Kk);return e?e[0]:""}var Qk=/^[^\/()?;=#]+/;function Yk(t){let e=t.match(Qk);return e?e[0]:""}var Zk=/^[^=?&#]+/;function Jk(t){let e=t.match(Zk);return e?e[0]:""}var Xk=/^[^&#]+/;function e1(t){let e=t.match(Xk);return e?e[0]:""}var yg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new te(e,n)),r}parseSegment(){let e=lg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new Xr(Zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=lg(this.remaining);i&&(r=i,this.capture(r))}e[Zu(n)]=Zu(r)}parseQueryParam(e){let n=Jk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=e1(this.remaining);o&&(r=o,this.capture(r))}let i=yD(n),s=yD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=j);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[j]:new te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function ND(t){return t.segments.length>0?new te([],{[j]:t}):t}function PD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=PD(i);if(r===j&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new te(t.segments,e);return t1(n)}function t1(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new te(t.segments.concat(e.segments),e.children)}return t}function gs(t){return t instanceof dr}function n1(t,e,n=null,r=null){let i=OD(t);return kD(i,e,n,r)}function OD(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new te(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ND(r);return e??i}function kD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return dg(i,i,i,n,r);let s=r1(e);if(s.toRoot())return dg(i,i,new te([],{}),n,r);let o=i1(s,i,t),a=o.processChildren?jo(o.segmentGroup,o.index,s.commands):LD(o.segmentGroup,o.index,s.commands);return dg(i,o.segmentGroup,a,n,r)}function Ju(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function qo(t){return typeof t=="object"&&t!=null&&t.outlets}function dg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=FD(t,e,n);let a=ND(PD(o));return new dr(a,s,i)}function FD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=FD(s,e,n)}),new te(t.segments,r)}var Xu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ju(r[0]))throw new R(4003,!1);let i=r.find(qo);if(i&&i!==r.at(-1))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Xu(n,e,r)}var hs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function i1(t,e,n){if(t.isAbsolute)return new hs(e,!0,0);if(!n)return new hs(e,!1,NaN);if(n.parent===null)return new hs(n,!0,0);let r=Ju(t.commands[0])?0:1,i=n.segments.length-1+r;return s1(n,i,t.numberOfDoubleDots)}function s1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new hs(r,!1,i-s)}function o1(t){return qo(t[0])?t[0].outlets:{[j]:t}}function LD(t,e,n){if(t||(t=new te([],{})),t.segments.length===0&&t.hasChildren())return jo(t,e,n);let r=a1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new te(t.segments.slice(0,r.pathIndex),{});return s.children[j]=new te(t.segments.slice(r.pathIndex),t.children),jo(s,0,i)}else return r.match&&i.length===0?new te(t.segments,{}):r.match&&!t.hasChildren()?vg(t,e,n):r.match?jo(t,0,i):vg(t,e,n)}function jo(t,e,n){if(n.length===0)return new te(t.segments,{});{let r=o1(n),i={};if(Object.keys(r).some(s=>s!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let s=jo(t.children[j],e,n);return new te(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=LD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new te(t.segments,i)}}function a1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(qo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!_D(c,u,o))return s;r+=2}else{if(!_D(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(qo(s)){let c=c1(s.outlets);return new te(r,c)}if(i===0&&Ju(n[0])){let c=t.segments[e];r.push(new Xr(c.path,vD(n[0]))),i++;continue}let o=qo(s)?s.outlets[j]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ju(a)?(r.push(new Xr(o,vD(a))),i+=2):(r.push(new Xr(o,{})),i++)}return new te(r,{})}function c1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=vg(new te([],{}),0,r))}),e}function vD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _D(t,e,n){return t==n.path&&en(e,n.parameters)}var Bo="imperative",bt=class{constructor(e,n){this.id=e,this.url=n}},ms=class extends bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vt=class extends bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hr=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},zo=class extends bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},el=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class extends bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wg=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eg=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dg=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cg=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sg=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ag=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Go=class{},Wo=class{constructor(e){this.url=e}};var Rg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ea,this.attachRef=null}},ea=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Rg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Mg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mg(e,this._root).map(n=>n.value)}};function xg(t,e){if(t===e.value)return e;for(let n of e.children){let r=xg(t,n);if(r)return r}return null}function Mg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Mg(t,n);if(r.length)return r.unshift(e),r}return[]}var pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ds(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var rl=class extends nl{constructor(e,n){super(e),this.snapshot=n,Bg(this,e)}toString(){return this.snapshot.toString()}};function VD(t){let e=u1(t),n=new Le([new Xr("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),a=new pr(n,r,s,o,i,j,t,e.root);return a.snapshot=e.root,new rl(new pt(a,[]),e)}function u1(t){let e={},n={},r={},i="",s=new Ko([],e,r,i,n,j,t,null,{});return new il("",new pt(s,[]))}var pr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(u=>u[Jo]))??x(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(e=>ps(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(e=>ps(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&jD(i)&&(r.resolve[Jo]=i.title),r}var Ko=class{get title(){return this.data?.[Jo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ps(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},il=class extends nl{constructor(e,n){super(n),this.url=e,Bg(this,n)}toString(){return UD(this._root)}};function Bg(t,e){e.value._routerState=t,e.children.forEach(n=>Bg(t,n))}function UD(t){let e=t.children.length>0?` { ${t.children.map(UD).join(", ")} } `:"";return`${t.value}${e}`}function hg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),Vk(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ng(t,e){let n=en(t.params,e.params)&&$k(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ng(t.parent,e.parent))}function jD(t){return typeof t.title=="string"||t.title===null}var l1=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=I(ea),this.location=I(Jr),this.changeDetector=I(Ro),this.environmentInjector=I(lt),this.inputBinder=I(cl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Pg(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]});let t=e;return t})(),Pg=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===pr?this.route:e===ea?this.childContexts:this.parent.get(e,n)}},cl=new M(""),ID=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ro([i.queryParams,i.params,i.data]).pipe(It(([o,a,c],u)=>(c=E(E(E({},o),a),c),u===0?x(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ZT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function d1(t,e,n){let r=Qo(t,e._root,n?n._root:void 0);return new rl(r,e)}function Qo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=h1(t,e,n);return new pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qo(t,a)),o}}let r=f1(e.value),i=e.children.map(s=>Qo(t,s));return new pt(r,i)}}function h1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qo(t,r,i);return Qo(t,r)})}function f1(t){return new pr(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var BD="ngNavigationCancelingError";function $D(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HD(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function HD(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[BD]=!0,r.cancellationCode=e,n&&(r.url=n),r}function p1(t){return qD(t)&&gs(t.url)}function qD(t){return t&&t[BD]}var g1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=To({type:e,selectors:[["ng-component"]],standalone:!0,features:[No],decls:1,vars:0,template:function(i,s){i&1&&cr(0,"router-outlet")},dependencies:[l1],encapsulation:2});let t=e;return t})();function m1(t,e){return t.providers&&!t._injector&&(t._injector=Lu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $g(t){let e=t.children&&t.children.map($g),n=e?se(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=g1),n}function tn(t){return t.outlet||j}function y1(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function ta(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var v1=(t,e,n,r)=>H(i=>(new Og(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Og=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ds(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ds(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ds(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ds(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ag(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(hg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ta(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{constructor(e,n){this.component=e,this.route=n}};function _1(t,e,n){let r=t._root,i=e?e._root:null;return Vo(r,i,n,[r.value])}function I1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Sw(t)?t:e.get(t):r}function Vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ds(e);return t.children.forEach(o=>{w1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$o(a,n.getContext(o),i)),i}function w1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=E1(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Vo(t,e,a?a.children:null,r,i):Vo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fs(a.outlet.component,o))}else o&&$o(e,a,i),i.canActivateChecks.push(new sl(r)),s.component?Vo(t,null,a?a.children:null,r,i):Vo(t,null,n,r,i);return i}function E1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ng(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!Ng(t,e)}}function $o(t,e,n){let r=ds(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?$o(o,e.children.getContext(s),n):$o(o,null,n):$o(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fs(e.outlet.component,i)):n.canDeactivateChecks.push(new fs(null,i)):n.canDeactivateChecks.push(new fs(null,i))}function na(t){return typeof t=="function"}function T1(t){return typeof t=="boolean"}function D1(t){return t&&na(t.canLoad)}function C1(t){return t&&na(t.canActivate)}function b1(t){return t&&na(t.canActivateChild)}function S1(t){return t&&na(t.canDeactivate)}function A1(t){return t&&na(t.canMatch)}function zD(t){return t instanceof _n||t?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function ys(){return It(t=>ro(t.map(e=>e.pipe(In(1),Uc(Ku)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===Ku)return Ku;if(n===!1||n instanceof dr)return n}return!0}),ct(e=>e!==Ku),In(1)))}function R1(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?x(se(E({},n),{guardsResult:!0})):x1(o,r,i,t).pipe(_e(a=>a&&T1(a)?M1(r,s,t,e):x(a)),H(a=>se(E({},n),{guardsResult:a})))})}function x1(t,e,n,r){return le(t).pipe(_e(i=>F1(i.component,i.route,n,e,r)),Ht(i=>i!==!0,!0))}function M1(t,e,n,r){return le(e).pipe(Vr(i=>Ui(P1(i.route.parent,r),N1(i.route,r),k1(t,i.path,n),O1(t,i.route,n))),Ht(i=>i!==!0,!0))}function N1(t,e){return t!==null&&e&&e(new Sg(t)),x(!0)}function P1(t,e){return t!==null&&e&&e(new Cg(t)),x(!0)}function O1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return x(!0);let i=r.map(s=>Fc(()=>{let o=ta(e)??n,a=vs(s,o),c=C1(a)?a.canActivate(e,t):or(o,()=>a(e,t));return gr(c).pipe(Ht())}));return x(i).pipe(ys())}function k1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>I1(o)).filter(o=>o!==null).map(o=>Fc(()=>{let a=o.guards.map(c=>{let u=ta(o.node)??n,l=vs(c,u),d=b1(l)?l.canActivateChild(r,t):or(u,()=>l(r,t));return gr(d).pipe(Ht())});return x(a).pipe(ys())}));return x(s).pipe(ys())}function F1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return x(!0);let o=s.map(a=>{let c=ta(e)??i,u=vs(a,c),l=S1(u)?u.canDeactivate(t,e,n,r):or(c,()=>u(t,e,n,r));return gr(l).pipe(Ht())});return x(o).pipe(ys())}function L1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return x(!0);let s=i.map(o=>{let a=vs(o,t),c=D1(a)?a.canLoad(e,n):or(t,()=>a(e,n));return gr(c)});return x(s).pipe(ys(),GD(r))}function GD(t){return yc(Ie(e=>{if(gs(e))throw $D(t,e)}),H(e=>e===!0))}function V1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return x(!0);let s=i.map(o=>{let a=vs(o,t),c=A1(a)?a.canMatch(e,n):or(t,()=>a(e,n));return gr(c)});return x(s).pipe(ys(),GD(r))}var Yo=class{constructor(e){this.segmentGroup=e||null}},ol=class extends Error{constructor(e){super(),this.urlTree=e}};function ls(t){return Vi(new Yo(t))}function U1(t){return Vi(new R(4e3,!1))}function j1(t){return Vi(HD(!1,3))}var kg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return x(r);if(i.numberOfChildren>1||!i.children[j])return U1(e.redirectTo);i=i.children[j]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ol(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new dr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B1(t,e,n,r,i){let s=Hg(t,e,n);return s.matched?(r=m1(e,r),V1(r,e,n,i).pipe(H(o=>o===!0?s:E({},Fg)))):x(s)}function Hg(t,e,n){if(e.path==="**")return $1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Fg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Lk)(n,t,e);if(!i)return E({},Fg);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $1(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wD(t,e,n,r){return n.length>0&&z1(t,n,r)?{segmentGroup:new te(e,q1(r,new te(n,t.children))),slicedSegments:[]}:n.length===0&&G1(t,n,r)?{segmentGroup:new te(t.segments,H1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new te(t.segments,t.children),slicedSegments:n}}function H1(t,e,n,r){let i={};for(let s of n)if(ul(t,e,s)&&!r[tn(s)]){let o=new te([],{});i[tn(s)]=o}return E(E({},r),i)}function q1(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&tn(r)!==j){let i=new te([],{});n[tn(r)]=i}return n}function z1(t,e,n){return n.some(r=>ul(t,e,r)&&tn(r)!==j)}function G1(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function W1(t,e,n,r){return tn(t)!==r&&(r===j||!ul(e,n,t))?!1:Hg(e,t,n).matched}function K1(t,e,n){return e.length===0&&!t.children[n]}var Lg=class{};function Q1(t,e,n,r,i,s,o="emptyOnly"){return new Vg(t,e,n,r,i,o,s).recognize()}var Y1=31,Vg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new kg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=wD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new Ko([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),i=new pt(r,n),s=new il("",i),o=n1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,j).pipe(Qn(r=>{if(r instanceof ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Yo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=jg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(s=>s instanceof pt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return le(i).pipe(Vr(s=>{let o=r.children[s],a=y1(n,s);return this.processSegmentGroup(e,a,o,s)}),Vc((s,o)=>(s.push(...o),s)),Yn(null),Ah(),_e(s=>{if(s===null)return ls(r);let o=WD(s);return Z1(o),x(o)}))}processSegment(e,n,r,i,s,o){return le(n).pipe(Vr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Qn(c=>{if(c instanceof Yo)return x(null);throw c}))),Ht(a=>!!a),Qn(a=>{if(zD(a))return K1(r,i,s)?x(new Lg):ls(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return W1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ls(i):ls(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Hg(n,i,s);if(!a)return ls(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Y1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=B1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(It(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Ko(l,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,X1(r),tn(r),r.component??r._loadedComponent??null,r,eF(r)),{segmentGroup:g,slicedSegments:y}=wD(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(H(T=>T===null?null:new pt(f,T)));if(c.length===0&&y.length===0)return x(new pt(f,[]));let v=tn(r)===s;return this.processSegment(u,c,g,y,v?j:s,!0).pipe(H(T=>new pt(f,T instanceof pt?[T]:[])))}))):ls(n)))}getChildConfig(e,n,r){return n.children?x({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?x({routes:n._loadedRoutes,injector:n._loadedInjector}):L1(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):j1(n))):x({routes:[],injector:e})}};function Z1(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function J1(t){let e=t.value.routeConfig;return e&&e.path===""}function WD(t){let e=[],n=new Set;for(let r of t){if(!J1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=WD(r.children);e.push(new pt(r.value,i))}return e.filter(r=>!n.has(r))}function X1(t){return t.data||{}}function eF(t){return t.resolve||{}}function tF(t,e,n,r,i,s){return _e(o=>Q1(t,e,n,r,o.extractedUrl,i,s).pipe(H(({state:a,tree:c})=>se(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function nF(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return x(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of KD(c))o.add(u);let a=0;return le(o).pipe(Vr(c=>s.has(c)?rF(c,r,t,e):(c.data=jg(c,c.parent,t).resolve,x(void 0))),Ie(()=>a++),ji(1),_e(c=>a===o.size?x(n):_t))})}function KD(t){let e=t.children.map(n=>KD(n)).flat();return[t,...e]}function rF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!jD(i)&&(s[Jo]=i.title),iF(s,t,e,r).pipe(H(o=>(t._resolvedData=o,t.data=jg(t,t.parent,n).resolve,null)))}function iF(t,e,n,r){let i=gg(t);if(i.length===0)return x({});let s={};return le(i).pipe(_e(o=>sF(t[o],e,n,r).pipe(Ht(),Ie(a=>{s[o]=a}))),ji(1),Sh(s),Qn(o=>zD(o)?_t:Vi(o)))}function sF(t,e,n,r){let i=ta(e)??r,s=vs(t,i),o=s.resolve?s.resolve(e,n):or(i,()=>s(e,n));return gr(o)}function fg(t){return It(e=>{let n=t(e);return n?le(n).pipe(H(()=>e)):x(e)})}var QD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===j);return i}getResolvedTitleForRoute(r){return r.data[Jo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(oF))(),providedIn:"root"});let t=e;return t})(),oF=(()=>{let e=class e extends QD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(cg))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ra=new M("",{providedIn:"root",factory:()=>({})}),Zo=new M("ROUTES"),qg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Uu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return x(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gr(r.loadComponent()).pipe(H(YD),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),io(()=>{this.componentLoaders.delete(r)})),s=new Oi(i,()=>new he).pipe(Pi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return x({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=aF(i,this.compiler,r,this.onLoadEndListener).pipe(io(()=>{this.childrenLoaders.delete(i)})),a=new Oi(o,()=>new he).pipe(Pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t,e,n,r){return gr(t.loadChildren()).pipe(H(YD),_e(i=>i instanceof Io||Array.isArray(i)?x(i):le(e.compileModuleAsync(i))),H(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Zo,[],{optional:!0,self:!0}).flat()),{routes:o.map($g),injector:s}}))}function cF(t){return t&&typeof t=="object"&&"default"in t}function YD(t){return cF(t)?t.default:t}var zg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(uF))(),providedIn:"root"});let t=e;return t})(),uF=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZD=new M(""),JD=new M("");function lF(t,e,n){let r=t.get(JD),i=t.get(Te);return t.get(Z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),dF(t))),{onViewTransitionCreated:c}=r;return c&&or(t,()=>c({transition:a,from:e,to:n})),o})}function dF(t){return new Promise(e=>{Lp(e,{injector:t})})}var Gg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=I(qg),this.environmentInjector=I(lt),this.urlSerializer=I(Xo),this.rootContexts=I(ea),this.location=I(us),this.inputBindingEnabled=I(cl,{optional:!0})!==null,this.titleStrategy=I(QD),this.options=I(ra,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(zg),this.createViewTransition=I(ZD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>x(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Tg(s)),i=s=>this.events.next(new Dg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(se(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ct(o=>o.id!==0),H(o=>se(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),It(o=>{this.currentTransition=o;let a=!1,c=!1;return x(o).pipe(Ie(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?se(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),It(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),_t}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return x(u).pipe(It(h=>{let f=this.transitions?.getValue();return this.events.next(new ms(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?_t:Promise.resolve(h)}),tF(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=se(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new el(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:v}=u,T=new ms(h,this.urlSerializer.serialize(f),g,y);this.events.next(T);let $=VD(this.rootComponentType).snapshot;return this.currentTransition=o=se(E({},u),{targetSnapshot:$,urlAfterRedirects:f,extras:se(E({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,x(o)}else{let h="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),_t}}),Ie(u=>{let l=new _g(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),H(u=>(this.currentTransition=o=se(E({},u),{guards:_1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),R1(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,gs(u.guardsResult))throw $D(this.urlSerializer,u.guardsResult);let l=new Ig(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),fg(u=>{if(u.guards.canActivateChecks.length)return x(u).pipe(Ie(l=>{let d=new wg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),It(l=>{let d=!1;return x(l).pipe(nF(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ie(l=>{let d=new Eg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),fg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(f=>{d.component=f}),H(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ro(l(u.targetSnapshot.root)).pipe(Yn(null),In(1))}),fg(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?le(d).pipe(H(()=>o)):x(o)}),H(u=>{let l=d1(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=se(E({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new Go)}),v1(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),In(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Rh(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),io(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Qn(u=>{if(c=!0,qD(u))this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),p1(u)?this.events.next(new Wo(u.url)):o.resolve(!1);else{this.events.next(new zo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return _t}))}))}cancelNavigationTransition(r,i,s){let o=new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hF(t){return t!==Bo}var fF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(pF))(),providedIn:"root"});let t=e;return t})(),Ug=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pF=(()=>{let e=class e extends Ug{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fp(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>(()=>I(gF))(),providedIn:"root"});let t=e;return t})(),gF=(()=>{let e=class e extends XD{constructor(){super(...arguments),this.location=I(us),this.urlSerializer=I(Xo),this.options=I(ra,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(zg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ms)this.stateMemento=this.createStateMemento();else if(r instanceof fr)this.rawUrlTree=i.initialUrl;else if(r instanceof el){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Go?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof hr&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof zo?this.restoreHistory(i,!0):r instanceof Vt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fp(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Uo||{});function eC(t,e){t.events.pipe(ct(n=>n instanceof Vt||n instanceof hr||n instanceof zo||n instanceof fr),H(n=>n instanceof Vt||n instanceof fr?Uo.COMPLETE:(n instanceof hr?n.code===0||n.code===1:!1)?Uo.REDIRECTING:Uo.FAILED),ct(n=>n!==Uo.REDIRECTING),In(1)).subscribe(()=>{e()})}function mF(t){throw t}var yF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Vu),this.stateManager=I(XD),this.options=I(ra,{optional:!0})||{},this.pendingTasks=I(ju),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Gg),this.urlSerializer=I(Xo),this.location=I(us),this.urlHandlingStrategy=I(zg),this._events=new he,this.errorHandler=this.options.errorHandler||mF,this.navigated=!1,this.routeReuseStrategy=I(fF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Zo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(cl,{optional:!0}),this.eventsSubscription=new ye,this.isNgZoneEnabled=I(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof hr&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Vt)this.navigated=!0;else if(i instanceof Wo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hF(s.source)};this.scheduleNavigation(a,Bo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}IF(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=E({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=OD(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return kD(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=gs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Bo,null,i)}navigate(r,i={skipLocationChange:!1}){return _F(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=E({},yF):i===!1?s=E({},vF):s=i,gs(r))return mD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return mD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return eC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _F(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new R(4008,!1)}function IF(t){return!(t instanceof Go)&&!(t instanceof Wo)}var ED=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Vt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:tT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ce(nn),ce(pr),pp("tabindex"),ce(So),ce(Xt),ce(On))},e.\u0275dir=Qr({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ur("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ar("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Po],skipLocationChange:["skipLocationChange","skipLocationChange",Po],replaceUrl:["replaceUrl","replaceUrl",Po],routerLink:"routerLink"},standalone:!0,features:[jp,rs]});let t=e;return t})(),L3=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ut,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Vt&&this.update()})}ngAfterContentInit(){x(this.links.changes,x(null)).pipe(Kn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=le(r).pipe(Kn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=wF(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ce(nn),ce(Xt),ce(So),ce(Ro),ce(ED,8))},e.\u0275dir=Qr({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&HT(o,ED,5),i&2){let a;$T(a=qT())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rs]});let t=e;return t})();function wF(t){return!!t.paths}var al=class{};var EF=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ct(r=>r instanceof Vt),Vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Lu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return le(s).pipe(Kn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=x(null);let o=s.pipe(_e(a=>a===null?x(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return le([o,a]).pipe(Kn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(b(nn),b(Uu),b(lt),b(al),b(qg))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tC=new M(""),TF=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Vt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof fr&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof tl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){uT()},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function V3(t,...e){return ss([{provide:Zo,multi:!0,useValue:t},[],{provide:pr,useFactory:nC,deps:[nn]},{provide:$u,multi:!0,useFactory:rC},e.map(n=>n.\u0275providers)])}function nC(t){return t.routerState.root}function ia(t,e){return{\u0275kind:t,\u0275providers:e}}function rC(){let t=I(Ee);return e=>{let n=t.get(Nn);if(e!==n.components[0])return;let r=t.get(nn),i=t.get(iC);t.get(Wg)===1&&r.initialNavigation(),t.get(sC,null,q.Optional)?.setUpPreloading(),t.get(tC,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iC=new M("",{factory:()=>new he}),Wg=new M("",{providedIn:"root",factory:()=>1});function DF(){return ia(2,[{provide:Wg,useValue:0},{provide:Bu,multi:!0,deps:[Ee],useFactory:e=>{let n=e.get(nD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(nn),s=e.get(iC);eC(i,()=>{r(!0)}),e.get(Gg).afterPreactivation=()=>(r(!0),s.closed?x(void 0):s),i.initialNavigation()}))}}])}function CF(){return ia(3,[{provide:Bu,multi:!0,useFactory:()=>{let e=I(nn);return()=>{e.setUpLocationChangeListener()}}},{provide:Wg,useValue:2}])}var sC=new M("");function bF(t){return ia(0,[{provide:sC,useExisting:EF},{provide:al,useExisting:t}])}function SF(){return ia(8,[ID,{provide:cl,useExisting:ID}])}function AF(t){let e=[{provide:ZD,useValue:lF},{provide:JD,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return ia(9,e)}var TD=new M("ROUTER_FORROOT_GUARD"),RF=[us,{provide:Xo,useClass:Ho},nn,ea,{provide:pr,useFactory:nC,deps:[nn]},qg,[]],U3=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[RF,[],{provide:Zo,multi:!0,useValue:r},{provide:TD,useFactory:PF,deps:[[nn,new et,new CE]]},{provide:ra,useValue:i||{}},i?.useHash?MF():NF(),xF(),i?.preloadingStrategy?bF(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?OF(i):[],i?.bindToComponentInputs?SF().\u0275providers:[],i?.enableViewTransitions?AF().\u0275providers:[],kF()]}}static forChild(r){return{ngModule:e,providers:[{provide:Zo,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(b(TD,8))},e.\u0275mod=Tt({type:e}),e.\u0275inj=Et({});let t=e;return t})();function xF(){return{provide:tC,useFactory:()=>{let t=I(oD),e=I(Z),n=I(ra),r=I(Gg),i=I(Xo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new TF(i,r,t,e,n)}}}function MF(){return{provide:On,useClass:iD}}function NF(){return{provide:On,useClass:Zp}}function PF(t){return"guarded"}function OF(t){return[t.initialNavigation==="disabled"?CF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?DF().\u0275providers:[]]}var DD=new M("");function kF(){return[{provide:DD,useFactory:rC},{provide:$u,multi:!0,useExisting:DD}]}var aC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Qg;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Qg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LF=function(t){let e=aC(t);return cC.encodeByteArray(e,!0)},sa=function(t){return LF(t).replace(/\./g,"")},Zg=function(t){try{return cC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var UF=()=>VF().__FIREBASE_DEFAULTS__,jF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zg(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return UF()||jF()||BF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xg=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uC=t=>{let e=Xg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},em=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config},tm=t=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${t}`]};var ll=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sa(JSON.stringify(n)),sa(JSON.stringify(o)),a].join(".")}function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function hC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pC(){let t=Ne();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nm(){try{return typeof indexedDB=="object"}catch{return!1}}function gC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var $F="FirebaseError",gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$F,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new gt(i,a,r)}};function HF(t,e){return t.replace(qF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qF=/\{\$([^}]+)}/g;function mC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ti(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(oC(s)&&oC(o)){if(!ti(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oC(t){return t!==null&&typeof t=="object"}function oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _s(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Is(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yC(t,e){let n=new Yg(t,e);return n.subscribe.bind(n)}var Yg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kg),i.error===void 0&&(i.error=Kg),i.complete===void 0&&(i.complete=Kg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}var $3=4*60*60*1e3;function Re(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ni="[DEFAULT]";var rm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WF(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GF(t){return t===ni?void 0:t}function WF(t){return t.instantiationMode==="EAGER"}var dl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var KF=[],W=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(W||{}),QF={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},YF=W.INFO,ZF={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},JF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=YF,this._logHandler=JF,this._userLogHandler=null,KF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var XF=(t,e)=>e.some(n=>t instanceof n),vC,_C;function eL(){return vC||(vC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tL(){return _C||(_C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IC=new WeakMap,sm=new WeakMap,wC=new WeakMap,im=new WeakMap,am=new WeakMap;function nL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),am.set(e,t),e}function rL(t){if(sm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sm.set(t,e)}var om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EC(t){om=t(om)}function iL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hl(this),e,...n);return wC.set(r,e.sort?e.sort():[e]),rn(r)}:tL().includes(t)?function(...e){return t.apply(hl(this),e),rn(IC.get(this))}:function(...e){return rn(t.apply(hl(this),e))}}function sL(t){return typeof t=="function"?iL(t):(t instanceof IDBTransaction&&rL(t),XF(t,eL())?new Proxy(t,om):t)}function rn(t){if(t instanceof IDBRequest)return nL(t);if(im.has(t))return im.get(t);let e=sL(t);return e!==t&&(im.set(t,e),am.set(e,t)),e}var hl=t=>am.get(t);function DC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=rn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rn(o.result),c.oldVersion,c.newVersion,rn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var oL=["get","getKey","getAll","getAllKeys","count"],aL=["put","add","delete","clear"],cm=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=aL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oL.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return cm.set(e,s),s}EC(t=>se(E({},t),{get:(e,n,r)=>TC(e,n)||t.get(e,n,r),has:(e,n)=>!!TC(e,n)||t.has(e,n)}));var lm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function cL(t){let e=t.getComponent();return e?.type==="VERSION"}var dm="@firebase/app",CC="0.9.25";var ri=new mr("@firebase/app"),uL="@firebase/app-compat",lL="@firebase/analytics-compat",dL="@firebase/analytics",hL="@firebase/app-check-compat",fL="@firebase/app-check",pL="@firebase/auth",gL="@firebase/auth-compat",mL="@firebase/database",yL="@firebase/database-compat",vL="@firebase/functions",_L="@firebase/functions-compat",IL="@firebase/installations",wL="@firebase/installations-compat",EL="@firebase/messaging",TL="@firebase/messaging-compat",DL="@firebase/performance",CL="@firebase/performance-compat",bL="@firebase/remote-config",SL="@firebase/remote-config-compat",AL="@firebase/storage",RL="@firebase/storage-compat",xL="@firebase/firestore",ML="@firebase/firestore-compat",NL="firebase",PL="10.7.1";var hm="[DEFAULT]",OL={[dm]:"fire-core",[uL]:"fire-core-compat",[dL]:"fire-analytics",[lL]:"fire-analytics-compat",[fL]:"fire-app-check",[hL]:"fire-app-check-compat",[pL]:"fire-auth",[gL]:"fire-auth-compat",[mL]:"fire-rtdb",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[_L]:"fire-fn-compat",[IL]:"fire-iid",[wL]:"fire-iid-compat",[EL]:"fire-fcm",[TL]:"fire-fcm-compat",[DL]:"fire-perf",[CL]:"fire-perf-compat",[bL]:"fire-rc",[SL]:"fire-rc-compat",[AL]:"fire-gcs",[RL]:"fire-gcs-compat",[xL]:"fire-fst",[ML]:"fire-fst-compat","fire-js":"fire-js",[NL]:"fire-js-all"};var aa=new Map,fm=new Map;function kL(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){let e=t.name;if(fm.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(let n of aa.values())kL(n,t);return!0}function ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yr=new kn("app","Firebase",FL);var pm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var _r=PL;function ym(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=em()),!n)throw yr.create("no-options");let s=aa.get(i);if(s){if(ti(n,s.options)&&ti(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}let o=new dl(i);for(let c of fm.values())o.addComponent(c);let a=new pm(n,r,o);return aa.set(i,a),a}function ws(t=hm){let e=aa.get(t);if(!e&&t===hm&&em())return ym();if(!e)throw yr.create("no-app",{appName:t});return e}function fl(){return Array.from(aa.values())}function xe(t,e,n){var r;let i=(r=OL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}vr(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var LL="firebase-heartbeat-database",VL=1,ca="firebase-heartbeat-store",um=null;function RC(){return um||(um=DC(LL,VL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),um}function UL(t){return p(this,null,function*(){try{return yield(yield RC()).transaction(ca).objectStore(ca).get(xC(t))}catch(e){if(e instanceof gt)ri.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});ri.warn(n.message)}}})}function bC(t,e){return p(this,null,function*(){try{let r=(yield RC()).transaction(ca,"readwrite");yield r.objectStore(ca).put(e,xC(t)),yield r.done}catch(n){if(n instanceof gt)ri.warn(n.message);else{let r=yr.create("idb-set",{originalErrorMessage:n?.message});ri.warn(r.message)}}})}function xC(t){return`${t.name}!${t.options.appId}`}var jL=1024,BL=30*24*60*60*1e3,gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new mm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=BL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=SC(),{heartbeatsToSend:r,unsentEntries:i}=$L(this._heartbeatsCache.heartbeats),s=sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function SC(){return new Date().toISOString().substring(0,10)}function $L(t,e=jL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var mm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return nm()?gC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield UL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AC(t){return sa(JSON.stringify({version:2,heartbeats:t})).length}function HL(t){vr(new St("platform-logger",e=>new lm(e),"PRIVATE")),vr(new St("heartbeat",e=>new gm(e),"PRIVATE")),xe(dm,CC,t),xe(dm,CC,"esm2017"),xe("fire-js","")}HL("");var qL="firebase",zL="10.7.1";xe(qL,zL,"app");var si=new rr("ANGULARFIRE2_VERSION");function gl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var la=(t,e)=>{let n=e?[e]:fl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ts=class{constructor(){return la(GL)}},GL="app-check";function Es(){}var pl=class{zone;delegate;constructor(e,n=Dh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},vm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ds=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=n.run(()=>new pl(Zone.current,Th)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(b(Z))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ml(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function WL(t){return ml().ngZone.runOutsideAngular(()=>t())}function ii(t){return ml().ngZone.run(()=>t())}function KL(t){return QL(ml())(t)}function QL(t){return function(n){return n=n.lift(new vm(t.ngZone)),n.pipe(Wn(t.outsideAngular),Gn(t.insideAngular))}}var YL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ii(()=>t.apply(void 0,r))},De=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es))),r[s]=YL(r[s],n));let i=WL(()=>t.apply(this,r));if(!e)if(i instanceof z){let s=ml();return i.pipe(Wn(s.outsideAngular),Gn(s.insideAngular))}else return ii(()=>i);return i instanceof z?i.pipe(KL):i instanceof Promise?ii(()=>new Promise((s,o)=>i.then(a=>ii(()=>s(a)),a=>ii(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ii(()=>i)};var Fn=class{constructor(e){return e}},oi=class{constructor(){return fl()}};function ZL(t){return t&&t.length===1?t[0]:new Fn(ws())}var _m=new M("angularfire2._apps"),JL={provide:Fn,useFactory:ZL,deps:[[new et,_m]]},XL={provide:oi,deps:[[new et,_m]]};function eV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}var tV=(()=>{class t{constructor(n){xe("angularfire",si.full,"core"),xe("angularfire",si.full,"app"),xe("angular",GT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(b(Jt))};static \u0275mod=Tt({type:t});static \u0275inj=Et({providers:[JL,XL]})}return t})();function C6(t,...e){return{ngModule:tV,providers:[{provide:_m,useFactory:eV(t),multi:!0,deps:[Z,Ee,Ds,...e]}]}}var b6=De(ym,!0);function GC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WC=GC,KC=new kn("auth","Firebase",GC());var El=new mr("@firebase/auth");function nV(t,...e){El.logLevel<=W.WARN&&El.warn(`Auth (${_r}): ${t}`,...e)}function vl(t,...e){El.logLevel<=W.ERROR&&El.error(`Auth (${_r}): ${t}`,...e)}function on(t,...e){throw $m(t,...e)}function ai(t,...e){return $m(t,...e)}function rV(t,e,n){let r=Object.assign(Object.assign({},WC()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function $m(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KC.create(t,...e)}function O(t,e,...n){if(!t)throw $m(e,...n)}function Ln(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vl(e),new Error(e)}function wr(t,e){t||Ln(e)}function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iV(){return MC()==="http:"||MC()==="https:"}function MC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function sV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iV()||hC()||"connection"in navigator)?navigator.onLine:!0}function oV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ci=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||fC()}get(){return sV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hm(t,e){wr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cV=new ci(3e4,6e4);function Er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tr(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return QC(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=oa(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Tl.fetch()(YC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function QC(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aV),e);try{let i=new Dm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw yl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw yl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw yl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rV(t,l,u);on(t,l)}}catch(i){if(i instanceof gt)throw i;on(t,"network-request-failed",{message:String(i)})}})}function ya(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield Tr(t,e,n,r,i);return"mfaPendingCredential"in u&&on(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function YC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Hm(t.config,i):`${t.config.apiScheme}://${i}`}function uV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Dm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),cV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ai(t,e,r);return i.customData._tokenResponse=n,i}function NC(t){return t!==void 0&&t.enterprise!==void 0}var Cm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function lV(t,e){return p(this,null,function*(){return Tr(t,"GET","/v2/recaptchaConfig",Er(t,e))})}function dV(t,e){return p(this,null,function*(){return Tr(t,"POST","/v1/accounts:delete",e)})}function hV(t,e){return p(this,null,function*(){return Tr(t,"POST","/v1/accounts:lookup",e)})}function da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qm(t,e=!1){return p(this,null,function*(){let n=Re(t),r=yield n.getIdToken(e),i=zm(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:da(Im(i.auth_time)),issuedAtTime:da(Im(i.iat)),expirationTime:da(Im(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Im(t){return Number(t)*1e3}function zm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zg(n);return i?JSON.parse(i):(vl("Failed to decode base64 JWT payload"),null)}catch(i){return vl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fV(t){let e=zm(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ha(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof gt&&pV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function pV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ha(t,hV(n,{idToken:r}));O(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mV(s.providerUserInfo):[],a=gV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Gm(t){return p(this,null,function*(){let e=Re(t);yield Cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mV(t){return t.map(e=>{var{providerId:n}=e,r=Ch(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yV(t,e){return p(this,null,function*(){let n=yield QC(t,{},()=>p(this,null,function*(){let r=oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function vV(t,e){return p(this,null,function*(){return Tr(t,"POST","/v2/accounts:revokeToken",Er(t,e))})}var bl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return O(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield yV(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(O(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(O(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ln("not implemented")}};function Ir(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield ha(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return qm(this,e)}reload(){return Gm(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Cl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield ha(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,$=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:X,emailVerified:re,isAnonymous:me,providerData:ie,stsTokenManager:ot}=n;O(X&&ot,e,"internal-error");let Hn=bl.fromJSON(this.name,ot);O(typeof X=="string",e,"internal-error"),Ir(d,e.name),Ir(h,e.name),O(typeof re=="boolean",e,"internal-error"),O(typeof me=="boolean",e,"internal-error"),Ir(f,e.name),Ir(g,e.name),Ir(y,e.name),Ir(v,e.name),Ir(T,e.name),Ir($,e.name);let Pr=new t({uid:X,auth:e,email:h,emailVerified:re,displayName:d,isAnonymous:me,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:Hn,createdAt:T,lastLoginAt:$});return ie&&Array.isArray(ie)&&(Pr.providerData=ie.map(dc=>Object.assign({},dc))),v&&(Pr._redirectEventId=v),Pr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new bl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cl(s),s})}};var PC=new Map;function Vn(t){wr(t instanceof Function,"Expected a class definition");let e=PC.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PC.set(t,e),e)}var _V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Sm=_V;function _l(t,e,n){return`firebase:${t}:${e}:${n}`}var Sl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=_l(this.userKey,i.apiKey,s),this.fullPersistenceKey=_l("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Vn(Sm),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Vn(Sm),o=_l(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=fa._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function OC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t0(e))return"Blackberry";if(n0(e))return"Webos";if(Wm(e))return"Safari";if((e.includes("chrome/")||JC(e))&&!e.includes("edge/"))return"Chrome";if(e0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZC(t=Ne()){return/firefox\//i.test(t)}function Wm(t=Ne()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JC(t=Ne()){return/crios\//i.test(t)}function XC(t=Ne()){return/iemobile/i.test(t)}function e0(t=Ne()){return/android/i.test(t)}function t0(t=Ne()){return/blackberry/i.test(t)}function n0(t=Ne()){return/webos/i.test(t)}function kl(t=Ne()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IV(t=Ne()){var e;return kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wV(){return pC()&&document.documentMode===10}function r0(t=Ne()){return kl(t)||e0(t)||n0(t)||t0(t)||/windows phone/i.test(t)||XC(t)}function EV(){try{return!!(window&&window!==window.top)}catch{return!1}}function i0(t,e=[]){let n;switch(t){case"Browser":n=OC(Ne());break;case"Worker":n=`${OC(Ne())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_r}/${r}`}var Am=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function TV(n){return p(this,arguments,function*(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",Er(t,e))})}var DV=6,Rm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var xm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Al(this),this.idTokenSubscription=new Al(this),this.beforeStateQueue=new Am(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Cl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oV()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Re(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Vn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield TV(this),n=new Rm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield vV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vn(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=yield Sl.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function li(t){return Re(t)}var Al=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yC(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function CV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function s0(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CV().appendChild(r)})}function o0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var bV="https://www.google.com/recaptcha/enterprise.js?render=",SV="recaptcha-enterprise",AV="NO_RECAPTCHA",Mm=class{constructor(e){this.type=SV,this.auth=li(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(s){return p(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>p(this,null,function*(){lV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Cm(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;NC(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(AV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&NC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}s0(bV+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function kC(t,e,n,r=!1){return p(this,null,function*(){let i=new Mm(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Nm(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield kC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>p(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield kC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Km(t,e){let n=ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ti(s,e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}function RV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qm(t,e,n){let r=li(t);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=a0(e),{host:o,port:a}=xV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||MV()}function a0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xV(t){let e=a0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:FC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:FC(o)}}}function FC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function MV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var pa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}};function NV(t,e){return p(this,null,function*(){return Tr(t,"POST","/v1/accounts:signUp",e)})}function PV(t,e){return p(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithPassword",Er(t,e))})}function OV(t,e){return p(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}function kV(t,e){return p(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}var ga=class t extends pa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signInWithPassword",PV);case"emailLink":return OV(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,r,"signUpPassword",NV);case"emailLink":return kV(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wm(t,e){return p(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithIdp",Er(t,e))})}function FV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LV(t){let e=_s(Is(t)).link,n=e?_s(Is(e)).deep_link_id:null,r=_s(Is(t)).deep_link_id;return(r?_s(Is(r)).link:null)||r||n||e||t}var Rl=class t{constructor(e){var n,r,i,s,o,a;let c=_s(Is(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=FV((i=c.mode)!==null&&i!==void 0?i:null);O(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=LV(e);try{return new t(n)}catch{return null}}};var c0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ga._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Rl.parseLink(r);return O(i,"argument-error"),ga._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Pm=class extends xl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function VV(t,e){return p(this,null,function*(){return ya(t,"POST","/v1/accounts:signUp",Er(t,e))})}var Cs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield fa._fromIdTokenResponse(e,r,i),o=LC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Om=class t extends gt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function u0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,s,e,r):s})}function UV(t,e,n=!1){return p(this,null,function*(){let r=yield ha(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cs._forOperation(t,"link",r)})}function jV(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield ha(t,u0(r,i,e,t),n);O(s.idToken,r,"internal-error");let o=zm(s.idToken);O(o,r,"internal-error");let{sub:a}=o;return O(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&on(r,"user-mismatch"),s}})}function l0(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield u0(t,r,e),s=yield Cs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Ym(t,e){return p(this,null,function*(){return l0(li(t),e)})}function d0(t){return p(this,null,function*(){let e=li(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Zm(t,e,n){return p(this,null,function*(){let r=li(t),o=yield Nm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&d0(t),c}),a=yield Cs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Jm(t,e,n){return Ym(Re(t),c0.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&d0(t),r}))}function Xm(t,e,n,r){return Re(t).onIdTokenChanged(e,n,r)}function ey(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}var Ml="__sak";var Nl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ml,"1"),this.storage.removeItem(Ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function BV(){let t=Ne();return Wm(t)||kl(t)}var $V=1e3,HV=10,qV=(()=>{class t extends Nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=BV()&&EV(),this.fallbackToPolling=r0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);wV()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,HV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield qn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield qn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield qn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),h0=qV;var zV=(()=>{class t extends Nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ty=zV;function GV(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var WV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield GV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function f0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var km=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=f0("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function sn(){return window}function KV(t){sn().location.href=t}function p0(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}function QV(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function YV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZV(){return p0()?self:null}var g0="firebaseLocalStorageDb",JV=1,Pl="firebaseLocalStorage",m0="fbase_key",ui=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Fl(t,e){return t.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function XV(){let t=indexedDB.deleteDatabase(g0);return new ui(t).toPromise()}function Fm(){let t=indexedDB.open(g0,JV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pl,{keyPath:m0})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pl)?e(r):(r.close(),yield XV(),e(yield Fm()))}))})}function VC(t,e,n){return p(this,null,function*(){let r=Fl(t,!0).put({[m0]:e,value:n});return new ui(r).toPromise()})}function eU(t,e){return p(this,null,function*(){let n=Fl(t,!1).get(e),r=yield new ui(n).toPromise();return r===void 0?null:r.value})}function UC(t,e){let n=Fl(t,!0).delete(e);return new ui(n).toPromise()}var tU=800,nU=3,rU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Fm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return p0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=WV._getInstance(ZV()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield QV(),!this.activeServiceWorker)return;this.sender=new km(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||YV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Fm();return yield VC(n,Ml,"1"),yield UC(n,Ml),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>VC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>eU(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>UC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Fl(s,!1).getAll();return new ui(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),tU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),y0=rU;var O6=o0("rcb"),k6=new ci(3e4,6e4);function iU(t,e){return e?Vn(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ma=class extends pa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function sU(t){return l0(t.auth,new ma(t),t.bypassAuthState)}function oU(t){let{auth:e,user:n}=t;return O(n,e,"internal-error"),jV(n,new ma(t),t.bypassAuthState)}function aU(t){return p(this,null,function*(){let{auth:e,user:n}=t;return O(n,e,"internal-error"),UV(n,new ma(t),t.bypassAuthState)})}var Lm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sU;case"linkViaPopup":case"linkViaRedirect":return aU;case"reauthViaPopup":case"reauthViaRedirect":return oU;default:on(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var F6=new ci(2e3,1e4);var cU="pendingRedirect",Il=new Map,Vm=class t extends Lm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Il.get(this.auth._key());if(!e){try{let r=(yield uU(this.resolver,this.auth))?yield qn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Il.set(this.auth._key(),e)}return this.bypassAuthState||Il.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return qn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,qn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function uU(t,e){return p(this,null,function*(){let n=hU(e),r=dU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lU(t,e){Il.set(t._key(),e)}function dU(t){return Vn(t._redirectPersistence)}function hU(t){return _l(cU,t.config.apiKey,t.name)}function fU(t,e,n=!1){return p(this,null,function*(){let r=li(t),i=iU(r,e),o=yield new Vm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pU=10*60*1e3,Um=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pU&&this.cachedEventUids.clear(),this.cachedEventUids.has(jC(e))}saveEventToCache(e){this.cachedEventUids.add(jC(e)),this.lastProcessedEventTime=Date.now()}};function jC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(t);default:return!1}}function mU(n){return p(this,arguments,function*(t,e={}){return Tr(t,"GET","/v1/projects",e)})}var yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vU=/^https?/;function _U(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mU(t);for(let n of e)try{if(IU(n))return}catch{}on(t,"unauthorized-domain")})}function IU(t){let e=Tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vU.test(n))return!1;if(yU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wU=new ci(3e4,6e4);function BC(){let t=sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EU(t){return new Promise((e,n)=>{var r,i,s;function o(){BC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BC(),n(ai(t,"network-request-failed"))},timeout:wU.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sn().gapi)===null||s===void 0)&&s.load)o();else{let a=o0("iframefcb");return sn()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},s0(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw wl=null,e})}var wl=null;function TU(t){return wl=wl||EU(t),wl}var DU=new ci(5e3,15e3),CU="__/auth/iframe",bU="emulator/auth/iframe",SU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RU(t){let e=t.config;O(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Hm(e,bU):`https://${t.config.authDomain}/${CU}`,r={apiKey:e.apiKey,appName:t.name,v:_r},i=AU.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oa(r).slice(1)}`}function xU(t){return p(this,null,function*(){let e=yield TU(t),n=sn().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:RU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SU,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ai(t,"network-request-failed"),a=sn().setTimeout(()=>{s(o)},DU.get());function c(){sn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var MU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NU=500,PU=600,OU="_blank",kU="http://localhost",Ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FU(t,e,n,r=NU,i=PU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},MU),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ne().toLowerCase();n&&(a=JC(u)?OU:n),ZC(u)&&(e=e||kU,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(IV(u)&&a!=="_self")return LU(e||"",a),new Ol(null);let d=window.open(e||"",a,l);O(d,t,"popup-blocked");try{d.focus()}catch{}return new Ol(d)}function LU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VU="__/auth/handler",UU="emulator/auth/handler",jU=encodeURIComponent("fac");function $C(t,e,n,r,i,s){return p(this,null,function*(){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_r,eventId:i};if(e instanceof xl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Pm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${jU}=${encodeURIComponent(c)}`:"";return`${BU(t)}?${oa(a).slice(1)}${u}`})}function BU({config:t}){return t.emulator?Hm(t,UU):`https://${t.authDomain}/${VU}`}var Em="webStorageSupport",jm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ty,this._completeRedirectFn=fU,this._overrideRedirectResult=lU}_openPopup(e,n,r,i){return p(this,null,function*(){var s;wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield $C(e,n,r,Tm(),i);return FU(e,o,f0())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield $C(e,n,r,Tm(),i);return KV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield xU(e),r=new Um(e);return n.register("authEvent",i=>(O(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Em];o!==void 0&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r0()||Wm()||kl()}},_0=jm;var HC="@firebase/auth",qC="1.5.1";var Bm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $U(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function HU(t){vr(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;O(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(t)},u=new xm(r,i,s,c);return RV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new St("auth-internal",e=>{let n=li(e.getProvider("auth").getImmediate());return(r=>new Bm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(HC,qC,$U(t)),xe(HC,qC,"esm2017")}var qU=5*60,zU=tm("authIdTokenMaxAge")||qU,zC=null,GU=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zU)return;let i=n?.token;zC!==i&&(zC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ny(t=ws()){let e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Km(t,{popupRedirectResolver:_0,persistence:[y0,h0,ty]}),r=tm("authTokenSyncURL");if(r){let s=GU(r);ey(n,s,()=>s(n.currentUser)),Xm(n,o=>s(o))}let i=Xg("auth");return i&&Qm(n,`http://${i}`),n}HU("Browser");var I0="auth",va=class{constructor(e){return e}},_a=class{constructor(){return la(I0)}};var ry=new M("angularfire2.auth-instances");function L2(t,e){let n=gl(I0,t,e);return n&&new va(n)}function V2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new va(r)}}var U2={provide:_a,deps:[[new et,ry]]},j2={provide:va,useFactory:L2,deps:[[new et,ry],Fn]},B2=(()=>{class t{constructor(){xe("angularfire",si.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Tt({type:t});static \u0275inj=Et({providers:[j2,U2]})}return t})();function _5(t,...e){return{ngModule:B2,providers:[{provide:ry,useFactory:V2(t),multi:!0,deps:[Z,Ee,Ds,oi,[new et,Ts],...e]}]}}var I5=De(Zm,!0);var w5=De(ny,!0);var E5=De(Jm,!0);var $2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt={},w,Cy=Cy||{},k=$2||self;function Yl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function H2(t){return Object.prototype.hasOwnProperty.call(t,iy)&&t[iy]||(t[iy]=++q2)}var iy="closure_uid_"+(1e9*Math.random()>>>0),q2=0;function z2(t,e,n){return t.call.apply(t.bind,arguments)}function G2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=z2:ze=G2,ze.apply(null,arguments)}function Ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Oe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Dr(){this.s=this.s,this.o=this.o}var W2=0;Dr.prototype.s=!1;Dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),W2!=0)&&H2(this)};Dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var P0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function by(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function w0(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Yl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ge(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var K2=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function Ca(t){return/^[\s\xa0]*$/.test(t)}function Zl(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return Zl().indexOf(t)!=-1}function Sy(t){return Sy[" "](t),t}Sy[" "]=function(){};function Q2(t,e){var n=Lj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Y2=an("Opera"),Rs=an("Trident")||an("MSIE"),O0=an("Edge"),uy=O0||Rs,k0=an("Gecko")&&!(Zl().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),Z2=Zl().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function F0(){var t=k.document;return t?t.documentMode:void 0}var ly;e:{if(Vl="",Ul=function(){var t=Zl();if(k0)return/rv:([^\);]+)(\)|;)/.exec(t);if(O0)return/Edge\/([\d\.]+)/.exec(t);if(Rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Z2)return/WebKit\/(\S+)/.exec(t);if(Y2)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ul&&(Vl=Ul?Ul[1]:""),Rs&&(jl=F0(),jl!=null&&jl>parseFloat(Vl))){ly=String(jl);break e}ly=Vl}var Vl,Ul,jl,dy;k.document&&Rs?(sy=F0(),dy=sy||parseInt(ly,10)||void 0):dy=void 0;var sy,J2=dy;function ba(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(k0){e:{try{Sy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:X2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ba.$.h.call(this)}}Oe(ba,Ge);var X2={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),ej=0;function tj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ej,this.fa=this.ia=!1}function Jl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ay(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function nj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function L0(t){let e={};for(let n in t)e[n]=t[n];return e}var E0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<E0.length;s++)n=E0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xl(t){this.src=t,this.g={},this.h=0}Xl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=fy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new tj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function hy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=P0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Jl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ry="closure_lm_"+(1e6*Math.random()|0),oy={};function U0(t,e,n,r,i){if(r&&r.once)return B0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)U0(t,e[s],n,r,i);return null}return n=Ny(n),t&&t[Oa]?t.O(e,n,Pa(r)?!!r.capture:!!r,i):j0(t,e,n,!1,r,i)}function j0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Pa(i)?!!i.capture:!!i,a=My(t);if(a||(t[Ry]=a=new Xl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)K2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(H0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rj(){function t(n){return e.call(t.src,t.listener,n)}let e=ij;return t}function B0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)B0(t,e[s],n,r,i);return null}return n=Ny(n),t&&t[Oa]?t.P(e,n,Pa(r)?!!r.capture:!!r,i):j0(t,e,n,!0,r,i)}function $0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$0(t,e[s],n,r,i);else r=Pa(r)?!!r.capture:!!r,n=Ny(n),t&&t[Oa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=fy(s,n,r,i),-1<n&&(Jl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=My(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fy(e,n,r,i)),(n=-1<t?e[t]:null)&&xy(n))}function xy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Oa])hy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(H0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=My(e))?(hy(n,t),n.h==0&&(n.src=null,e[Ry]=null)):Jl(t)}}}function H0(t){return t in oy?oy[t]:oy[t]="on"+t}function ij(t,e){if(t.fa)t=!0;else{e=new ba(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xy(t),t=n.call(r,e)}return t}function My(t){return t=t[Ry],t instanceof Xl?t:null}var ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ny(t){return typeof t=="function"?t:(t[ay]||(t[ay]=function(e){return t.handleEvent(e)}),t[ay])}function Pe(){Dr.call(this),this.i=new Xl(this),this.S=this,this.J=null}Oe(Pe,Dr);Pe.prototype[Oa]=!0;Pe.prototype.removeEventListener=function(t,e,n,r){$0(this,t,e,n,r)};function je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ge(e,t);else if(e instanceof Ge)e.target=e.target||t;else{var i=e;e=new Ge(r,t),V0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Bl(o,r,!0,e)&&i}if(o=e.g=t,i=Bl(o,r,!0,e)&&i,i=Bl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Bl(o,r,!1,e)&&i}Pe.prototype.N=function(){if(Pe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jl(n[r]);delete t.g[e],t.h--}}this.J=null};Pe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&hy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Py=k.JSON.stringify,py=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function sj(){var t=Oy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gy=class{constructor(){this.h=this.g=null}add(e,n){let r=q0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},q0=new py(()=>new my,t=>t.reset()),my=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function oj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function aj(t){k.setTimeout(()=>{throw t},0)}var Sa,Aa=!1,Oy=new gy,z0=()=>{let t=k.Promise.resolve(void 0);Sa=()=>{t.then(cj)}},cj=()=>{for(var t;t=sj();){try{t.h.call(t.g)}catch(n){aj(n)}var e=q0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Aa=!1};function ed(t,e){Pe.call(this),this.h=t||1,this.g=e||k,this.j=ze(this.qb,this),this.l=Date.now()}Oe(ed,Pe);w=ed.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(ky(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ky(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){ed.$.N.call(this),ky(this),delete this.g};function Fy(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function G0(t){t.g=Fy(()=>{t.g=null,t.i&&(t.i=!1,G0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var yy=class extends Dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:G0(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ra(t){Dr.call(this),this.h=t,this.g={}}Oe(Ra,Dr);var T0=[];function W0(t,e,n,r){Array.isArray(n)||(n&&(T0[0]=n.toString()),n=T0);for(var i=0;i<n.length;i++){var s=U0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function K0(t){Ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&xy(e)},t),t.g={}}Ra.prototype.N=function(){Ra.$.N.call(this),K0(this)};Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function td(){this.g=!0}td.prototype.Ea=function(){this.g=!1};function uj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function lj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ss(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+hj(t,n)+(r?" "+r:"")})}function dj(t,e){t.info(function(){return"TIMEOUT: "+e})}td.prototype.info=function(){};function hj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Py(n)}catch{return e}}var pi={},D0=null;function nd(){return D0=D0||new Pe}pi.Ta="serverreachability";function Q0(t){Ge.call(this,pi.Ta,t)}Oe(Q0,Ge);function xa(t){let e=nd();je(e,new Q0(e))}pi.STAT_EVENT="statevent";function Y0(t,e){Ge.call(this,pi.STAT_EVENT,t),this.stat=e}Oe(Y0,Ge);function tt(t){let e=nd();je(e,new Y0(e,t))}pi.Ua="timingevent";function Z0(t,e){Ge.call(this,pi.Ua,t),this.size=e}Oe(Z0,Ge);function ka(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var rd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ly(){}Ly.prototype.h=null;function C0(t){return t.h||(t.h=t.i())}function X0(){}var Fa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vy(){Ge.call(this,"d")}Oe(Vy,Ge);function Uy(){Ge.call(this,"c")}Oe(Uy,Ge);var vy;function id(){}Oe(id,Ly);id.prototype.g=function(){return new XMLHttpRequest};id.prototype.i=function(){return{}};vy=new id;function La(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ra(this),this.P=fj,t=uy?125:void 0,this.V=new ed(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eb}function eb(){this.i=null,this.g="",this.h=!1}var fj=45e3,tb={},_y={};w=La.prototype;w.setTimeout=function(t){this.P=t};function Iy(t,e,n){t.L=1,t.A=od(jn(e)),t.u=n,t.S=!0,nb(t,null)}function nb(t,e){t.G=Date.now(),Va(t),t.B=jn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),lb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new eb,t.g=Mb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yy(ze(t.Pa,t,t.g),t.O)),W0(t.U,t.g,"readystatechange",t.nb),e=t.I?L0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xa(),uj(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||uy||this.g&&(this.h.h||this.g.ja()||R0(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?xa(3):xa(2)),sd(this);var n=this.g.da();this.ca=n;t:if(rb(this)){var r=R0(this.g);t="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Da(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,lj(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ca(a)){var u=a;break t}}u=null}if(n=u)Ss(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,n);else{this.i=!1,this.s=3,tt(12),di(this),Da(this);break e}}this.S?(ib(this,l,o),uy&&this.i&&l==3&&(W0(this.U,this.V,"tick",this.mb),this.V.start())):(Ss(this.j,this.m,o,null),wy(this,o)),l==4&&di(this),this.i&&!this.J&&(l==4?Sb(this.l,this):(this.i=!1,Va(this)))}else Oj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),di(this),Da(this)}}}catch{}finally{}};function rb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ib(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=pj(t,n),i==_y){e==4&&(t.s=4,tt(14),r=!1),Ss(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tb){t.s=4,tt(15),Ss(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ss(t.j,t.m,i,null),wy(t,i);rb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zy(e),e.M=!0,tt(11))):(Ss(t.j,t.m,n,"[Invalid Chunked Response]"),di(t),Da(t))}w.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.o<e.length&&(sd(this),ib(this,t,e),this.i&&t!=4&&Va(this))}};function pj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?_y:(n=Number(e.substring(n,r)),isNaN(n)?tb:(r+=1,r+n>e.length?_y:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,di(this)};function Va(t){t.Y=Date.now()+t.P,sb(t,t.P)}function sb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ka(ze(t.lb,t),e)}function sd(t){t.C&&(k.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(dj(this.j,this.B),this.L!=2&&(xa(),tt(17)),di(this),this.s=2,Da(this)):sb(this,this.Y-t)};function Da(t){t.l.H==0||t.J||Sb(t.l,t)}function di(t){sd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ky(t.V),K0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ey(n.i,t))){if(!t.K&&Ey(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gl(n),ud(n);else break e;qy(n),tt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ka(ze(n.ib,n),6e3));if(1>=fb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hi(n,11)}else if((t.K||n.g==t)&&Gl(n),!Ca(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jy(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ue(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=xb(r,r.J?r.pa:null,r.Y),o.K){pb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(sd(a),Va(a)),r.g=o}else Cb(r);0<n.j.length&&ld(n)}else u[0]!="stop"&&u[0]!="close"||hi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hi(n,7):Hy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}xa(4)}catch{}}function gj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function mj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function ob(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mj(t),r=gj(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ab=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fi){this.h=t.h,ql(this,t.j),this.s=t.s,this.g=t.g,zl(this,t.m),this.l=t.l;var e=t.i,n=new Ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),b0(this,n),this.o=t.o}else t&&(e=String(t).match(ab))?(this.h=!1,ql(this,e[1]||"",!0),this.s=Ea(e[2]||""),this.g=Ea(e[3]||"",!0),zl(this,e[4]),this.l=Ea(e[5]||"",!0),b0(this,e[6]||"",!0),this.o=Ea(e[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ta(e,S0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ta(e,S0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ta(n,n.charAt(0)=="/"?Ij:_j,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ta(n,Ej)),t.join("")};function jn(t){return new fi(t)}function ql(t,e,n){t.j=n?Ea(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function b0(t,e,n){e instanceof Ma?(t.i=e,Tj(t.i,t.h)):(n||(e=Ta(e,wj)),t.i=new Ma(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function od(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var S0=/[#\/\?@]/g,_j=/[#\?:]/g,Ij=/[#\?]/g,wj=/[#\?@]/g,Ej=/#/g;function Ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cr(t){t.g||(t.g=new Map,t.h=0,t.i&&yj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Ma.prototype;w.add=function(t,e){Cr(this),this.i=null,t=xs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cb(t,e){Cr(t),e=xs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ub(t,e){return Cr(t),e=xs(t,e),t.g.has(e)}w.forEach=function(t,e){Cr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){Cr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){Cr(this);let e=[];if(typeof t=="string")ub(this,t)&&(e=e.concat(this.g.get(xs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return Cr(this),this.i=null,t=xs(this,t),ub(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lb(t,e,n){cb(t,e),0<n.length&&(t.i=null,t.g.set(xs(t,e),by(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function xs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Tj(t,e){e&&!t.j&&(Cr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cb(this,r),lb(this,i,n))},t)),t.j=e}var Dj=class{constructor(t,e){this.g=t,this.map=e}};function db(t){this.l=t||Cj,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cj=10;function hb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fb(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jy(t,e){t.g?t.g.add(e):t.h=e}function pb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}db.prototype.cancel=function(){if(this.i=gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function gb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return by(t.i)}var bj=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function Sj(){this.g=new bj}function Aj(t,e,n){let r=n||"";try{ob(t,function(i,s){let o=i;Pa(i)&&(o=Py(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rj(t,e){let n=new td;if(k.Image){let r=new Image;r.onload=Ll($l,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ll($l,n,r,"TestLoadImage: error",!1,e),r.onabort=Ll($l,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ll($l,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $l(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ua(t){this.l=t.ec||null,this.j=t.ob||!1}Oe(Ua,Ly);Ua.prototype.g=function(){return new ad(this.l,this.j)};Ua.prototype.i=function(t){return function(){return t}}({});function ad(t,e){Pe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=By,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(ad,Pe);var By=0;w=ad.prototype;w.open=function(t,e){if(this.readyState!=By)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Na(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=By};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ja(this):Na(this),this.readyState==3&&mb(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,ja(this))};w.Ya=function(t){this.g&&(this.response=t,ja(this))};w.ka=function(){this.g&&ja(this)};function ja(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Na(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xj=k.JSON.parse;function fe(t){Pe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yb,this.L=this.M=!1}Oe(fe,Pe);var yb="",Mj=/^https?$/i,Nj=["POST","PUT"];w=fe.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vy.g(),this.C=this.u?C0(this.u):C0(vy),this.g.onreadystatechange=ze(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){A0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=P0(Nj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ib(this),0<this.B&&((this.L=Pj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.ua,this)):this.A=Fy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){A0(this,s)}};function Pj(t){return Rs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof Cy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function A0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vb(t),cd(t)}function vb(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),cd(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cd(this,!0)),fe.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?_b(this):this.kb())};w.kb=function(){_b(this)};function _b(t){if(t.h&&typeof Cy<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)Fy(t.La,0,t);else if(je(t,"readystatechange"),cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ab)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!Mj.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var s=2<cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",vb(t)}}finally{cd(t)}}}}function cd(t,e){if(t.g){Ib(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ib(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xj(e)}};function R0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Oj(t){let e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ca(t[r]))continue;var n=oj(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}nj(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wb(t){let e="";return Ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $y(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ue(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Eb(t){this.Ga=0,this.j=[],this.l=new td,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new db(t&&t.concurrentRequestLimit),this.Ja=new Sj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=Eb.prototype;w.ra=8;w.H=1;function Hy(t){if(Tb(t),t.H==3){var e=t.W++,n=jn(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),Ba(t,n),e=new La(t,t.l,e),e.L=2,e.A=od(jn(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=Mb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Va(e)}Rb(t)}function ud(t){t.g&&(zy(t),t.g.cancel(),t.g=null)}function Tb(t){ud(t),t.u&&(k.clearTimeout(t.u),t.u=null),Gl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function ld(t){if(!hb(t.i)&&!t.m){t.m=!0;var e=t.Na;Sa||z0(),Aa||(Sa(),Aa=!0),Oy.add(e,t),t.C=0}}function kj(t,e){return fb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ka(ze(t.Na,t,e),Ab(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new La(this,this.l,t),s=this.s;if(this.U&&(s?(s=L0(s),V0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Db(this,i,e),n=jn(this.I),ue(n,"RID",t),ue(n,"CVER",22),this.F&&ue(n,"X-HTTP-Session-Id",this.F),Ba(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(wb(s)))+"&"+e:this.o&&$y(n,this.o,s)),jy(this.i,i),this.bb&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.aa=!0,Iy(i,n,null)):Iy(i,n,e),this.H=2}}else this.H==3&&(t?x0(this,t):this.j.length==0||hb(this.i)||x0(this))};function x0(t,e){var n;e?n=e.m:n=t.W++;let r=jn(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.V),Ba(t,r),t.o&&t.s&&$y(r,t.o,t.s),n=new La(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Db(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jy(t.i,n),Iy(n,r,e)}function Ba(t,e){t.na&&Ay(t.na,function(n,r){ue(e,r,n)}),t.h&&ob({},function(n,r){ue(e,r,n)})}function Db(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ze(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Aj(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Cb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sa||z0(),Aa||(Sa(),Aa=!0),Oy.add(e,t),t.A=0}}function qy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ka(ze(t.Ma,t),Ab(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,bb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ka(ze(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tt(10),ud(this),bb(this))};function zy(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function bb(t){t.g=new La(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jn(t.wa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.V),ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ue(e,"TO",t.qa),ue(e,"TYPE","xmlhttp"),Ba(t,e),t.o&&t.s&&$y(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=od(jn(e)),n.u=null,n.S=!0,nb(n,t)}w.ib=function(){this.v!=null&&(this.v=null,ud(this),qy(this),tt(19))};function Gl(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function Sb(t,e){var n=null;if(t.g==e){Gl(t),zy(t),t.g=null;var r=2}else if(Ey(t.i,e))n=e.F,pb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=nd(),je(r,new Z0(r,n)),ld(t)}else Cb(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&kj(t,e)||r==2&&qy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hi(t,5);break;case 4:hi(t,10);break;case 3:hi(t,6);break;default:hi(t,2)}}}function Ab(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ze(t.pb,t);n||(n=new fi("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||ql(n,"https"),od(n)),Rj(n.toString(),r)}else tt(2);t.H=0,t.h&&t.h.za(e),Rb(t),Tb(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tt(2)):(this.l.info("Failed to ping google.com"),tt(1))};function Rb(t){if(t.H=0,t.ma=[],t.h){let e=gb(t.i);(e.length!=0||t.j.length!=0)&&(w0(t.ma,e),w0(t.ma,t.j),t.i.i.length=0,by(t.j),t.j.length=0),t.h.ya()}}function xb(t,e,n){var r=n instanceof fi?jn(n):new fi(n);if(r.g!="")e&&(r.g=e+"."+r.g),zl(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fi(null);r&&ql(s,r),e&&(s.g=e),i&&zl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ue(r,n,e),ue(r,"VER",t.ra),Ba(t,r),r}function Mb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new fe(new Ua({ob:n})):new fe(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nb(){}w=Nb.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Wl(){if(Rs&&!(10<=Number(J2)))throw Error("Environmental error: no available transport.")}Wl.prototype.g=function(t,e){return new mt(t,e)};function mt(t,e){Pe.call(this),this.g=new Eb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ms(this)}Oe(mt,Pe);mt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=xb(t,null,t.Y),ld(t)};mt.prototype.close=function(){Hy(this.g)};mt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Py(t),t=n);e.j.push(new Dj(e.fb++,t)),e.H==3&&ld(e)};mt.prototype.N=function(){this.g.h=null,delete this.j,Hy(this.g),delete this.g,mt.$.N.call(this)};function Pb(t){Vy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Oe(Pb,Vy);function Ob(){Uy.call(this),this.status=1}Oe(Ob,Uy);function Ms(t){this.g=t}Oe(Ms,Nb);Ms.prototype.Ba=function(){je(this.g,"a")};Ms.prototype.Aa=function(t){je(this.g,new Pb(t))};Ms.prototype.za=function(t){je(this.g,new Ob)};Ms.prototype.ya=function(){je(this.g,"b")};function Fj(){this.blockSize=-1}function Ut(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Oe(Ut,Fj);Ut.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ut.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cy(this,r),i=0;break}}this.h=i,this.i+=e};Ut.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Lj={};function Gy(t){return-128<=t&&128>t?Q2(t,function(e){return new ne([e|0],0>e?-1:0)}):new ne([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return As;if(0>t)return Ue(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ty;return new ne(e,0)}function kb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(kb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=As,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=un(Math.pow(e,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var Ty=4294967296,As=Gy(0),Dy=Gy(1),M0=Gy(16777216);w=ne.prototype;w.ea=function(){if(At(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ty+r)*e,e*=Ty}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Un(this))return"0";if(At(this))return"-"+Ue(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=Ql(n,e).g;n=Kl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Un(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Un(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}w.X=function(t){return t=Kl(this,t),At(t)?-1:Un(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ne(n,~t.h).add(Dy)}w.abs=function(){return At(this)?Ue(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ne(n,n[n.length-1]&-2147483648?-1:0)};function Kl(t,e){return t.add(Ue(e))}w.R=function(t){if(Un(this)||Un(t))return As;if(At(this))return At(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(At(t))return Ue(this.R(Ue(t)));if(0>this.X(M0)&&0>t.X(M0))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Hl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Hl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ne(n,0)};function Hl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wa(t,e){this.g=t,this.h=e}function Ql(t,e){if(Un(e))throw Error("division by zero");if(Un(t))return new wa(As,As);if(At(t))return e=Ql(Ue(t),e),new wa(Ue(e.g),Ue(e.h));if(At(e))return e=Ql(t,Ue(e)),new wa(Ue(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dy,r=e;0>=r.X(t);)n=N0(n),r=N0(r);var i=bs(n,1),s=bs(r,1);for(r=bs(r,2),n=bs(n,2);!Un(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=bs(r,1),n=bs(n,1)}return e=Kl(t,i.R(e)),new wa(i,e)}for(i=As;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(e);At(o)||0<o.X(t);)n-=r,s=un(n),o=s.R(e);Un(s)&&(s=Dy),i=i.add(s),t=Kl(t,o)}return new wa(i,t)}w.gb=function(t){return Ql(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ne(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ne(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ne(n,this.h^t.h)};function N0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ne(n,t.h)}function bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ne(i,t.h)}Wl.prototype.createWebChannel=Wl.prototype.g;mt.prototype.send=mt.prototype.u;mt.prototype.open=mt.prototype.m;mt.prototype.close=mt.prototype.close;rd.NO_ERROR=0;rd.TIMEOUT=8;rd.HTTP_ERROR=6;J0.COMPLETE="complete";X0.EventType=Fa;Fa.OPEN="a";Fa.CLOSE="b";Fa.ERROR="c";Fa.MESSAGE="d";Pe.prototype.listen=Pe.prototype.O;fe.prototype.listenOnce=fe.prototype.P;fe.prototype.getLastError=fe.prototype.Sa;fe.prototype.getLastErrorCode=fe.prototype.Ia;fe.prototype.getStatus=fe.prototype.da;fe.prototype.getResponseJson=fe.prototype.Wa;fe.prototype.getResponseText=fe.prototype.ja;fe.prototype.send=fe.prototype.ha;fe.prototype.setWithCredentials=fe.prototype.Oa;Ut.prototype.digest=Ut.prototype.l;Ut.prototype.reset=Ut.prototype.reset;Ut.prototype.update=Ut.prototype.j;ne.prototype.add=ne.prototype.add;ne.prototype.multiply=ne.prototype.R;ne.prototype.modulo=ne.prototype.gb;ne.prototype.compare=ne.prototype.X;ne.prototype.toNumber=ne.prototype.ea;ne.prototype.toString=ne.prototype.toString;ne.prototype.getBits=ne.prototype.D;ne.fromNumber=un;ne.fromString=kb;var Fb=jt.createWebChannelTransport=function(){return new Wl},Lb=jt.getStatEventTarget=function(){return nd()},dd=jt.ErrorCode=rd,Vb=jt.EventType=J0,Ub=jt.Event=pi,Wy=jt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},C5=jt.FetchXmlHttpFactory=Ua,$a=jt.WebChannel=X0,jb=jt.XhrIo=fe,Bb=jt.Md5=Ut,gi=jt.Integer=ne;var $b="@firebase/firestore";var ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");var Js="10.7.0";var _i=new mr("@firebase/firestore");function Ha(){return _i.logLevel}function C(t,...e){if(_i.logLevel<=W.DEBUG){let n=e.map(N_);_i.debug(`Firestore (${Js}): ${t}`,...n)}}function Bn(t,...e){if(_i.logLevel<=W.ERROR){let n=e.map(N_);_i.error(`Firestore (${Js}): ${t}`,...n)}}function Vs(t,...e){if(_i.logLevel<=W.WARN){let n=e.map(N_);_i.warn(`Firestore (${Js}): ${t}`,...n)}}function N_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function N(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Bn(e),new Error(e)}function ae(t,e){t||N()}function U(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=class extends gt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var md=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ke.UNAUTHENTICATED))}shutdown(){}},Xy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ev=class{constructor(e){this.t=e,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new md(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new ke(e)}},tv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Vj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Vj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var V=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&N(),r===void 0?r=e.length-n:r>e.length-n&&N(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},de=class t extends vd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new D(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vt=class t extends vd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new D(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new D(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var A=class t{constructor(e){this.path=e}static fromPath(e){return new t(de.fromString(e))}static fromName(e){return new t(de.fromString(e).popFirst(5))}static empty(){return new t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new de(e.slice()))}};var sv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};sv.UNKNOWN_ID=-1;function jj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Ii(i,A.empty(),e)}function Bj(t){return new Ii(t.readTime,t.key,-1)}var Ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(V.min(),A.empty(),-1)}static max(){return new t(V.max(),A.empty(),-1)}};function $j(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=A.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var Hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ov=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oc(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==Hj)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var _=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function ac(t){return t.name==="IndexedDbTransactionError"}var _S=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Zd(t){return t==null}function Qa(t){return t===0&&1/t==-1/0}function qj(t){return typeof t=="number"&&Number.isInteger(t)&&!Qa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],F5=[...zj,"documentOverlays"],Gj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wj=Gj,L5=[...Wj,"indexConfiguration","indexState","indexEntries"];function Hb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ci(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ge=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw N();let e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw N()}get value(){throw N()}get color(){throw N()}get left(){throw N()}get right(){throw N()}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _d(this.data.getIterator())}getIteratorFrom(e){return new _d(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},_d=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rt=class t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Id=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Id("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nt.EMPTY_BYTE_STRING=new nt("");var Kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(ae(!!t),typeof t=="string"){let e=0,n=Kj.exec(t);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pe(t.seconds),nanos:pe(t.nanos)}}function pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}function P_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function O_(t){let e=t.mapValue.fields.__previous_value__;return P_(e)?O_(e):e}function Ya(t){let e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}var av=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},wd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P_(t)?4:wS(t)?9007199254740991:10:N()}function mn(t,e){if(t===e)return!0;let n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Sr(i.timestampValue),a=Sr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ar(i.bytesValue).isEqual(Ar(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pe(i.geoPointValue.latitude)===pe(s.geoPointValue.latitude)&&pe(i.geoPointValue.longitude)===pe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pe(i.integerValue)===pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=pe(i.doubleValue),a=pe(s.doubleValue);return o===a?Qa(o)===Qa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Hb(o)!==Hb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!mn(o[c],a[c])))return!1;return!0}(t,e);default:return N()}}function Za(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function js(t,e){if(t===e)return 0;let n=wi(t),r=wi(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=pe(s.integerValue||s.doubleValue),c=pe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(Ya(t),Ya(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ar(s),c=Ar(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ee(a[u],c[u]);if(l!==0)return l}return ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ee(pe(s.latitude),pe(o.latitude));return a!==0?a:ee(pe(s.longitude),pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=js(a[u],c[u]);if(l)return l}return ee(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===hd.mapValue&&o===hd.mapValue)return 0;if(s===hd.mapValue)return 1;if(o===hd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ee(c[d],l[d]);if(h!==0)return h;let f=js(a[c[d]],u[l[d]]);if(f!==0)return f}return ee(c.length,l.length)}(t.mapValue,e.mapValue);default:throw N()}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=Sr(t),r=Sr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Bs(t){return cv(t)}function cv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return A.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=cv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${cv(n.fields[o])}`;return i+"}"}(t.mapValue):N()}function zb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uv(t){return!!t&&"integerValue"in t}function k_(t){return!!t&&"arrayValue"in t}function Gb(t){return!!t&&"nullValue"in t}function Wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pd(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=za(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ci(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(za(this.value))}};function ES(t){let e=[];return Ci(t.fields,(n,r)=>{let i=new vt([n]);if(pd(r)){let s=ES(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rt(e)}var Bt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,V.min(),V.min(),V.min(),yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,V.min(),V.min(),yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,V.min(),V.min(),yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,n){this.position=e,this.inclusive=n}};function Kb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=A.comparator(A.fromName(o.referenceValue),n.key):r=js(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var Hs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Qj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ed=class{},Se=class t extends Ed{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dv(e,n,r):n==="array-contains"?new pv(e,r):n==="in"?new gv(e,r):n==="not-in"?new mv(e,r):n==="array-contains-any"?new yv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hv(e,r):new fv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return N()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$t=class t extends Ed{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return TS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function TS(t){return t.op==="and"}function DS(t){return Yj(t)&&TS(t)}function Yj(t){for(let e of t.filters)if(e instanceof $t)return!1;return!0}function lv(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+Bs(t.value);if(DS(t))return t.filters.map(e=>lv(e)).join(",");{let e=t.filters.map(n=>lv(n)).join(",");return`${t.op}(${e})`}}function CS(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&CS(o,i.filters[a]),!0):!1}(t,e):void N()}function bS(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(t):t instanceof $t?function(n){return n.op.toString()+" {"+n.getFilters().map(bS).join(" ,")+"}"}(t):"Filter"}var dv=class extends Se{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){let n=A.comparator(e.key,this.key);return this.matchesComparison(n)}},hv=class extends Se{constructor(e,n){super(e,"in",n),this.keys=SS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fv=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=SS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}var pv=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return k_(n)&&Za(n.arrayValue,this.value)}},gv=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}},mv=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}},yv=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!k_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}};var vv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function Yb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vv(t,e,n,r,i,s,o)}function F_(t){let e=U(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bs(r)).join(",")),e.ce=n}return e.ce}function L_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function _v(t){return A.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ei=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Zj(t,e,n,r,i,s,o,a){return new Ei(t,e,n,r,i,s,o,a)}function Jd(t){return new Ei(t)}function Zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return t.collectionGroup!==null}function Ga(t){let e=U(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(vt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Hs(s,r))}),n.has(vt.keyField().canonicalString())||e.le.push(new Hs(vt.keyField(),r))}return e.le}function fn(t){let e=U(t);return e.he||(e.he=Jj(e,Ga(t))),e.he}function Jj(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Hs(i.field,s)});let n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e){let n=t.filters.concat([e]);return new Ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wv(t,e,n){return new Ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return L_(fn(t),fn(e))&&t.limitType===e.limitType}function RS(t){return`${F_(fn(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bS(i)).join(", ")}]`),Zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):A.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ga(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=Kb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ga(r),i)||r.endAt&&!function(o,a,c){let u=Kb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ga(r),i))}(t,e)}function Xj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xS(t){return(e,n)=>{let r=!1;for(let i of Ga(t)){let s=eB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eB(t,e,n){let r=t.field.isKeyField()?A.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?js(c,u):N()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}var Rr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return IS(this.inner)}size(){return this.innerSize}};var tB=new ge(A.comparator);function $n(){return tB}var MS=new ge(A.comparator);function qa(...t){let e=MS;for(let n of t)e=e.insert(n.key,n);return e}function NS(t){let e=MS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return Wa()}function PS(){return Wa()}function Wa(){return new Rr(t=>t.toString(),(t,e)=>t.isEqual(e))}var nB=new ge(A.comparator),rB=new Ke(A.comparator);function K(...t){let e=rB;for(let n of t)e=e.add(n);return e}var iB=new Ke(ee);function sB(){return iB}function OS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(e)?"-0":e}}function kS(t){return{integerValue:""+t}}function oB(t,e){return qj(e)?kS(e):OS(t,e)}var qs=class{constructor(){this._=void 0}};function aB(t,e,n){return t instanceof zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&P_(s)&&(s=O_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xr?LS(t,e):t instanceof Mr?VS(t,e):function(i,s){let o=FS(i,s),a=Jb(o)+Jb(i.Ie);return uv(o)&&uv(i.Ie)?kS(a):OS(i.serializer,a)}(t,e)}function cB(t,e,n){return t instanceof xr?LS(t,e):t instanceof Mr?VS(t,e):n}function FS(t,e){return t instanceof Gs?function(r){return uv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var zs=class extends qs{},xr=class extends qs{constructor(e){super(),this.elements=e}};function LS(t,e){let n=US(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Mr=class extends qs{constructor(e){super(),this.elements=e}};function VS(t,e){let n=US(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var Gs=class extends qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function Jb(t){return pe(t.integerValue||t.doubleValue)}function US(t){return k_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Td=class{constructor(e,n){this.field=e,this.transform=n}};function uB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xr&&i instanceof xr||r instanceof Mr&&i instanceof Mr?Us(r.elements,i.elements,mn):r instanceof Gs&&i instanceof Gs?mn(r.Ie,i.Ie):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var Ev=class{constructor(e,n){this.version=e,this.transformResults=n}},pn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ws=class{};function jS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ja(t.key,pn.none()):new Ti(t.key,t.data,pn.none());{let n=t.data,r=yt.empty(),i=new Ke(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yn(t.key,r,new Rt(i.toArray()),pn.none())}}function lB(t,e,n){t instanceof Ti?function(i,s,o){let a=i.value.clone(),c=eS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yn?function(i,s,o){if(!gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=eS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(BS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof Ti?function(s,o,a,c){if(!gd(s.precondition,o))return a;let u=s.value.clone(),l=tS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yn?function(s,o,a,c){if(!gd(s.precondition,o))return a;let u=tS(s.fieldTransforms,c,o),l=o.data;return l.setAll(BS(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=FS(r.transform,i||null);s!=null&&(n===null&&(n=yt.empty()),n.set(r.field,s))}return n||null}function Xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(s,o)=>uB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ti=class extends Ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yn=class extends Ws{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function BS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eS(t,e,n){let r=new Map;ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cB(o,a,n[i]))}return r}function tS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,aB(s,o,e))}return r}var Ja=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Tv=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Dv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&lB(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=PS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=jS(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>Xb(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>Xb(n,r))}},Cv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length);let i=function(){return nB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var bv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Sv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ce,J;function hB(t){switch(t){default:return N();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function $S(t){if(t===void 0)return Bn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ce.OK:return m.OK;case Ce.CANCELLED:return m.CANCELLED;case Ce.UNKNOWN:return m.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return m.INTERNAL;case Ce.UNAVAILABLE:return m.UNAVAILABLE;case Ce.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ce.NOT_FOUND:return m.NOT_FOUND;case Ce.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ce.ABORTED:return m.ABORTED;case Ce.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ce.DATA_LOSS:return m.DATA_LOSS;default:return N()}}(J=Ce||(Ce={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var nS=null;function fB(){return new TextEncoder}var pB=new gi([4294967295,4294967295],0);function rS(t){let e=fB().encode(t),n=new Bb;return n.update(e),new Uint8Array(n.digest())}function iS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,s],0)]}var Av=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yi(`Invalid padding: ${n}`);if(r<0)throw new yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=gi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare(pB)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=rS(e),[r,i]=iS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=rS(e),[r,i]=iS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(V.min(),i,new ge(ee),$n(),K())}},Xa=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,K(),K(),K())}};var Fs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Cd=class{constructor(e,n){this.targetId=e,this.fe=n}},bd=class{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Sd=class{constructor(){this.ge=0,this.pe=oS(),this.ye=nt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=K(),n=K(),r=K();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:N()}}),new Xa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=oS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Rv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=$n(),this.Qe=sS(),this.Ke=new ge(ee)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:N()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(_v(s))if(r===0){let o=new A(s.path);this.We(n,o,Bt.newNoDocument(o,V.min()))}else ae(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}nS?.tt(function(l,d,h,f,g){var y,v,T,$,X,re;let me={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ie=d.unchangedNames;return ie&&(me.bloomFilter={applied:g===0,hashCount:(y=ie?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:($=(T=(v=ie?.bits)===null||v===void 0?void 0:v.bitmap)===null||T===void 0?void 0:T.length)!==null&&$!==void 0?$:0,padding:(re=(X=ie?.bits)===null||X===void 0?void 0:X.padding)!==null&&re!==void 0?re:0,mightContain:ot=>{var Hn;return(Hn=f?.mightContain(ot))!==null&&Hn!==void 0&&Hn}}),me}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ar(r).toUint8Array()}catch(c){if(c instanceof Id)return Vs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Av(o,i,s)}catch(c){return Vs(c instanceof yi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&_v(a.target)){let c=new A(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Bt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=K();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Dd(e,n,this.Ke,this.qe,r);return this.qe=$n(),this.Qe=sS(),this.Ke=new ge(ee),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ke(ee),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sS(){return new ge(A.comparator)}function oS(){return new ge(A.comparator)}var gB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yB=(()=>({and:"AND",or:"OR"}))(),xv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Mv(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function Ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vB(t,e){return Ad(t,e.toTimestamp())}function gn(t){return ae(!!t),V.fromTimestamp(function(n){let r=Sr(n);return new Be(r.seconds,r.nanos)}(t))}function V_(t,e){return function(r){return new de(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function qS(t){let e=de.fromString(t);return ae(KS(e)),e}function Nv(t,e){return V_(t.databaseId,e.path)}function Ky(t,e){let n=qS(e);if(n.get(1)!==t.databaseId.projectId)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(zS(n))}function Pv(t,e){return V_(t.databaseId,e)}function _B(t){let e=qS(t);return e.length===4?de.emptyPath():zS(e)}function Ov(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zS(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aS(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function IB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:N()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ae(l===void 0||typeof l=="string"),nt.fromBase64String(l||"")):(ae(l===void 0||l instanceof Uint8Array),nt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:$S(u.code);return new D(l,u.message||"")}(o);n=new bd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ky(t,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):V.min(),a=new yt({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Fs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ky(t,r.document),s=r.readTime?gn(r.readTime):V.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ky(t,r.document),s=r.removedTargetIds||[];n=new Fs([],s,i,null)}else{if(!("filter"in e))return N();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Sv(i,s),a=r.targetId;n=new Cd(a,o)}}return n}function wB(t,e){let n;if(e instanceof Ti)n={update:aS(t,e.key,e.value)};else if(e instanceof Ja)n={delete:Nv(t,e.key)};else if(e instanceof yn)n={update:aS(t,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof Tv))return N();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw N()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:N()}(t,e.precondition)),n}function EB(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gn(i.updateTime):gn(s);return o.isEqual(V.min())&&(o=gn(s)),new Ev(o,i.transformResults||[])}(n,e))):[]}function TB(t,e){return{documents:[Pv(t,e.path)]}}function DB(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Pv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return WS($t.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Ps(d.field),direction:SB(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=Mv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function CB(t){let e=_B(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=GS(d);return h instanceof $t&&DS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Hs(Os(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Zd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new $s(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new $s(f,h)}(n.endAt)),Zj(e,i,o,s,a,"F",c,u)}function bB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return N()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Os(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Os(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return N()}}(t):t.fieldFilter!==void 0?function(n){return Se.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $t.create(n.compositeFilter.filters.map(r=>GS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return N()}}(n.compositeFilter.op))}(t):N()}function SB(t){return gB[t]}function AB(t){return mB[t]}function RB(t){return yB[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Os(t){return vt.fromServerFormat(t.fieldPath)}function WS(t){return t instanceof Se?function(n){if(n.op==="=="){if(Wb(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wb(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:AB(n.op),value:n.value}}}(t):t instanceof $t?function(n){let r=n.getFilters().map(i=>WS(i));return r.length===1?r[0]:{compositeFilter:{op:RB(n.op),filters:r}}}(t):N()}function xB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ec=class t{constructor(e,n,r,i,s=V.min(),o=V.min(),a=nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kv=class{constructor(e){this.ut=e}};function MB(t){let e=CB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wv(e,e.limit,"L"):e}var Rd=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(pe(e.integerValue));else if("doubleValue"in e){let r=pe(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Qa(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ar(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?wS(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):N()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),A.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Rd.St=new Rd;var Fv=class{constructor(){this.on=new Lv}addToCollectionParentIndex(e,n){return this.on.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}deleteAllFieldIndexes(e){return _.resolve()}createTargetIndexes(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Ii.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}},Lv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(de.comparator)).toArray()}};var U5=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var tc=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Vv=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Uv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Rt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){let i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$n(),o=Wa(),a=function(){return Wa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof yn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Ka(l.mutation,u,l.mutation.getFieldMask(),Be.now())):o.set(u.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Uv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Wa(),i=new ge((o,a)=>o-a),s=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Rt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||K()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=PS();l.forEach(h=>{if(!s.has(h)){let f=jS(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return A.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(mi()),a=-1,c=s;return o.next(u=>_.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,K())).next(l=>({batchId:a,changes:NS(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=qa();return this.indexManager.getCollectionParents(e,s).next(a=>_.forEach(a,c=>{let u=function(d,h){return new Ei(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Bt.newInvalidDocument(l)))});let a=qa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Ka(l.mutation,u,Rt.empty(),Be.now()),eh(n,u)&&(a=a.insert(c,u))}),a})}};var Bv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return _.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gn(i.createTime)}}(n)),_.resolve()}getNamedQuery(e,n){return _.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:MB(i.bundledQuery),readTime:gn(i.readTime)}}(n)),_.resolve()}};var $v=class{constructor(){this.overlays=new ge(A.comparator),this.lr=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mi();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){let i=mi(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ge((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=mi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=mi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return _.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bv(n,r));let s=this.lr.get(n);s===void 0&&(s=K(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var nc=class{constructor(){this.hr=new Ke(be.Pr),this.Ir=new Ke(be.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new be(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new be(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new A(new de([])),r=new be(n,e),i=new be(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new A(new de([])),r=new be(n,e),i=new be(n,e+1),s=K();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new be(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},be=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return A.comparator(e.key,n.key)||ee(e.gr,n.gr)}static Tr(e,n){return ee(e.gr,n.gr)||A.comparator(e.key,n.key)}};var Hv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ke(be.Pr)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Dv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new be(n,0),i=new be(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(ee);return n.forEach(i=>{let s=new be(i,0),o=new be(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),_.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;A.isDocumentKey(s)||(s=s.child(""));let o=new be(new A(s),0),a=new Ke(ee);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),_.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return _.forEach(n.mutations,i=>{let s=new be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new be(n,0),i=this.yr.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qv=class{constructor(e){this.Cr=e,this.docs=function(){return new ge(A.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$n(),o=n.path,a=new A(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$j(Bj(l),r)<=0||(i.has(l.key)||eh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){N()}vr(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zv(this)}getSize(e){return _.resolve(this.size)}},zv=class extends Vv{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Gv=class{constructor(e){this.persistence=e,this.Fr=new Rr(n=>F_(n),L_),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Mr=0,this.Or=new nc,this.targetCount=0,this.Nr=tc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),_.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.kn(n),_.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),_.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Or.containsKey(n))}};var Wv=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new _S(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Gv(this),this.indexManager=new Fv,this.remoteDocumentCache=function(i){return new qv(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new kv(n),this.Kr=new Bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $v,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Hv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new Kv(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return _.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Kv=class extends ov{constructor(e){super(),this.currentSequenceNumber=e}},Qv=class t{constructor(e){this.persistence=e,this.Gr=new nc,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw N()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),_.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Hr,r=>{let i=A.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return _.or([()=>_.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Yv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=K(),i=K();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Zv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Zv;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ha()<=W.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),_.resolve()):(Ha()<=W.DEBUG&&C("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ha()<=W.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):_.resolve())}zi(e,n){if(Zb(n))return _.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wv(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=K(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,wv(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return Zb(n)||i.isEqual(V.min())?_.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?_.resolve(null):(Ha()<=W.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.Xi(e,o,n,jj(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ke(xS(e));return n.forEach((i,s)=>{eh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ha()<=W.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ii.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Xv=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ge(ee),this.ns=new Rr(s=>F_(s),L_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function NB(t,e,n,r){return new Xv(t,e,n,r)}function QS(t,e){return p(this,null,function*(){let n=U(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=K();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function PB(t,e){let n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=_.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(y=>{let v=u.docVersions.get(g);ae(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=K();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YS(t){let e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function OB(t,e){let n=U(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(nt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,v,T){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=$n(),u=K();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(kB(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(V.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function kB(t,e,n){let r=K(),i=K();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$n();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(V.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function FB(t,e){let n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LB(t,e){let n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ec(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function e_(t,e,n){return p(this,null,function*(){let r=U(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ac(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function cS(t,e,n){let r=U(t),i=V.min(),s=K();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=U(c),h=d.ns.get(l);return h!==void 0?_.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:K())).next(a=>(VB(r,Xj(e),a),{documents:a,ls:s})))}function VB(t,e,n){let r=t.rs.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var xd=class{constructor(){this.activeTargetIds=sB()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var t_=class{constructor(){this.eo=new xd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var n_=class{ro(e){}shutdown(){}};var Md=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var fd=null;function Qy(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}var UB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var r_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var We="WebChannelConnection",i_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Qy(),c=this.So(n,r);C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Vs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=UB[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Qy();return new Promise((o,a)=>{let c=new jb;c.setWithCredentials(!0),c.listenOnce(Vb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dd.NO_ERROR:let l=c.getResponseJson();C(We,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case dd.TIMEOUT:C(We,`RPC '${e}' ${s} timed out`),a(new D(m.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:let d=c.getStatus();if(C(We,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(v){let T=v.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(T)>=0?T:m.UNKNOWN}(f.status);a(new D(g,f.message))}else a(new D(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new D(m.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{C(We,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);C(We,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=Qy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Fb(),a=Lb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");C(We,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new r_({co:v=>{f?C(We,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(C(We,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(We,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),y=(v,T,$)=>{v.listen(T,X=>{try{$(X)}catch(re){setTimeout(()=>{throw re},0)}})};return y(d,$a.EventType.OPEN,()=>{f||C(We,`RPC '${e}' stream ${i} transport opened.`)}),y(d,$a.EventType.CLOSE,()=>{f||(f=!0,C(We,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),y(d,$a.EventType.ERROR,v=>{f||(f=!0,Vs(We,`RPC '${e}' stream ${i} transport errored:`,v),g.Ro(new D(m.UNAVAILABLE,"The operation could not be completed")))}),y(d,$a.EventType.MESSAGE,v=>{var T;if(!f){let $=v.data[0];ae(!!$);let X=$,re=X.error||((T=X[0])===null||T===void 0?void 0:T.error);if(re){C(We,`RPC '${e}' stream ${i} received error:`,re);let me=re.status,ie=function(Pr){let dc=Ce[Pr];if(dc!==void 0)return $S(dc)}(me),ot=re.message;ie===void 0&&(ie=m.INTERNAL,ot="Unknown error status: "+me+" with message "+re.message),f=!0,g.Ro(new D(ie,ot)),d.close()}else C(We,`RPC '${e}' stream ${i} received:`,$),g.Vo($)}}),y(a,Ub.STAT_EVENT,v=>{v.stat===Wy.PROXY?C(We,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Wy.NOPROXY&&C(We,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function Yy(){return typeof document<"u"?document:null}function th(t){return new xv(t,!0)}var Nd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Pd=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Nd(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new D(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},s_=class extends Pd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=IB(this.serializer,e),r=function(s){if(!("targetChange"in s))return V.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?V.min():o.readTime?gn(o.readTime):V.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Ov(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=_v(c)?{documents:TB(s,c)}:{query:DB(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=HS(s,o.resumeToken);let u=Mv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(V.min())>0){a.readTime=Ad(s,o.snapshotVersion.toTimestamp());let u=Mv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=bB(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Ov(this.serializer),n.removeTarget=e,this.e_(n)}},o_=class extends Pd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=EB(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.I_(r,n)}return ae(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Ov(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>wB(this.serializer,r))};this.e_(n)}};var a_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(m.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(m.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var c_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Bn(n),this.f_=!1):C("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var u_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){bi(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=U(c);u.C_.add(4),yield cc(u),u.M_.set("Unknown"),u.C_.delete(4),yield nh(u)})}(this))}))}),this.M_=new c_(r,i)}};function nh(t){return p(this,null,function*(){if(bi(t))for(let e of t.v_)yield e(!0)})}function cc(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function ZS(t,e){let n=U(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),B_(n)?j_(n):Xs(n).Ho()&&U_(n,e))}function JS(t,e){let n=U(t),r=Xs(n);n.D_.delete(e),r.Ho()&&XS(n,e),n.D_.size===0&&(r.Ho()?r.Zo():bi(n)&&n.M_.set("Unknown"))}function U_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).u_(e)}function XS(t,e){t.x_.Oe(e),Xs(t).c_(e)}function j_(t){t.x_=new Rv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.M_.g_()}function B_(t){return bi(t)&&!Xs(t).jo()&&t.D_.size>0}function bi(t){return U(t).C_.size===0}function eA(t){t.x_=void 0}function jB(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{U_(t,e)})})}function BB(t,e){return p(this,null,function*(){eA(t),B_(t)?(t.M_.w_(e),j_(t)):t.M_.set("Unknown")})}function $B(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof bd&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Od(t,r)}else if(e instanceof Fs?t.x_.$e(e):e instanceof Cd?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(V.min()))try{let r=yield YS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(nt.EMPTY_BYTE_STRING,l.snapshotVersion)),XS(s,c);let d=new ec(l.target,c,u,l.sequenceNumber);U_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Od(t,r)}})}function Od(t,e,n){return p(this,null,function*(){if(!ac(e))throw e;t.C_.add(1),yield cc(t),t.M_.set("Offline"),n||(n=()=>YS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield nh(t)}))})}function tA(t,e){return e().catch(n=>Od(t,n,e))}function rh(t){return p(this,null,function*(){let e=U(t),n=Nr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;HB(e);)try{let i=yield FB(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,qB(e,i)}catch(i){yield Od(e,i)}nA(e)&&rA(e)})}function HB(t){return bi(t)&&t.b_.length<10}function qB(t,e){t.b_.push(e);let n=Nr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function nA(t){return bi(t)&&!Nr(t).jo()&&t.b_.length>0}function rA(t){Nr(t).start()}function zB(t){return p(this,null,function*(){Nr(t).E_()})}function GB(t){return p(this,null,function*(){let e=Nr(t);for(let n of t.b_)e.P_(n.mutations)})}function WB(t,e,n){return p(this,null,function*(){let r=t.b_.shift(),i=Cv.from(r,e,n);yield tA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield rh(t)})}function KB(t,e){return p(this,null,function*(){e&&Nr(t).h_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return hB(o)&&o!==m.ABORTED}(i.code)){let s=r.b_.shift();Nr(r).Yo(),yield tA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield rh(r)}})}(t,e)),nA(t)&&rA(t)})}function uS(t,e){return p(this,null,function*(){let n=U(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=bi(n);n.C_.add(3),yield cc(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield nh(n)})}function QB(t,e){return p(this,null,function*(){let n=U(t);e?(n.C_.delete(2),yield nh(n)):e||(n.C_.add(2),yield cc(n),n.M_.set("Unknown"))})}function Xs(t){return t.O_||(t.O_=function(n,r,i){let s=U(n);return s.A_(),new s_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:jB.bind(null,t),Io:BB.bind(null,t),a_:$B.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.O_.Yo(),B_(t)?j_(t):t.M_.set("Unknown")):(yield t.O_.stop(),eA(t))}))),t.O_}function Nr(t){return t.N_||(t.N_=function(n,r,i){let s=U(n);return s.A_(),new o_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:zB.bind(null,t),Io:KB.bind(null,t),T_:GB.bind(null,t),I_:WB.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.N_.Yo(),yield rh(t)):(yield t.N_.stop(),t.b_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var l_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $_(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),ac(t))return new D(m.UNAVAILABLE,`${e}: ${t}`);throw t}var kd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new ge(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Fd=class{constructor(){this.B_=new ge(A.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):N():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ks=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,kd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var d_=class{constructor(){this.k_=void 0,this.listeners=[]}},h_=class{constructor(){this.queries=new Rr(e=>RS(e),Xd),this.onlineState="Unknown",this.q_=new Set}};function iA(t,e){return p(this,null,function*(){let n=U(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new d_),i)try{s.k_=yield n.onListen(r)}catch(o){let a=$_(o,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&H_(n)})}function sA(t,e){return p(this,null,function*(){let n=U(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function YB(t,e){let n=U(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&H_(n)}function ZB(t,e,n){let r=U(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function H_(t){t.q_.forEach(e=>{e.next()})}var Ld=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Vd=class{constructor(e){this.key=e}},Ud=class{constructor(e){this.key=e}},f_=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=K(),this.mutatedKeys=K(),this._a=xS(e),this.aa=new kd(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Fd,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=eh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),v=!0):this.ha(h,f)||(r.track({type:2,doc:f}),v=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,g){let y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return y(f)-y(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Ks(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Fd,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=K(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Ud(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Vd(r))}),n}da(e){this.ia=e.ls,this.oa=K();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ks.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},p_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},g_=class{constructor(e){this.key=e,this.Ra=!1}},m_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Rr(a=>RS(a),Xd),this.fa=new Map,this.ga=new Set,this.pa=new ge(A.comparator),this.ya=new Map,this.wa=new nc,this.Sa={},this.ba=new Map,this.Da=tc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function JB(t,e){return p(this,null,function*(){let n=c$(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield LB(n.localStore,fn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield XB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ZS(n.remoteStore,o)}return i})}function XB(t,e,n,r,i){return p(this,null,function*(){t.va=(d,h,f)=>function(y,v,T,$){return p(this,null,function*(){let X=v.view.ca(T);X.Zi&&(X=yield cS(y.localStore,v.query,!1).then(({documents:ot})=>v.view.ca(ot,X)));let re=$&&$.targetChanges.get(v.targetId),me=$&&$.targetMismatches.get(v.targetId)!=null,ie=v.view.applyChanges(X,y.isPrimaryClient,re,me);return dS(y,v.targetId,ie.Ta),ie.snapshot})}(t,d,h,f);let s=yield cS(t.localStore,e,!0),o=new f_(e,s.ls),a=o.ca(s.documents),c=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);dS(t,n,u.Ta);let l=new p_(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function e$(t,e){return p(this,null,function*(){let n=U(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Xd(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield e_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JS(n.remoteStore,r.targetId),y_(n,r.targetId)}).catch(oc))):(y_(n,r.targetId),yield e_(n.localStore,r.targetId,!0))})}function t$(t,e,n){return p(this,null,function*(){let r=u$(t);try{let i=yield function(o,a){let c=U(o),u=Be.now(),l=a.reduce((f,g)=>f.add(g.key),K()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=$n(),y=K();return c.ss.getEntries(f,l).next(v=>{g=v,g.forEach((T,$)=>{$.isValidDocument()||(y=y.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(v=>{d=v;let T=[];for(let $ of a){let X=dB($,d.get($.key).overlayedDocument);X!=null&&T.push(new yn($.key,X,ES(X.value.mapValue),pn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(v=>{h=v;let T=v.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(f,v.batchId,T)})}).then(()=>({batchId:h.batchId,changes:NS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new ge(ee)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield uc(r,i.changes),yield rh(r.remoteStore)}catch(i){let s=$_(i,"Failed to persist write");n.reject(s)}})}function oA(t,e){return p(this,null,function*(){let n=U(t);try{let r=yield OB(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ae(o.Ra):i.removedDocuments.size>0&&(ae(o.Ra),o.Ra=!1))}),yield uc(n,r,e)}catch(r){yield oc(r)}})}function lS(t,e,n){let r=U(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=U(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&H_(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function n$(t,e,n){return p(this,null,function*(){let r=U(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new ge(A.comparator);o=o.insert(s,Bt.newNoDocument(s,V.min()));let a=K().add(s),c=new Dd(V.min(),new Map,new ge(ee),o,a);yield oA(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),q_(r)}else yield e_(r.localStore,e,!1).then(()=>y_(r,e,n)).catch(oc)})}function r$(t,e){return p(this,null,function*(){let n=U(t),r=e.batch.batchId;try{let i=yield PB(n.localStore,e);cA(n,r,null),aA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield uc(n,i)}catch(i){yield oc(i)}})}function i$(t,e,n){return p(this,null,function*(){let r=U(t);try{let i=yield function(o,a){let c=U(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ae(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);cA(r,e,n),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield uc(r,i)}catch(i){yield oc(i)}})}function aA(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function cA(t,e,n){let r=U(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||uA(t,r)})}function uA(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(JS(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),q_(t))}function dS(t,e,n){for(let r of n)r instanceof Vd?(t.wa.addReference(r.key,e),s$(t,r)):r instanceof Ud?(C("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||uA(t,r.key)):N()}function s$(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ga.add(r),q_(t))}function q_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new A(de.fromString(e)),r=t.Da.next();t.ya.set(r,new g_(n)),t.pa=t.pa.insert(n,r),ZS(t.remoteStore,new ec(fn(Jd(n.path)),r,"TargetPurposeLimboResolution",_S._e))}}function uc(t,e,n){return p(this,null,function*(){let r=U(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Yv.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=U(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(u,h=>_.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ac(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,y)}}})}(r.localStore,s))})}function o$(t,e){return p(this,null,function*(){let n=U(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield QS(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new D(m.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield uc(n,r._s)}})}function a$(t,e){let n=U(t),r=n.ya.get(e);if(r&&r.Ra)return K().add(r.key);{let i=K(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function c$(t){let e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n$.bind(null,e),e.Va.a_=YB.bind(null,e.eventManager),e.Va.Fa=ZB.bind(null,e.eventManager),e}function u$(t){let e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i$.bind(null,e),e}var jd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return NB(this.persistence,new Jv,e.initialUser,this.serializer)}createPersistence(e){return new Wv(Qv.jr,this.serializer)}createSharedClientState(e){return new t_}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var v_=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,this.syncEngine),yield QB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new h_}()}createDatastore(e){let n=th(e.databaseInfo.databaseId),r=function(s){return new i_(s)}(e.databaseInfo);return function(s,o,a,c){return new a_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new u_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lS(this.syncEngine,n,0),function(){return Md.D()?new Md:new n_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new m_(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=U(n);C("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield cc(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Bd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var __=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ke.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){C("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(C("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=$_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Zy(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield QS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hS(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield d$(t);C("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>uS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uS(e.remoteStore,s)),t._onlineComponents=e})}function l$(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function d$(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!l$(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),yield Zy(t,new jd)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Zy(t,new jd);return t._offlineComponents})}function lA(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield hS(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield hS(t,new v_))),t._onlineComponents})}function h$(t){return lA(t).then(e=>e.syncEngine)}function I_(t){return p(this,null,function*(){let e=yield lA(t),n=e.eventManager;return n.onListen=JB.bind(null,e.syncEngine),n.onUnlisten=e$.bind(null,e.syncEngine),n})}function f$(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new Bd({next:h=>{o.enqueueAndForget(()=>sA(s,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new D(m.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new D(m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Ld(Jd(a.path),l,{includeMetadataChanges:!0,J_:!0});return iA(s,d)}(yield I_(t),t.asyncQueue,e,n,r)})),r.promise}function dA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fS=new Map;function hA(t,e,n){if(!n)throw new D(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p$(t,e,n,r){if(e===!0&&r===!0)throw new D(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pS(t){if(!A.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gS(t){if(A.isDocumentKey(t))throw new D(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":N()}function xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ih(t);throw new D(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var $d=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new D(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new D(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new D(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $d({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new D(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $d(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jy;switch(r.type){case"firstParty":return new nv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=fS.get(n);r&&(C("ComponentProvider","Removing Datastore"),fS.delete(n),r.terminate())}(this),Promise.resolve()}};function fA(t,e,n,r={}){var i;let s=(t=xt(t,Qs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ke.MOCK_USER;else{a=lC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ke(u)}t._authCredentials=new Xy(new md(a,c))}}var Ys=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Qe=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},br=class t extends Ys{constructor(e,n,r){super(e,n,Jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new A(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function g$(t,e,...n){if(t=Re(t),hA("collection","path",e),t instanceof Qs){let r=de.fromString(e,...n);return gS(r),new br(t,null,r)}{if(!(t instanceof Qe||t instanceof br))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return gS(r),new br(t.firestore,null,r)}}function z_(t,e,...n){if(t=Re(t),arguments.length===1&&(e=yd.newId()),hA("doc","path",e),t instanceof Qs){let r=de.fromString(e,...n);return pS(r),new Qe(t,null,new A(r))}{if(!(t instanceof Qe||t instanceof br))throw new D(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return pS(r),new Qe(t.firestore,t instanceof br?t.converter:null,new A(r))}}var w_=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Nd(this,"async_queue_retry"),this.iu=()=>{let n=Yy();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=Yy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=Yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new dn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ac(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=l_.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&N()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function mS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var vn=class extends Qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new w_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gA(this),this._firestoreClient.terminate()}};function pA(t,e){let n=typeof t=="object"?t:ws(),r=typeof t=="string"?t:e||"(default)",i=ua(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=uC("firestore");s&&fA(i,...s)}return i}function G_(t){return t._firestoreClient||gA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gA(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new av(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,dA(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new __(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nt.fromBase64String(e))}catch(n){throw new D(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Di=class{constructor(e){this._methodName=e}};var ic=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}};var m$=/^__.*__$/,E_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ti(e,this.data,n,this.fieldTransforms)}},Hd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw N()}}var qd=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(mA(this.Iu)&&m$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},T_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||th(e)}pu(e,n,r,i=!1){return new qd({Iu:e,methodName:n,gu:r,path:vt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sh(t){let e=t._freezeSettings(),n=th(t._databaseId);return new T_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yA(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);W_("Data must be an object, but it was:",o,r);let a=_A(r,o),c,u;if(s.merge)c=new Rt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=b_(e,d,n);if(!o.contains(h))throw new D(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wA(l,h)||l.push(h)}c=new Rt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new E_(new yt(a),c,u)}var zd=class t extends Di{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function vA(t,e,n){return new qd({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var D_=class extends Di{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=vA(this,e,!0),r=this.yu.map(s=>Si(s,n)),i=new xr(r);return new Td(e.path,i)}isEqual(e){return this===e}},C_=class extends Di{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=vA(this,e,!0),r=this.yu.map(s=>Si(s,n)),i=new Mr(r);return new Td(e.path,i)}isEqual(e){return this===e}};function y$(t,e,n,r){let i=t.pu(1,e,n);W_("Data must be an object, but it was:",i,r);let s=[],o=yt.empty();Ci(r,(c,u)=>{let l=K_(e,c,n);u=Re(u);let d=i.Ru(l);if(u instanceof zd)s.push(l);else{let h=Si(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Rt(s);return new Hd(o,a,i.fieldTransforms)}function v$(t,e,n,r,i,s){let o=t.pu(1,e,n),a=[b_(e,r,n)],c=[i];if(s.length%2!=0)throw new D(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(b_(e,s[h])),c.push(s[h+1]);let u=[],l=yt.empty();for(let h=a.length-1;h>=0;--h)if(!wA(u,a[h])){let f=a[h],g=c[h];g=Re(g);let y=o.Ru(f);if(g instanceof zd)u.push(f);else{let v=Si(g,y);v!=null&&(u.push(f),l.set(f,v))}}let d=new Rt(u);return new Hd(l,d,o.fieldTransforms)}function _$(t,e,n,r=!1){return Si(n,t.pu(r?4:3,e))}function Si(t,e){if(IA(t=Re(t)))return W_("Unsupported field value:",e,t),_A(t,e);if(t instanceof Di)return function(r,i){if(!mA(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Si(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:Ad(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ad(i.serializer,s)}}if(r instanceof ic)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rc)return{bytesValue:HS(i.serializer,r._byteString)};if(r instanceof Qe){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:V_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${ih(r)}`)}(t,e)}function _A(t,e){let n={};return IS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(t,(r,i)=>{let s=Si(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof ic||t instanceof rc||t instanceof Qe||t instanceof Di)}function W_(t,e,n){if(!IA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ih(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function b_(t,e,n){if((e=Re(e))instanceof Zs)return e._internalPath;if(typeof e=="string")return K_(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}var I$=new RegExp("[~\\*/\\[\\]]");function K_(t,e,n){if(e.search(I$)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zs(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new D(m.INVALID_ARGUMENT,a+t+c)}function wA(t,e){return t.some(n=>n.isEqual(e))}var Wd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new S_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Q_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},S_=class extends Wd{data(){return super.data()}};function Q_(t,e){return typeof e=="string"?K_(t,e):e instanceof Zs?e._internalPath:e._delegate._internalPath}function w$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new D(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sc=class{},A_=class extends sc{};function EA(t,e,...n){let r=[];e instanceof sc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof R_).length,a=s.filter(c=>c instanceof Kd).length;if(o>1||o>0&&a>0)throw new D(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Kd=class t extends A_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return DA(e._query,n),new Ys(e.firestore,e.converter,Iv(e._query,n))}_parse(e){let n=sh(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new D(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){vS(d,l);let f=[];for(let g of d)f.push(yS(c,s,g));h={arrayValue:{values:f}}}else h=yS(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||vS(d,l),h=_$(a,o,d,l==="in"||l==="not-in");return Se.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function TA(t,e,n){let r=e,i=Q_("where",t);return Kd._create(i,r,n)}var R_=class t extends sc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)DA(o,c),o=Iv(o,c)}(e._query,n),new Ys(e.firestore,e.converter,Iv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function yS(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new D(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&n.indexOf("/")!==-1)throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(de.fromString(n));if(!A.isDocumentKey(r))throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zb(t,new A(r))}if(n instanceof Qe)return zb(t,n._key);throw new D(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function vS(t,e){if(!Array.isArray(t)||t.length===0)throw new D(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DA(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new D(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var x_=class{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw N()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ci(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ic(pe(e.latitude),pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=O_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){let n=Sr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=de.fromString(e);ae(KS(r));let i=new wd(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function CA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qd=class extends Wd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Q_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends Qd{data(e={}){return super.data(e)}},M_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:E$(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function E$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function bA(t){t=xt(t,Qe);let e=xt(t.firestore,vn);return f$(G_(e),t._key).then(n=>MA(e,t,n))}var Yd=class extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}};function SA(t,e,n){t=xt(t,Qe);let r=xt(t.firestore,vn),i=CA(t.converter,e,n);return oh(r,[yA(sh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pn.none())])}function AA(t,e,n,...r){t=xt(t,Qe);let i=xt(t.firestore,vn),s=sh(i),o;return o=typeof(e=Re(e))=="string"||e instanceof Zs?v$(s,"updateDoc",t._key,e,n,r):y$(s,"updateDoc",t._key,e),oh(i,[o.toMutation(t._key,pn.exists(!0))])}function RA(t){return oh(xt(t.firestore,vn),[new Ja(t._key,pn.none())])}function xA(t,e){let n=xt(t.firestore,vn),r=z_(t),i=CA(t.converter,e);return oh(n,[yA(sh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then(()=>r)}function Y_(t,...e){var n,r,i;t=Re(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||mS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(mS(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Qe)u=xt(t.firestore,vn),l=Jd(t._key.path),c={next:d=>{e[o]&&e[o](MA(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=xt(t,Ys);u=xt(d.firestore,vn),l=d._query;let h=new Yd(u);c={next:f=>{e[o]&&e[o](new M_(u,h,d,f))},error:e[o+1],complete:e[o+2]},w$(t._query)}return function(h,f,g,y){let v=new Bd(y),T=new Ld(f,v,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return iA(yield I_(h),T)})),()=>{v.Na(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return sA(yield I_(h),T)}))}}(G_(u),l,a,c)}function oh(t,e){return function(r,i){let s=new dn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return t$(yield h$(r),i,s)})),s.promise}(G_(t),e)}function MA(t,e,n){let r=n.docs.get(e._key),i=new Yd(t);return new Qd(t,i,e._key,r,new vi(n.hasPendingWrites,n.fromCache),e.converter)}function NA(...t){return new D_("arrayUnion",t)}function PA(...t){return new C_("arrayRemove",t)}(function(e,n=!0){(function(i){Js=i})(_r),vr(new St("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new vn(new ev(r.getProvider("auth-internal")),new iv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new D(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xe($b,"4.4.0",e),xe($b,"4.4.0","esm2017")})();var ah=function(){return ah=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ah.apply(this,arguments)};var C$={includeMetadataChanges:!1};function Z_(t,e){return e===void 0&&(e=C$),new z(function(n){var r=Y_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function OA(t){return Z_(t,{includeMetadataChanges:!0})}function kA(t,e){return e===void 0&&(e={}),OA(t).pipe(H(function(n){return J_(n,e)}))}function J_(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:ah(ah({},r),(n={},n[e.idField]=t.id,n))}function FA(t){return Z_(t,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function LA(t,e){return e===void 0&&(e={}),FA(t).pipe(H(function(n){return n.map(function(r){return J_(r,e)})}))}var lc=class{constructor(e){return e}},VA="firestore",X_=class{constructor(){return la(VA)}};var eI=new M("angularfire2.firestore-instances");function b$(t,e){let n=gl(VA,t,e);return n&&new lc(n)}function S$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new lc(r)}}var A$={provide:X_,deps:[[new et,eI]]},R$={provide:lc,useFactory:b$,deps:[[new et,eI],Fn]},x$=(()=>{class t{constructor(){xe("angularfire",si.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Tt({type:t});static \u0275inj=Et({providers:[R$,A$]})}return t})();function uK(t,...e){return{ngModule:x$,providers:[{provide:eI,useFactory:S$(t),multi:!0,deps:[Z,Ee,Ds,oi,[new et,_a],[new et,Ts],...e]}]}}var lK=De(LA,!0);var dK=De(kA,!0);var hK=De(xA,!0);var fK=De(PA,!0),pK=De(NA,!0);var gK=De(RA,!0);var mK=De(z_,!0);var yK=De(bA,!0);var vK=De(pA,!0);var _K=De(EA,!0);var IK=De(SA,!0);var wK=De(AA,!0);var EK=De(TA,!0);var CK="*";function BA(t,e){return{type:7,name:t,definitions:e,options:{}}}function tI(t,e=null){return{type:4,styles:e,timings:t}}function bK(t,e=null){return{type:2,steps:t,options:e}}function ch(t){return{type:6,styles:t,offset:null}}function uh(t,e,n){return{type:0,name:t,styles:e,options:n}}function nI(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}var UA=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},jA=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},SK="!";var $A=["toast-component",""];function M$(t,e){if(t&1){let n=Bp();ht(0,"button",5),ur("click",function(){sp(n);let i=ft();return op(i.remove())}),ht(1,"span",6),xn(2,"\xD7"),Lt()()}}function N$(t,e){if(t&1&&(ku(0),xn(1),Fu()),t&2){let n=ft(2);Ae(),Mn("[",n.duplicatesCount+1,"]")}}function P$(t,e){if(t&1&&(ht(0,"div"),xn(1),tr(2,N$,2,1,"ng-container",4),Lt()),t&2){let n=ft();Rn(n.options.titleClass),ar("aria-label",n.title),Ae(),Mn(" ",n.title," "),Ae(),qe("ngIf",n.duplicatesCount)}}function O$(t,e){if(t&1&&cr(0,"div",7),t&2){let n=ft();Rn(n.options.messageClass),qe("innerHTML",n.message,bp)}}function k$(t,e){if(t&1&&(ht(0,"div",8),xn(1),Lt()),t&2){let n=ft();Rn(n.options.messageClass),ar("aria-label",n.message),Ae(),Mn(" ",n.message," ")}}function F$(t,e){if(t&1&&(ht(0,"div"),cr(1,"div",9),Lt()),t&2){let n=ft();Ae(),Zr("width",n.width+"%")}}function L$(t,e){if(t&1){let n=Bp();ht(0,"button",5),ur("click",function(){sp(n);let i=ft();return op(i.remove())}),ht(1,"span",6),xn(2,"\xD7"),Lt()()}}function V$(t,e){if(t&1&&(ku(0),xn(1),Fu()),t&2){let n=ft(2);Ae(),Mn("[",n.duplicatesCount+1,"]")}}function U$(t,e){if(t&1&&(ht(0,"div"),xn(1),tr(2,V$,2,1,"ng-container",4),Lt()),t&2){let n=ft();Rn(n.options.titleClass),ar("aria-label",n.title),Ae(),Mn(" ",n.title," "),Ae(),qe("ngIf",n.duplicatesCount)}}function j$(t,e){if(t&1&&cr(0,"div",7),t&2){let n=ft();Rn(n.options.messageClass),qe("innerHTML",n.message,bp)}}function B$(t,e){if(t&1&&(ht(0,"div",8),xn(1),Lt()),t&2){let n=ft();Rn(n.options.messageClass),ar("aria-label",n.message),Ae(),Mn(" ",n.message," ")}}function $$(t,e){if(t&1&&(ht(0,"div"),cr(1,"div",9),Lt()),t&2){let n=ft();Ae(),Zr("width",n.width+"%")}}var rI=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},iI=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},sI=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new he;_activate=new he;_manualClose=new he;_resetTimeout=new he;_countDuplicate=new he;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},eo=class{toastId;config;message;title;toastType;toastRef;_onTap=new he;_onAction=new he;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},HA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},qA=new M("ToastConfig"),oI=class extends iI{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},H$=(()=>{class t{_document=I(Te);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aI=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},q$=(()=>{class t{_overlayContainer=I(H$);_componentFactoryResolver=I(os);_appRef=I(Nn);_document=I(Te);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new oI(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new aI(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zA=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=E(E({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=E(E({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return E(E({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(dt.HTML,r));let l=new sI(c),d=new eo(this.index,s,u,i,n,l),h=[{provide:eo,useValue:d}],f=Ee.create({providers:h,parent:this._injector}),g=new rI(s.toastComponent,f),y=c.attach(g,s.newestOnTop);l.componentInstance=y.instance;let v={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:y};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{v.toastRef.activate()})),this.toasts.push(v),v}static \u0275fac=function(r){return new(r||t)(b(qA),b(q$),b(Ee),b(ug),b(Z))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z$=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=se(E({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=se(E({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=se(E({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(ce(zA),ce(eo),ce(Z))};static \u0275cmp=To({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&ur("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&($p("@flyInOut",i.state),Rn(i.toastClasses),Zr("display",i.displayStyle))},standalone:!0,features:[No],attrs:$A,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&tr(0,M$,3,0,"button",0)(1,P$,3,5,"div",1)(2,O$,1,3,"div",2)(3,k$,2,4,"div",3)(4,F$,2,2,"div",4),r&2&&(qe("ngIf",i.options.closeButton),Ae(),qe("ngIf",i.title),Ae(),qe("ngIf",i.message&&i.options.enableHtml),Ae(),qe("ngIf",i.message&&!i.options.enableHtml),Ae(),qe("ngIf",i.options.progressBar))},dependencies:[Jp],encapsulation:2,data:{animation:[BA("flyInOut",[uh("inactive",ch({opacity:0})),uh("active",ch({opacity:1})),uh("removed",ch({opacity:0})),nI("inactive => active",tI("{{ easeTime }}ms {{ easing }}")),nI("active => removed",tI("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),G$=se(E({},HA),{toastComponent:z$}),jK=(t={})=>ss([{provide:qA,useValue:{default:G$,config:t}}]);var W$=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(ce(zA),ce(eo),ce(Nn))};static \u0275cmp=To({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&ur("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Rn(i.toastClasses),Zr("display",i.displayStyle))},standalone:!0,features:[No],attrs:$A,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&tr(0,L$,3,0,"button",0)(1,U$,3,5,"div",1)(2,j$,1,3,"div",2)(3,B$,2,4,"div",3)(4,$$,2,2,"div",4),r&2&&(qe("ngIf",i.options.closeButton),Ae(),qe("ngIf",i.title),Ae(),qe("ngIf",i.message&&i.options.enableHtml),Ae(),qe("ngIf",i.message&&!i.options.enableHtml),Ae(),qe("ngIf",i.options.progressBar))},dependencies:[Jp],encapsulation:2})}return t})(),BK=se(E({},HA),{toastComponent:W$});export{E as a,se as b,p as c,z as d,he as e,le as f,H as g,TR as h,Tw as i,R as j,S as k,Et as l,M as m,b as n,To as o,Tt as p,Qr as q,Vw as r,rs as s,sp as t,op as u,fp as v,et as w,eM as x,Ee as y,y9 as z,oN as A,Xt as B,mo as C,So as D,Ae as E,ce as F,ut as G,Z as H,bP as I,qe as J,Zr as K,qP as L,tr as M,I9 as N,w9 as O,E9 as P,T9 as Q,ht as R,Lt as S,cr as T,Bp as U,Mo as V,ur as W,ft as X,D9 as Y,xn as Z,CO as _,Mn as $,C9 as aa,No as ba,b9 as ca,S9 as da,A9 as ea,Nn as fa,cs as ga,Te as ha,e3 as ia,dk as ja,aD as ka,_3 as la,Vt as ma,pr as na,l1 as oa,nn as pa,ED as qa,L3 as ra,V3 as sa,U3 as ta,CK as ua,bK as va,ch as wa,UA as xa,jA as ya,SK as za,uC as Aa,lC as Ba,gt as Ca,Re as Da,St as Ea,vr as Fa,ua as Ga,_r as Ha,ws as Ia,xe as Ja,si as Ka,gl as La,la as Ma,Ts as Na,Ds as Oa,De as Pa,Fn as Qa,oi as Ra,C6 as Sa,b6 as Ta,va as Ua,_a as Va,_5 as Wa,I5 as Xa,w5 as Ya,E5 as Za,g$ as _a,lc as $a,uK as ab,lK as bb,dK as cb,hK as db,fK as eb,pK as fb,gK as gb,mK as hb,yK as ib,vK as jb,_K as kb,IK as lb,wK as mb,EK as nb,zA as ob,jK as pb};
